{"version":3,"sources":["Components/NavBar/NavRight.tsx","services/auth.ts","Components/StyledComponents/IconsButtons.ts","Components/NavBar/NavLeft.tsx","Components/NavBar/NavBar.tsx","Components/SearchBar/SearchBar.tsx","Components/StyledComponents/FormComponents.ts","services/users.ts","Components/CodeGround/CodeGroundCard.tsx","services/codeground.ts","Pages/Home.tsx","Components/Profile/Dashboard.tsx","Components/Profile/Header.tsx","Pages/Profile.tsx","Components/CodeGround/CodeEditor.tsx","Components/CodeGround/CodeGroundTitle.tsx","Components/CodeGround/CodeGroundBar.tsx","Pages/CodeGround.tsx","Components/Forms/SignUpForm.tsx","Pages/SignUp.tsx","Components/Forms/LoginForm.tsx","Pages/Login.tsx","Pages/NotFound.tsx","Pages/ProtectedRoute.tsx","services/cloudinary.ts","Components/Profile/NewPicForm.tsx","Components/Profile/ProfileEdit.tsx","Components/Profile/FavouriteDashboard.tsx","Pages/Favourites.tsx","App.tsx","index.tsx"],"names":["NavList","styled","div","ProfileIcon","img","NavRight","setUser","user","handleLogout","history","axios","delete","then","resp","data","catch","err","console","log","NavLink","onClick","size","to","_id","style","marginLeft","src","avatar","path","WrapperButton","button","Logo","IconWrapper","NavLeft","alt","Navbar","nav","Title","h2","NavBar","props","StyledSearchBar","Input","input","Select","select","Label","label","SmallContainer","displayInfo","Small","small","error","FormContainer","Form","form","InputGroup","Button","getUser","id","get","ResultFieldContainer","article","ThumbnailWrapper","DetailsWrapper","OptionsWrapper","StyledIframe","iframe","Span","span","Br","br","H4","h4","LinkSpan","Link","StyledThumbsUp","ThumbsUp","liked","StyledHeart","Heart","favourited","GroundCard","codeGround","userOwnsGround","useState","like","setLike","favourite","setFavourite","deleted","setDeleted","srcDoc","css","html","js","handleFavourite","userId","codeGroundId","res","addToFavourites","handleDelete","handleFork","title","creator","post","forkCodeGround","ground","push","username","loading","sandbox","frameBorder","likeCodeGround","numberOfLikesFromProps","likes","length","calcNumberOfLikes","comments","HomeContainer","ResultsContainerOuter","SearchBarContainer","type","name","placeholder","value","search","onChange","e","handleSearch","currentTarget","htmlFor","handleOrder","defaultValue","handleSearchBy","Loading","h1","Home","state","codeGrounds","option","order","setState","handleSelect","sortResults","orderBy","ordered","sort","a","b","createdAt","displayResults","filtered","rest","filter","toLowerCase","includes","map","favourites","prevProps","prevState","this","React","Component","DashboardContainer","GroundsContainerOuter","Dashboard","profileUser","setCodeGrounds","useEffect","HeaderContainer","section","H1","ProfilePic","Header","ProfileContainer","TabsContainer","TabContainer","H2","h3","Profile","useParams","url","useRouteMatch","setProfileUser","userIsProfileOwner","undefined","EditorContainer","collapsed","EditorTitle","CodeEditor","language","displayName","toggleCollapsed","onBeforeChange","editor","className","options","lineWrapping","mode","gutters","lineNumbers","theme","tabSize","scrollbarStyle","TitleContainer","readOnly","Svg","svg","SvgLeft","CodeGroundTitle","setTitle","setVertical","editable","setEditable","handleEdit","Prev","viewBox","width","height","fill","d","onBlur","StyledCodeBar","StyledNew","Plus","StyledSave","Save","CodeGroundBar","handleSave","CodeGroundAndTitleWrapper","CodeGroundWrapper","vertical","EditorsWrapper","IframeWrapper","OuterWrapper","CodeGround","setNotSavedCodeGround","notSavedCodeGround","setHtml","setCss","setJs","setSrcDoc","setCreator","redirectToLogin","setRedirectToLogin","window","localStorage","getItem","fetchOne","timeout","setTimeout","clearTimeout","put","updateCodeGround","forked","createCodeGround","setItem","prevRedirect","flex","emailRegexp","RegExp","passwordRegexp","SignUpForm","setUsername","password","setPassword","password2","setPassword2","email","setEmail","errors","setErrors","errorMessage","setErrorMessage","inputRef","useRef","current","focus","validate","currentErrors","test","handleChange","handleBlur","isValid","onSubmit","preventDefault","Object","keys","signup","keyValue","hasOwnProperty","ref","SignUp","LoginForm","login","message","required","Login","Error","NotFound","ProtectedRoute","permission","redirectPath","hasCodeGround","component","pathname","render","service","create","baseURL","withCredentials","errorHandler","Cloudinary","uploadPic","pic","NewPicForm","file","setFile","uploading","setUploading","FormData","append","picPath","encType","target","files","ProfileEdit","FavouritesDashboard","FavouriteDashboard","AppContainer","main","App","UserProp","exact","match","params","Favourites","from","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2735c546.chunk.js","sourcesContent":["import React, { FC } from 'react';\nimport styled from 'styled-components';\nimport { NavLink } from './NavBar';\nimport { Link } from 'react-router-dom';\nimport { SignOutAlt, SignInAlt } from '@styled-icons/fa-solid';\nimport { NavBarProps } from './NavBar';\nimport { logout } from '../../services/auth';\n\nconst NavList = styled.div`\n  margin-right: 2em;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-end;\n  width: 30vw;\n`;\n\nconst ProfileIcon = styled.img`\n  position: relative;\n  border-radius: 50%;\n  width: 1.8em;\n  &:hover {\n    transition: 1s;\n    color: #f4f6fc;\n    box-shadow: 0px 0px 0.3em 0.3em #233dff;\n  }\n`;\n\nconst NavRight: FC<NavBarProps> = ({ setUser, user, history }) => {\n  const handleLogout = () => {\n    logout()\n      .then((resp) => {\n        console.log(resp);\n        setUser(null);\n        // history.push('/home');\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const signedInNav = () => {\n    return (\n      <>\n        <NavLink onClick={handleLogout}>\n          Log Out <SignOutAlt size={'1em'} />\n        </NavLink>\n\n        <Link to={`/profile/${user!._id}`} style={{ marginLeft: '1em' }}>\n          <ProfileIcon src={user?.avatar.path} />\n        </Link>\n      </>\n    );\n  };\n  const anonynousNav = () => {\n    return (\n      <>\n        <Link to=\"/signup\">\n          <NavLink>Join</NavLink>\n        </Link>\n\n        <Link to=\"/login\">\n          <NavLink>\n            Login <SignInAlt size={'1em'} />\n          </NavLink>\n        </Link>\n      </>\n    );\n  };\n\n  return <NavList>{user ? signedInNav() : anonynousNav()}</NavList>;\n};\n\nexport default NavRight;\n","import axios, { AxiosResponse } from 'axios';\nimport { UserDocument } from '../../../src/models/User';\n\ninterface Message {\n  message: string;\n}\n\ninterface LoginResponse extends AxiosResponse<UserDocument | Message> {}\n\nexport const signup = (username: string, email: string, password: string) => {\n  return axios\n    .post('/api/auth/signup', { username, email, password })\n    .then((resp: LoginResponse) => resp.data)\n    .catch((err) => err);\n};\n\nexport const login = (username: string, password: string) => {\n  return axios\n    .post('/api/auth/login', { username, password })\n    .then((resp: LoginResponse) => {\n      return resp.data;\n    })\n    .catch((err) => {\n      console.log(err);\n      return err;\n    });\n};\n\nexport const logout = () => {\n  return axios\n    .delete('/api/auth/logout')\n    .then((resp) => resp.data)\n    .catch((err) => err);\n};\n","import styled from 'styled-components';\n\nexport const WrapperButton = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  margin-top: 0.5em;\n  background: transparent;\n  border: 0;\n  color: inherit;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { Plus, Home } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\n\nconst Logo = styled.img`\n  height: 2em;\n  margin-left: 2em;\n  margin-right: 1.5em;\n  border-radius: 50%;\n`;\n\nconst NavList = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-start;\n  width: 33vw;\n`;\n\nconst IconWrapper = styled(WrapperButton)`\n  margin: 0em 1.5em;\n  padding: 0.3em;\n  border-radius: 50%;\n  &:hover {\n    box-shadow: 0px 0px 0.3em 0.3em #233dff;\n  }\n  transition: box-shadow 1s;\n`;\n\nexport default function NavLeft() {\n  return (\n    <NavList>\n      <Logo\n        src=\"https://res.cloudinary.com/doh6rpdke/image/upload/v1620936255/code-ground/assets/Untitled_design_qhrefh.png\"\n        alt=\"logo\"\n      />\n      <Link to=\"/\">\n        <IconWrapper>\n          <Home size={'1.4rem'} />\n        </IconWrapper>\n      </Link>\n      <Link to=\"/code-ground\">\n        <IconWrapper>\n          <Plus size={'1.4rem'} />\n        </IconWrapper>\n      </Link>\n    </NavList>\n  );\n}\n","import React, { Dispatch, SetStateAction } from 'react';\nimport { UserDocument } from '../../../../src/models/User';\nimport styled from 'styled-components';\nimport NavRight from './NavRight';\nimport NavLeft from './NavLeft';\nimport { RouteComponentProps } from 'react-router-dom';\n\nexport const NavLink = styled.button`\n  font-size: inherit;\n  border: 0px;\n  background: transparent;\n  color: inherit;\n  padding: 0.3em 2.5em;\n  border-radius: 0.2em;\n  cursor: pointer;\n  border: 1px solid transparent;\n  &:hover {\n    background-color: #233dff;\n  }\n  transition: background-color 1s;\n`;\n\nexport const Navbar = styled.nav`\n  background: #131522;\n  max-height: 5%;\n  color: #f4f6fc;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid gray;\n  padding: 0.2em;\n`;\n\nconst Title = styled.h2`\n  color: #f4f6fc;\n`;\n\nexport interface NavBarProps extends RouteComponentProps {\n  user: UserDocument | null;\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst NavBar: React.FC<NavBarProps> = (props) => {\n  return (\n    <Navbar>\n      <NavLeft />\n      <Title>Codegrounds</Title>\n      <NavRight {...props} />\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","import React, { ChangeEvent } from 'react';\nimport styled from 'styled-components';\n\nconst StyledSearchBar = styled.div`\n  color: inherit;\n  border: 0px;\n  padding: 0.4em 0.6em;\n  text-align: center;\n  background: #2b2d3b;\n  width: 90%;\n  margin: 1em;\n  display: flex;\n  align-items: center;\n  border-radius: 0.2em;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: stretch;\n    font-size: 2em;\n  }\n`;\n\nconst Input = styled.input`\n  color: inherit;\n  border: 1px solid white;\n  padding: 0.4em 0.6em;\n  text-align: center;\n  background: #131522;\n  flex-grow: 5;\n  border-radius: 0.2em;\n  margin-right: 1em;\n  font-size: 1rem;\n\n  @media (max-width: 768px) {\n    font-size: 1em;\n    margin: 0.2em 0em 0.6em 0em;\n  }\n`;\n\nconst Select = styled.select`\n  font-size: 0.8em;\n  color: inherit;\n  margin-left: 0.5em;\n  padding: 0.3em 0.5em;\n  overflow: hidden;\n  border-radius: 0.2em;\n  background: #131522;\n  border: 0px;\n\n  @media (max-width: 768px) {\n    font-size: 1em;\n    margin: 0.2em 0em 0.2em 0em;\n  }\n`;\n\nconst Label = styled.label`\n  font-size: 0.8em;\n  margin: 0em 0em 0em 1em;\n\n  @media (max-width: 768px) {\n    font-size: 1em;\n    margin: 0.2em 0em 0.2em 0em;\n  }\n`;\n\ninterface SearchBarProps {\n  handleSearch: (value: string) => void;\n  handleSearchBy: (value: string) => void;\n  handleOrder: (value: string) => void;\n  search: string;\n}\n\nexport default function SearchBar(props: SearchBarProps) {\n  const handleInputChange = (e: ChangeEvent<HTMLInputElement>) =>\n    props.handleSearch(e.currentTarget.value);\n\n  const handleSearchByChange = (e: ChangeEvent<HTMLSelectElement>) => {\n    props.handleSearchBy(e.currentTarget.value);\n  };\n\n  const handleOrderByChange = (e: ChangeEvent<HTMLSelectElement>) => {\n    props.handleOrder(e.currentTarget.value);\n  };\n\n  return (\n    <StyledSearchBar>\n      <Input\n        type=\"text\"\n        name=\"search\"\n        id=\"search\"\n        placeholder=\"Search here\"\n        value={props.search}\n        onChange={handleInputChange}\n      />\n      <Label htmlFor=\"filter\">Order by:</Label>\n      <Select\n        name=\"filter\"\n        id=\"filter\"\n        onChange={handleOrderByChange}\n        defaultValue=\"last added\"\n        //style={{ marginRight: '1em' }}\n      >\n        <option value=\"recent\">Most Recent</option>\n        <option value=\"oldest\">Oldest First</option>\n        <option value=\"liked\">Most Liked</option>\n        <option value=\"commented\">Most Commented</option>\n      </Select>\n      <Label htmlFor=\"category\">Search by:</Label>\n      <Select\n        name=\"category\"\n        id=\"category\"\n        onChange={handleSearchByChange}\n        defaultValue=\"title\"\n      >\n        <option value=\"title\">Title</option>\n        <option value=\"user\">Username</option>\n        <option value=\"html\">HTML</option>\n        <option value=\"css\">CSS</option>\n        <option value=\"js\">JS</option>\n      </Select>\n    </StyledSearchBar>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Label = styled.label`\n  margin-top: 1.5em;\n`;\n\ntype SmallContainerProps = {\n  displayInfo: boolean;\n};\n\nexport const SmallContainer = styled.div<SmallContainerProps>`\n  position: absolute;\n  height: 4.2em;\n  width: 8em;\n  border-radius: 0.2em;\n  padding: 0.2em 0.5em;\n  background-color: #233dff;\n  right: -11em;\n  bottom: -1.3em;\n  ${(props) => (!props.displayInfo ? 'display: none;' : null)};\n`;\n\nexport const Small = styled.small`\n  margin-top: 0.4em;\n  text-align: center;\n  font-style: italic;\n  font-size: 0.8em;\n`;\n\ntype StyledInputProps = {\n  error?: boolean;\n};\n\nexport const Input = styled.input<StyledInputProps>`\n  font-size: 1rem;\n  padding: 0.5em 2em;\n  text-align: center;\n  margin-top: 0.4em;\n  border-radius: 0.2em;\n  border: 0.15em solid transparent;\n  &:focus {\n    border: 0.15em solid rgb(0, 132, 255);\n    box-shadow: 0px 0px 0.2em 0.2em rgb(0, 132, 255);\n  }\n  ${(props) =>\n    props.error\n      ? 'border: .1em solid red; box-shadow: 0px 0px 0.15em 0.15em red'\n      : typeof props.error === 'undefined'\n      ? 'border: .1em solid transparent;'\n      : 'border: .1em solid green; box-shadow: 0px 0px 0.15em 0.15em green'};\n`;\n\nexport const FormContainer = styled.div`\n  width: 100%;\n  height: 80vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Form = styled.form`\n  padding: 2em;\n  /* background: #050a30; */\n  border-radius: 0.3em;\n  flex-basis: 0;\n  flex-grow: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const InputGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const Button = styled.button`\n  margin-top: 2em;\n  font-size: inherit;\n  border: 0px;\n  background: transparent;\n  color: inherit;\n  padding: 0.3em 2.5em;\n  border-radius: 0.2em;\n  cursor: pointer;\n  border: 0.1em solid white;\n  &:hover {\n    background-color: #233dff;\n    transition: background-color 1s;\n  }\n  &:focus {\n    background-color: #233dff;\n    transition: background-color 1s;\n  }\n`;\n","import axios from 'axios';\nimport { UserDocument } from '../../../src/models/User';\n\nexport const getUser = (id: string): Promise<UserDocument | null> => {\n  return axios\n    .get(`/api/users/${id}`)\n    .then((resp) => {\n      return resp.data;\n    })\n    .catch((err: Error) => console.log(err));\n};\n\nexport const fetchUserFavourites = (userId: string) => {\n  return axios\n    .get(`/api/users/${userId}/favourites/`)\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n\nexport const addToFavourites = (userId: string, codeGroundId: string) => {\n  return axios\n    .get(`/api/users/${userId}/favourites/${codeGroundId}`)\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n\nexport const removeFromFavourites = (userId: string, codeGroundId: string) => {\n  return axios\n    .delete(`/api/users/${userId}/favourites/${codeGroundId}`)\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n","import React, { useState } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { CodeGroundPopulated } from '../../../../src/models/CodeGround';\nimport {\n  CodeBranch,\n  Heart,\n  ThumbsUp,\n  Comments,\n  TrashAlt,\n} from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\nimport { Small } from '../StyledComponents/FormComponents';\nimport {\n  deleteGround,\n  dislikeCodeGround,\n  forkCodeGround,\n  likeCodeGround,\n} from '../../services/codeground';\nimport { addToFavourites, removeFromFavourites } from '../../services/users';\nimport { UserDocument } from '../../../../src/models/User';\n\nconst ResultFieldContainer = styled.article`\n  display: flex;\n  flex-flow: column;\n  width: 25vw;\n  background: #2b2d3b;\n  margin: 1em;\n  padding: 0.3em;\n  border: 2px solid #f4f6fc;\n  border-radius: 0.4em;\n  box-shadow: 0.7em 0.7em 0.5em 0em #131522;\n\n  @media (max-width: 768px) {\n    flex-grow: 1;\n    margin: 3em;\n    font-size: 2em;\n  }\n`;\n\nconst ThumbnailWrapper = styled.div`\n  overflow: hidden;\n`;\n\nconst DetailsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  flex: 1 0 auto;\n  background: #131522;\n  border-top-left-radius: 0.3em;\n  border-top-right-radius: 0.3em;\n  padding: 0.5em 0em;\n  @media (max-width: 768px) {\n    font-size: 2.5rem;\n  }\n`;\n\nconst OptionsWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 0.2em;\n  justify-content: center;\n`;\n\nconst StyledIframe = styled.iframe`\n  width: 100%;\n  height: 100%;\n  background: white;\n  /* overflow: hidden; */\n\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n`;\n\nconst IconWrapper = styled(WrapperButton)`\n  font-size: 0.7rem;\n  margin-top: 0em;\n  background: #131522;\n  border-radius: 0.2em;\n  padding: 0.5em;\n  margin: 0em 0.2em;\n\n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n`;\n\nconst Span = styled.span`\n  margin-left: 0.5em;\n`;\n\nconst Br = styled.br`\n  margin: 0;\n`;\n\nconst H4 = styled.h4`\n  color: lightblue;\n  &:hover {\n    color: #58b487;\n    transition: 1s;\n  }\n`;\n\nconst LinkSpan = styled(Link)`\n  color: lightblue;\n  &:hover {\n    color: #58b487;\n    transition: 1s;\n  }\n`;\n\nconst StyledThumbsUp = styled(ThumbsUp)<{ liked: boolean }>`\n  ${(props) => (props.liked ? 'color:#3f9c3f' : 'color: inherit')}\n`;\n\nconst StyledHeart = styled(Heart)<{ favourited: boolean }>`\n  ${(props) => (props.favourited ? 'color:#e23131' : 'color: inherit')}\n`;\n\nexport interface GroundCardProps extends RouteComponentProps {\n  codeGround: CodeGroundPopulated;\n  user: UserDocument | null;\n  userOwnsGround: boolean;\n  liked: boolean;\n  favourited: boolean;\n}\n\nconst GroundCard: React.FC<GroundCardProps> = (props) => {\n  const { codeGround, user, userOwnsGround } = props;\n  const [like, setLike] = useState(props.liked);\n  const [favourite, setFavourite] = useState(props.favourited);\n  const [deleted, setDeleted] = useState(false);\n\n  const srcDoc = `\n  <html>\n    <head>\n      <style>${codeGround.css}</style>\n    </head>\n    <body>${codeGround.html}</body>\n    <script>${codeGround.js}</script>\n  </html>\n  `;\n\n  const handleLike = () => {\n    if (!user) return;\n    if (like) {\n      setLike(false);\n      dislikeCodeGround(codeGround._id, user!._id)\n        .then((resp) => console.log(resp))\n        .catch((err) => console.log(err));\n    } else {\n      setLike(true);\n      likeCodeGround(codeGround._id, user!._id)\n        .then((resp) => console.log(resp))\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const calcNumberOfLikes = () => {\n    const numberOfLikesFromProps = codeGround.likes.length;\n    if (props.liked) {\n      return !like ? numberOfLikesFromProps - 1 : numberOfLikesFromProps;\n    } else {\n      return like ? numberOfLikesFromProps + 1 : numberOfLikesFromProps;\n    }\n  };\n\n  const handleFavourite = () => {\n    if (!user) return;\n    if (favourite) {\n      setFavourite(false);\n      removeFromFavourites(user!._id, codeGround._id)\n        .then((resp) => {})\n        .catch((err) => console.log(err));\n    } else {\n      setFavourite(true);\n      addToFavourites(user!._id, codeGround._id)\n        .then((resp) => console.log(resp))\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const handleDelete = () => {\n    if (!user) return;\n    deleteGround(codeGround._id)\n      .then(() => {\n        setDeleted(true);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleFork = () => {\n    if (!user) return;\n    forkCodeGround(codeGround, user!._id)\n      .then((ground) => {\n        console.log(ground);\n        console.log(props.history);\n        props.history.push(`/code-ground/${ground._id}`);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const renderInteractionButtons = () => {\n    return (\n      <>\n        <IconWrapper onClick={handleFavourite}>\n          <StyledHeart size=\"1.2em\" favourited={favourite} />\n        </IconWrapper>\n\n        <IconWrapper onClick={handleFork}>\n          <CodeBranch size=\"1.2em\" />\n        </IconWrapper>\n      </>\n    );\n  };\n\n  const renderEditOptions = () => {\n    return (\n      <>\n        <IconWrapper onClick={handleDelete}>\n          <TrashAlt size=\"1.2em\" />\n        </IconWrapper>\n      </>\n    );\n  };\n\n  const displayAuthors = () => {\n    return codeGround.user.username !== codeGround.creator.username ? (\n      <>\n        <Small>\n          by:{' '}\n          <LinkSpan to={`/profile/${codeGround.user._id}`}>\n            {codeGround.user.username}\n          </LinkSpan>\n        </Small>\n        <Small>\n          originally by:{' '}\n          <LinkSpan to={`/profile/${codeGround.creator._id}`}>\n            {codeGround.creator.username}\n          </LinkSpan>\n        </Small>\n      </>\n    ) : (\n      <>\n        <Small>\n          by:{' '}\n          <LinkSpan to={`/profile/${codeGround.user._id}`}>\n            {' '}\n            {codeGround.user.username}\n          </LinkSpan>\n        </Small>\n        <Br />\n        <Small></Small>\n      </>\n    );\n  };\n\n  if (deleted) return null;\n\n  return (\n    <ResultFieldContainer>\n      <DetailsWrapper>\n        <Link to={`/code-ground/${codeGround._id}`}>\n          <H4>{codeGround.title}</H4>{' '}\n        </Link>\n        {displayAuthors()}\n      </DetailsWrapper>\n\n      <ThumbnailWrapper>\n        <StyledIframe\n          loading=\"lazy\"\n          title={codeGround.title}\n          srcDoc={srcDoc}\n          sandbox=\"allow-scripts\"\n          frameBorder=\"0\"\n        ></StyledIframe>\n      </ThumbnailWrapper>\n\n      <OptionsWrapper>\n        <IconWrapper onClick={handleLike}>\n          <StyledThumbsUp size=\"1.2em\" liked={like} />\n          <Span>{calcNumberOfLikes()}</Span>\n        </IconWrapper>\n\n        {!user || !userOwnsGround ? renderInteractionButtons() : null}\n        {userOwnsGround ? renderEditOptions() : null}\n\n        <IconWrapper>\n          <Comments size={'1.2em'} />\n          <Span> {codeGround.comments.length}</Span>\n        </IconWrapper>\n      </OptionsWrapper>\n    </ResultFieldContainer>\n  );\n};\n\nexport default GroundCard;\n","import axios, { AxiosResponse } from 'axios';\nimport { error } from 'console';\nimport {\n  CodeGroundPopulated,\n  CodeGroundDocument,\n} from '../../../src/models/CodeGround';\n// import { UserDocument } from '../../../src/models/User';\n\ninterface fetchAllResponse extends AxiosResponse<CodeGroundPopulated[]> {}\ninterface Response extends AxiosResponse<CodeGroundDocument | Error> {}\n\nexport const fetchOne = (id: string): Promise<CodeGroundDocument> => {\n  return axios\n    .get(`/api/code-ground/${id}`)\n    .then((resp: Response) => resp.data)\n    .catch((err) => err);\n};\n\nexport const deleteGround = (id: string): Promise<CodeGroundDocument> => {\n  return axios\n    .delete(`/api/code-ground/${id}`)\n    .then((resp: Response) => resp.data)\n    .catch((err) => err);\n};\n\nexport const fetchAll = (): Promise<CodeGroundPopulated[]> => {\n  return axios\n    .get('/api/code-ground/')\n    .then((resp: fetchAllResponse) => resp.data)\n    .catch((err) => err);\n};\n\nexport const createCodeGround = (\n  title: string,\n  html: string,\n  css: string,\n  js: string,\n  user: string,\n  creator: string,\n): Promise<CodeGroundDocument> => {\n  const forked = user !== creator ? true : false;\n\n  return axios\n    .post('/api/code-ground/', { title, html, css, js, user, creator, forked })\n    .then((resp: Response) => resp.data)\n    .catch((err) => err);\n};\n\nexport const updateCodeGround = (\n  title: string,\n  html: string,\n  css: string,\n  js: string,\n  id: string,\n): Promise<CodeGroundDocument> => {\n  console.log('updateCodeGround function');\n  return axios\n    .put(`/api/code-ground/${id}`, {\n      title,\n      html,\n      css,\n      js,\n    })\n    .then((resp) => resp.data)\n    .catch((err) => console.log(err));\n};\n\nexport const fetchUserGrounds = (\n  userId: string,\n): Promise<CodeGroundPopulated[]> => {\n  return axios\n    .get(`/api/code-ground/user/${userId}`)\n    .then((resp: fetchAllResponse) => {\n      console.log(resp.data);\n      return resp.data;\n    })\n    .catch((err) => err);\n};\n\nexport const likeCodeGround = (codeGroundId: string, userId: string) => {\n  return axios\n    .get(`/api/code-ground/${codeGroundId}/like/${userId}`)\n    .then((resp: AxiosResponse) => console.log(resp.data))\n    .catch((err) => err);\n};\n\nexport const dislikeCodeGround = (codeGroundId: string, userId: string) => {\n  return axios\n    .delete(`/api/code-ground/${codeGroundId}/like/${userId}`)\n    .then((resp: AxiosResponse) => console.log(resp.data))\n    .catch((err) => err);\n};\n\nexport const forkCodeGround = (\n  codeGround: CodeGroundPopulated,\n  userId: string,\n) => {\n  const { title, html, js, css, creator } = codeGround;\n\n  return axios\n    .post(`/api/code-ground/fork/${userId}`, { title, html, js, css, creator })\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n\nexport const commentCodeGround = (codeGroundId: string, userId: string) => {\n  return axios\n    .get(`/api/code-ground/${codeGroundId}/comments/${userId}`)\n    .then((resp: AxiosResponse) => console.log(resp.data))\n    .catch((err) => err);\n};\n\nexport const uncommentCodeGround = (\n  codeGroundId: string,\n  commentId: string,\n) => {\n  return axios\n    .delete(`/api/code-ground/${codeGroundId}/comments/${commentId}`)\n    .then((resp: AxiosResponse) => console.log(resp.data))\n    .catch((err) => err);\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport SearchBar from '../Components/SearchBar/SearchBar';\nimport GroundCard from '../Components/CodeGround/CodeGroundCard';\nimport { CodeGroundPopulated } from '../../../src/models/CodeGround';\nimport { UserDocument } from '../../../src/models/User';\nimport { fetchAll } from '../services/codeground';\nimport { RouteComponentProps } from 'react-router-dom';\n\nconst HomeContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n`;\n\nexport const ResultsContainerOuter = styled.div`\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n\n  @media (max-width: 768px) {\n    width: 95%;\n  }\n`;\n\nconst SearchBarContainer = styled(SearchBar)`\n  flex-grow: 1;\n`;\n\nconst Loading = styled.h1`\n  text-align: center;\n  font-size: 5em;\n  color: tomato;\n`;\n\ninterface HomeState {\n  codeGrounds: CodeGroundPopulated[];\n  search: string;\n  option: string;\n  order: string;\n  // order: 'recent' | 'oldest' | 'liked' | 'commented';\n}\n\ninterface HomeProps extends RouteComponentProps {\n  user: UserDocument | null;\n}\n\nexport default class Home extends React.Component<HomeProps, HomeState> {\n  state: HomeState = {\n    codeGrounds: [] as CodeGroundPopulated[],\n    search: '',\n    option: 'title',\n    order: 'recent',\n  };\n\n  componentDidMount() {\n    fetchAll()\n      .then((codeGrounds) => {\n        this.setState({ codeGrounds: codeGrounds });\n      })\n      .catch((err) => console.log(err));\n  }\n\n  componentDidUpdate(prevProps: HomeProps, prevState: HomeState) {\n    if (prevState.order !== this.state.order) {\n      this.sortResults(this.state.order);\n    }\n  }\n\n  handleSearch = (value: string) => {\n    this.setState({ search: value });\n  };\n\n  handleSelect = (value: string) => {\n    this.setState({ option: value });\n  };\n\n  handleOrder = (value: string) => {\n    this.setState({ order: value });\n  };\n\n  sortResults = (orderBy: HomeState['order']) => {\n    const { codeGrounds } = this.state;\n    let ordered;\n\n    switch (orderBy) {\n      case 'recent':\n        ordered = codeGrounds.sort((a, b) => {\n          if (a.createdAt < b.createdAt) return 1;\n          return -1;\n        });\n        break;\n      case 'oldest':\n        ordered = codeGrounds.sort((a, b) => {\n          if (a.createdAt < b.createdAt) return -1;\n          return 1;\n        });\n        break;\n      case 'liked':\n        ordered = codeGrounds.sort((a, b) => b.likes.length - a.likes.length);\n        break;\n      case 'commented':\n        ordered = codeGrounds.sort(\n          (a, b) => b.comments.length - a.comments.length,\n        );\n        break;\n    }\n    if (ordered) {\n      this.setState({ codeGrounds: ordered });\n    }\n  };\n\n  displayResults = () => {\n    const { codeGrounds, search, option } = this.state;\n    const { user, ...rest } = this.props;\n\n    let filtered;\n\n    if (option === 'title')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.title.toLowerCase().includes(search.toLowerCase()),\n      );\n    if (option === 'user')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.user.username.toLowerCase().includes(search.toLowerCase()),\n      );\n    if (option === 'html')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.html.toLowerCase().includes(search.toLowerCase()),\n      );\n    if (option === 'css')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.css.toLowerCase().includes(search.toLowerCase()),\n      );\n    if (option === 'js')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.title.toLowerCase().includes(search.toLowerCase()),\n      );\n\n    return filtered\n      ? filtered.map((ground) => (\n          <GroundCard\n            key={ground._id}\n            user={user}\n            userOwnsGround={user ? ground.user._id === user._id : false}\n            codeGround={ground}\n            liked={user ? ground.likes.includes(user._id) : false}\n            favourited={user ? user.favourites.includes(ground._id) : false}\n            {...rest}\n          />\n        ))\n      : null;\n  };\n\n  render() {\n    const { search, codeGrounds } = this.state;\n\n    if (codeGrounds.length === 0) {\n      return <Loading>Loading</Loading>;\n    }\n\n    return (\n      <HomeContainer>\n        <SearchBarContainer\n          search={search}\n          handleSearch={this.handleSearch}\n          handleSearchBy={this.handleSelect}\n          handleOrder={this.handleOrder}\n        />\n        <ResultsContainerOuter>{this.displayResults()}</ResultsContainerOuter>\n      </HomeContainer>\n    );\n  }\n}\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport GroundCard from '../CodeGround/CodeGroundCard';\nimport { CodeGroundPopulated } from '../../../../src/models/CodeGround';\nimport { UserDocument } from '../../../../src/models/User';\nimport { fetchUserGrounds } from '../../services/codeground';\nimport { RouteComponentProps } from 'react-router-dom';\n\nconst DashboardContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n`;\n\nconst GroundsContainerOuter = styled.div`\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n  margin-top: 2em;\n`;\n\ninterface DashboardProps extends RouteComponentProps {\n  profileUser: UserDocument;\n  user: UserDocument | null;\n}\n\nconst Dashboard: React.FC<DashboardProps> = ({\n  profileUser,\n  user,\n  ...rest\n}) => {\n  const [codeGrounds, setCodeGrounds] = useState([] as CodeGroundPopulated[]);\n\n  useEffect(() => {\n    fetchUserGrounds(profileUser._id)\n      .then((codeGrounds: CodeGroundPopulated[]) => setCodeGrounds(codeGrounds))\n      .catch((err: Error) => console.log(err));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderCards = () => {\n    return codeGrounds.map((ground) => (\n      <GroundCard\n        key={ground._id}\n        user={user}\n        userOwnsGround={user ? ground.user._id === user._id : false}\n        codeGround={ground}\n        liked={user ? ground.likes.includes(user._id) : false}\n        favourited={user ? user.favourites.includes(ground._id) : false}\n        {...rest}\n      />\n    ));\n  };\n\n  if (!codeGrounds) return <h1>Loading</h1>;\n\n  return (\n    <DashboardContainer>\n      <GroundsContainerOuter>{renderCards()}</GroundsContainerOuter>\n    </DashboardContainer>\n  );\n};\n\nexport default Dashboard;\n","import React, { FC } from 'react';\nimport styled from 'styled-components';\nimport { UserDocument } from '../../../../src/models/User';\nimport { Edit } from '@styled-icons/fa-solid';\n\ninterface HeaderProps {\n  user: UserDocument;\n}\n\nconst HeaderContainer = styled.section`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 3em;\n  position: relative;\n`;\n\nconst H1 = styled.h1`\n  font-size: 3em;\n`;\n\nconst ProfilePic = styled.img`\n  border-radius: 50%;\n  margin: 1em;\n  width: 10em;\n`;\n\nconst Header: FC<HeaderProps> = ({ user }) => {\n  return (\n    <HeaderContainer>\n      <H1>\n        {user.username}\n        {/* <Edit size=\"1em\" /> */}\n      </H1>\n      <ProfilePic src={user.avatar.path} alt=\"\" />\n    </HeaderContainer>\n  );\n};\n\nexport default Header;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport Dashboard from '../Components/Profile/Dashboard';\nimport Header from '../Components/Profile/Header';\nimport { UserDocument } from '../../../src/models/User';\nimport { ResultsContainerOuter as DashboardContainer } from './Home';\nimport {\n  Link,\n  RouteComponentProps,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { getUser } from '../services/users';\n\nconst ProfileContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 0em 1em;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  width: 60%;\n`;\n\nconst TabContainer = styled.div`\n  margin: 0em 1em;\n  padding: 0.3em 0.8em;\n  background: #2b2d3b;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  min-width: 13em;\n`;\n\nconst H2 = styled.h3`\n  margin: 0.3em 1em;\n  text-align: center;\n`;\n\ninterface ProfileProps extends RouteComponentProps {\n  user: UserDocument | null;\n}\n\nconst Profile: React.FC<ProfileProps> = ({ user, ...rest }) => {\n  const { userId } = useParams<{ userId: string }>();\n  const { url } = useRouteMatch();\n  const [profileUser, setProfileUser] = useState<UserDocument | null>();\n\n  useEffect(() => {\n    getUser(userId)\n      .then((profileUser) => {\n        if (!profileUser) {\n          setProfileUser(null);\n          return;\n        }\n        setProfileUser(profileUser);\n      })\n      .catch((err) => console.log(err));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const userIsProfileOwner = () => {\n    if (!user) return false;\n    if (!profileUser) return false;\n\n    return profileUser._id === user._id;\n  };\n\n  if (profileUser === null) return <h1>User not found</h1>;\n  if (profileUser === undefined) return <h1>Loading</h1>;\n  return (\n    <ProfileContainer>\n      <Header user={profileUser} />\n\n      <TabsContainer>\n        <Link to={`${url}/favourites`}>\n          <TabContainer>\n            <H2>Favourites</H2>\n          </TabContainer>\n        </Link>\n\n        <Link to={`${url}`}>\n          <TabContainer>\n            <H2>\n              {userIsProfileOwner() ? 'My' : `${profileUser.username}`}{' '}\n              Codegrounds\n            </H2>\n          </TabContainer>\n        </Link>\n\n        {userIsProfileOwner() && (\n          <Link to={`${url}/edit`}>\n            <TabContainer>\n              <H2>New Profile Pic</H2>\n            </TabContainer>\n          </Link>\n        )}\n      </TabsContainer>\n\n      <DashboardContainer>\n        <Dashboard profileUser={profileUser} user={user} {...rest} />\n      </DashboardContainer>\n    </ProfileContainer>\n  );\n};\n\nexport default Profile;\n","import React, { useState } from 'react';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/material-ocean.css';\nimport 'codemirror/mode/xml/xml';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/mode/css/css';\nimport 'codemirror/addon/search/searchcursor';\nimport { Controlled } from 'react-codemirror2';\nimport styled from 'styled-components';\nimport { Editor, EditorChange } from 'codemirror';\nimport './CodeEditor.css';\n\nimport { ExpandAlt, CompressAlt } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\n\nconst EditorContainer = styled.div<{ collapsed: boolean }>`\n  margin: 0;\n  display: flex;\n  /* max-width: 33.3vw; */\n  flex-direction: column;\n  ${(props) => (props.collapsed ? 'flex: 0 0 0' : 'flex: 5 0 0;')}\n`;\n\nconst EditorTitle = styled.div`\n  font-weight: 800;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.2em 1em;\n  background: #0a0c11;\n  color: #cbd1e1;\n  margin: 0.1em 0.1em 0.1em;\n`;\n\nconst IconWrapper = styled(WrapperButton)`\n  padding: 0.4em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n`;\n\nexport interface EditorProps {\n  language: string;\n  displayName: string;\n  value: string;\n  onChange: (value: string) => void;\n}\n\nexport function CodeEditor(props: EditorProps) {\n  const { language, displayName, value, onChange } = props;\n  const [collapsed, toggleCollapsed] = useState(false);\n\n  const handleChange = (editor: Editor, data: EditorChange, value: string) => {\n    onChange(value);\n  };\n\n  const handleToggleCollapsed = () => {\n    toggleCollapsed((prevState) => !prevState);\n  };\n\n  return (\n    <EditorContainer collapsed={collapsed}>\n      <EditorTitle>\n        {displayName}\n        <IconWrapper onClick={handleToggleCollapsed}>\n          {collapsed ? (\n            <CompressAlt size={'1.2em'} />\n          ) : (\n            <ExpandAlt size={'1.2em'} />\n          )}\n        </IconWrapper>\n      </EditorTitle>\n      <Controlled\n        onBeforeChange={handleChange}\n        value={value}\n        className=\"code-mirror-wrapper\"\n        options={{\n          lineWrapping: true,\n          mode: language,\n          gutters: ['CodeMirror-lint-markers'],\n          lineNumbers: true,\n          theme: 'material-ocean',\n          tabSize: 2,\n          scrollbarStyle: 'native',\n        }}\n      />\n    </EditorContainer>\n  );\n}\n","import React, { ChangeEvent, Dispatch, SetStateAction, useState } from 'react';\nimport styled from 'styled-components';\nimport { Edit } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\n\nconst TitleContainer = styled.nav`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 0.2em 1.5em 0.2em 0em;\n  background: #2b2d3b;\n`;\n\nconst Title = styled.input`\n  font-size: inherit;\n  color: inherit;\n  background: transparent;\n  text-align: center;\n  outline: none;\n  ${(props) =>\n    props.readOnly\n      ? 'border: 1px solid gray;'\n      : 'border: 1px solid lime; box-shadow: 0px 0px 1px 1px lime'}\n  border-top: 1px solid transparent;\n`;\n\nconst Button = styled(WrapperButton)`\n  margin-top: 0px;\n  margin-left: 0.3em;\n  padding: 0.4em;\n  &:hover {\n    background: #233dff;\n    transition: 0.5s;\n  }\n`;\n\nconst Svg = styled.svg`\n  margin: 0.2em;\n`;\n\nconst SvgLeft = styled(Svg)`\n  transform: rotate(-90deg);\n`;\n\ninterface CodeGroundTitleProps {\n  title: string;\n  setTitle: Dispatch<SetStateAction<string>>;\n  setVertical: Dispatch<SetStateAction<boolean>>;\n}\n\nexport default function CodeGroundTitle(props: CodeGroundTitleProps) {\n  const { title, setTitle, setVertical } = props;\n  const [editable, setEditable] = useState(false);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setTitle(e.currentTarget.value);\n  };\n\n  const handleEdit = () => {\n    setEditable((Prev) => !Prev);\n  };\n\n  const handleBlur = () => {\n    setEditable(false);\n  };\n\n  return (\n    <TitleContainer>\n      <Button onClick={() => setVertical(false)}>\n        <Svg viewBox=\"0 0 20 20\" width=\"15\" height=\"15\" fill=\"#f4f6fc\">\n          <path d=\"M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z\"></path>\n        </Svg>\n      </Button>\n\n      <Button onClick={() => setVertical(true)}>\n        <SvgLeft viewBox=\"0 0 20 20\" width=\"15\" height=\"15\" fill=\"#f4f6fc\">\n          <path d=\"M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z\"></path>\n        </SvgLeft>\n      </Button>\n\n      <Title\n        type=\"text\"\n        value={title}\n        onChange={handleChange}\n        onClick={handleEdit}\n        onBlur={handleBlur}\n        readOnly={!editable}\n      />\n\n      <Button onClick={handleEdit}>\n        <Edit size={'1.2em'} />\n      </Button>\n    </TitleContainer>\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Save, Plus } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../../Components/StyledComponents/IconsButtons';\nimport { UserDocument } from '../../../../src/models/User';\n\nconst StyledCodeBar = styled.nav`\n  background: #2b2d3b;\n  padding: 0.2em;\n  height: 100%;\n  max-height: 100%;\n  color: #f4f6fc;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 2px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  padding-top: 0.5em;\n`;\n\nconst StyledNew = styled(Plus)`\n  padding: 0.4em;\n  margin-top: 1.9em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n`;\n\nconst StyledSave = styled(Save)`\n  padding: 0.4em;\n  margin-top: 0.5em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n`;\n\ninterface CodeGroundBarProps {\n  handleSave: () => void;\n  user: UserDocument | null;\n}\n\nexport default function CodeGroundBar(props: CodeGroundBarProps) {\n  const renderSaveButton = () => {\n    return (\n      <WrapperButton onClick={props.handleSave}>\n        <StyledSave size={'1.2em'} />\n      </WrapperButton>\n    );\n  };\n\n  return (\n    <StyledCodeBar>\n      <Link to=\"/code-ground\">\n        <WrapperButton>\n          <StyledNew size={'1.2em'} />\n        </WrapperButton>\n      </Link>\n      {props.user && renderSaveButton()}\n    </StyledCodeBar>\n  );\n}\n","import React, { useState, useEffect, Dispatch, SetStateAction } from 'react';\nimport styled from 'styled-components';\nimport { Redirect } from 'react-router-dom';\nimport {\n  fetchOne,\n  createCodeGround,\n  updateCodeGround,\n} from '../services/codeground';\n// import { CodeGroundDocument } from '../../../src/models/CodeGround';\nimport { UserDocument } from '../../../src/models/User';\nimport { CodeEditor } from '../Components/CodeGround/CodeEditor';\nimport CodeGroundTitle from '../Components/CodeGround/CodeGroundTitle';\nimport CodeGroundBar from '../Components/CodeGround/CodeGroundBar';\n\nconst CodeGroundAndTitleWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-height: 92vh;\n  flex-grow: 1;\n`;\n\nconst CodeGroundWrapper = styled.div<{ vertical: boolean }>`\n  display: flex;\n  min-height: 92vh;\n  flex-grow: 1;\n\n  ${(props) => (props.vertical ? `flex-flow: row wrap;` : `flex-flow: column`)}\n`;\n\nconst EditorsWrapper = styled.div<{ vertical: boolean }>`\n  display: flex;\n  justify-content: flex-start;\n  ${(props) =>\n    props.vertical\n      ? 'flex-direction: column; width: 25%; max-height: 90vh;'\n      : 'flex-direction: row; width: 100%; max-height: 29vh;'}\n`;\n\nconst IframeWrapper = styled.div`\n  flex: 2 0 0;\n  width: 100%;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport interface CodeGroundProps {\n  id?: string;\n  user: UserDocument | null;\n  setNotSavedCodeGround: Dispatch<SetStateAction<boolean>>;\n  notSavedCodeGround: boolean;\n}\n\nconst OuterWrapper = styled.div`\n  display: flex;\n  height: 94.5vh;\n`;\n\nexport default function CodeGround(props: CodeGroundProps) {\n  const { id, user, setNotSavedCodeGround, notSavedCodeGround } = props;\n  const [title, setTitle] = useState('untitled');\n  const [html, setHtml] = useState('');\n  const [css, setCss] = useState('');\n  const [js, setJs] = useState('');\n  const [srcDoc, setSrcDoc] = useState('');\n  const [creator, setCreator] = useState('');\n  const [vertical, setVertical] = useState(false);\n\n  const [redirectToLogin, setRedirectToLogin] = useState(false);\n\n  const defaultCss = '<style>body{margin:0}</style>';\n\n  useEffect(() => {\n    if (notSavedCodeGround) {\n      setTitle(window.localStorage.getItem('title')!);\n      setHtml(window.localStorage.getItem('html')!);\n      setCss(window.localStorage.getItem('css')!);\n      setJs(window.localStorage.getItem('js')!);\n    } else if (id) {\n      fetchOne(id)\n        .then((codeGround) => {\n          setTitle(codeGround.title);\n          setHtml(codeGround.html);\n          setCss(codeGround.css);\n          setJs(codeGround.js);\n          setCreator(codeGround.user);\n        })\n        .catch((err) => console.log(err));\n    } else if (user) {\n      setCreator(user._id);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setSrcDoc(`\n      <html>\n        <head>\n          ${defaultCss}\n          <style>${css}</style>\n        </head>\n        <body>${html}</body>\n        <script>${js}</script>\n      </html>\n      `);\n    }, 500);\n\n    return () => clearTimeout(timeout);\n  }, [html, css, js]);\n\n  const handleSave = () => {\n    if (!user) {\n      console.log('no user found');\n      window.localStorage.setItem('title', title);\n      window.localStorage.setItem('html', html);\n      window.localStorage.setItem('css', css);\n      window.localStorage.setItem('js', js);\n      setNotSavedCodeGround(true);\n      setRedirectToLogin((prevRedirect) => !prevRedirect);\n    } else if (!id || user._id !== creator) {\n      console.log('else if in handleSave');\n      createCodeGround(title, html, css, js, user._id, creator).then(\n        (codeGround) => {\n          setTitle(codeGround.title);\n          setHtml(codeGround.html);\n          setCss(codeGround.css);\n          setJs(codeGround.js);\n          setCreator(codeGround.creator);\n        },\n      );\n    } else {\n      updateCodeGround(title, html, css, js, id).then((codeGround) => {\n        console.log(codeGround);\n        setTitle(codeGround.title);\n        setHtml(codeGround.html);\n        setCss(codeGround.css);\n        setJs(codeGround.js);\n        setCreator(codeGround.creator);\n      });\n    }\n  };\n\n  return redirectToLogin ? (\n    <Redirect to=\"/login\" />\n  ) : (\n    <OuterWrapper>\n      <CodeGroundBar handleSave={handleSave} user={user} />\n      <CodeGroundAndTitleWrapper>\n        <CodeGroundTitle\n          title={title}\n          setTitle={setTitle}\n          setVertical={setVertical}\n        />\n        <CodeGroundWrapper vertical={vertical}>\n          <EditorsWrapper vertical={vertical}>\n            <CodeEditor\n              displayName=\"HTML\"\n              language=\"xml\"\n              value={html}\n              onChange={setHtml}\n            />\n            <CodeEditor\n              displayName=\"CSS\"\n              language=\"css\"\n              value={css}\n              onChange={setCss}\n            />\n            <CodeEditor\n              displayName=\"JS\"\n              language=\"javascript\"\n              value={js}\n              onChange={setJs}\n            />\n          </EditorsWrapper>\n          <IframeWrapper>\n            <iframe\n              srcDoc={srcDoc}\n              title=\"rendered-ground\"\n              frameBorder=\"0\"\n              sandbox=\"allow-scripts\"\n              width=\"100%\"\n              height=\"100%\"\n              style={{ flex: '1 0 0' }}\n            ></iframe>\n          </IframeWrapper>\n        </CodeGroundWrapper>\n      </CodeGroundAndTitleWrapper>\n    </OuterWrapper>\n  );\n}\n","import React, {\n  useState,\n  useRef,\n  useEffect,\n  FormEvent,\n  FocusEvent,\n  ChangeEvent,\n} from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport './forms.css';\nimport { signup } from '../../services/auth';\nimport {\n  Label,\n  Input,\n  Form,\n  FormContainer,\n  Button,\n  Small,\n  InputGroup,\n  SmallContainer,\n} from '../StyledComponents/FormComponents';\n\nconst emailRegexp = new RegExp(\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n);\nconst passwordRegexp = new RegExp(\n  /(?=.*[0-9])(?=.*[|<>!@%+'!#$^?:.(){}[\\]+~\\-_.])[a-zA-Z0-9|<>!@%+'!#$^?:.(){}[\\]+~\\-_.]{8,30}/,\n);\n\ninterface Errors {\n  [key: string]: boolean;\n}\n\nexport default function SignUpForm(props: RouteComponentProps) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [password2, setPassword2] = useState('');\n  const [email, setEmail] = useState('');\n  const [errors, setErrors] = useState<Errors>({});\n  const [errorMessage, setErrorMessage] = useState('');\n  const inputRef = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    if (!inputRef.current) return;\n    inputRef.current.focus();\n  }, []);\n\n  const validate = (): Errors => {\n    const currentErrors = { ...errors };\n\n    if (username.length === 0 || username.length > 20) {\n      currentErrors.username = true;\n    } else currentErrors.username = false;\n\n    if (password.length < 8 || !passwordRegexp.test(password)) {\n      currentErrors.password = true;\n    } else currentErrors.password = false;\n\n    if (\n      password.length === 0 ||\n      !passwordRegexp.test(password) ||\n      password2 !== password\n    ) {\n      currentErrors.password2 = true;\n    } else currentErrors.password2 = false;\n\n    if (!emailRegexp.test(email)) {\n      currentErrors.email = true;\n    } else currentErrors.email = false;\n\n    return currentErrors;\n  };\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const currentErrors = validate();\n\n    setErrors(currentErrors);\n\n    if (Object.keys(errors).length !== 0) {\n      signup(username, email, password)\n        .then((resp) => {\n          console.log(resp);\n          if (\n            resp.name === 'MongoError' &&\n            resp.keyValue.hasOwnProperty('email')\n          ) {\n            setErrorMessage('DB Error: the provided email already exists');\n          } else {\n            props.history.push('/login');\n          }\n        })\n        .catch((err) => {\n          console.log('error catched in sigupform.tsx line 69', err);\n        });\n    }\n  };\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    const name = e.currentTarget.name;\n\n    if (name === 'username') setUsername(value);\n    if (name === 'password') setPassword(value);\n    if (name === 'password2') setPassword2(value);\n    if (name === 'email') setEmail(value);\n  };\n\n  const handleBlur = (e: FocusEvent<HTMLInputElement>) => {\n    const name = e.currentTarget.name;\n    const isValid = validate()[name];\n    setErrors({ ...errors, [name]: isValid });\n  };\n\n  return (\n    <FormContainer>\n      <Form onSubmit={handleSubmit}>\n        <InputGroup>\n          <Label htmlFor=\"username\">Username</Label>\n          <Input\n            ref={inputRef}\n            type=\"text\"\n            name=\"username\"\n            id=\"username\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={username}\n            error={errors.username}\n          />\n\n          <SmallContainer displayInfo={errors.username}>\n            <Small>Required. No longer than 20.</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"email\">Email</Label>\n          <Input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={email}\n            error={errors.email}\n          />\n\n          <SmallContainer displayInfo={errors.email}>\n            <Small>Provide valid email</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"password\">Password</Label>\n          <Input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={password}\n            error={errors.password}\n          />\n\n          <SmallContainer displayInfo={errors.password}>\n            <Small>Must have min 8 chars, 1 number & 1 special char</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"password2\">Enter Password again:</Label>\n          <Input\n            type=\"password\"\n            name=\"password2\"\n            id=\"password2\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={password2}\n            error={errors.password2}\n          />\n\n          <SmallContainer displayInfo={errors.password2}>\n            <Small>Passwords must match with each other.</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        {errorMessage ? <Small>{errorMessage}</Small> : <Small></Small>}\n\n        <Button type=\"submit\">Join</Button>\n      </Form>\n    </FormContainer>\n  );\n}\n","import React from 'react';\nimport SignUpForm from '../Components/Forms/SignUpForm';\nimport { RouteComponentProps } from 'react-router-dom';\n\nexport default function SignUp(props: RouteComponentProps) {\n  return <SignUpForm {...props} />;\n}\n","import React, {\n  useState,\n  useEffect,\n  useRef,\n  FormEvent,\n  ChangeEvent,\n  Dispatch,\n  SetStateAction,\n} from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { UserDocument } from '../../../../src/models/User';\nimport './forms.css';\nimport { login } from '../../services/auth';\nimport {\n  Label,\n  Input,\n  Form,\n  FormContainer,\n  Button,\n  InputGroup,\n  Small,\n} from '../StyledComponents/FormComponents';\n\ninterface LoginFormProps {\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n  notSavedCodeGround: boolean;\n}\n\nexport default function LoginForm(props: LoginFormProps) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const inputRef = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    if (!inputRef.current) {\n      return;\n    }\n\n    inputRef.current.focus();\n  }, []);\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    login(username, password)\n      .then((resp) => {\n        if (resp.hasOwnProperty('message')) {\n          setErrorMessage(resp.message);\n        } else {\n          console.log(resp);\n          props.setUser(resp);\n          props.notSavedCodeGround ? (\n            <Redirect to=\"/code-grounds\" />\n          ) : (\n            <Redirect to=\"/profile\" />\n          );\n        }\n      })\n      .catch((err) => {\n        console.log('Error logged in in LoginForm.tsx line 29', err);\n      });\n  };\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    const name = e.currentTarget.name;\n\n    if (name === 'username') setUsername(value);\n    if (name === 'password') setPassword(value);\n  };\n\n  return (\n    <FormContainer>\n      <Form onSubmit={handleSubmit}>\n        <InputGroup>\n          <Label htmlFor=\"username\">Username</Label>\n          <Input\n            ref={inputRef}\n            type=\"text\"\n            name=\"username\"\n            id=\"username\"\n            onChange={handleChange}\n            value={username}\n            required\n          />\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"password\">Password</Label>\n          <Input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            onChange={handleChange}\n            value={password}\n            required\n          />\n        </InputGroup>\n\n        {errorMessage ? <Small>{errorMessage}</Small> : <Small></Small>}\n\n        <Button type=\"submit\">Login</Button>\n      </Form>\n    </FormContainer>\n  );\n}\n","import React, { Dispatch, SetStateAction } from 'react';\nimport LoginForm from '../Components/Forms/LoginForm';\nimport { UserDocument } from '../../../src/models/User';\n\ninterface LoginProps {\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n  notSavedCodeGround: boolean;\n}\n\nexport default function Login(props: LoginProps) {\n  return <LoginForm {...props} />;\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Button } from '../Components/StyledComponents/FormComponents';\nimport { Link } from 'react-router-dom';\n\nconst Error = styled.div`\n  text-align: center;\n`;\n\nexport default function NotFound() {\n  return (\n    <>\n      <Error>\n        <h1>404 Error</h1>\n        <h3>The page you tried to access doesn't exist</h3>\n        <Link to=\"/\">\n          <Button>Take me back to the Dashboard</Button>\n        </Link>\n      </Error>\n    </>\n  );\n}\n","import React from 'react';\nimport { Route, Redirect, RouteProps } from 'react-router-dom';\n\nexport interface ProtectedRouteProps extends RouteProps {\n  permission: boolean;\n  redirectPath: string;\n  hasCodeGround?: boolean;\n}\n\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = (props) => {\n  const { permission, redirectPath, hasCodeGround, ...rest } = props;\n\n  if (!props.permission) {\n    const renderComponent = () => (\n      <Redirect to={{ pathname: props.redirectPath }} />\n    );\n    return <Route {...rest} component={renderComponent} render={undefined} />;\n  }\n  console.log(rest);\n  return <Route {...rest} />;\n};\n","import axios from 'axios';\n\nconst service = axios.create({\n  baseURL: '/api/cloudinary',\n  withCredentials: true,\n});\n\nconst errorHandler = (err: Error) => {\n  throw err;\n};\n\nconst Cloudinary = {\n  service,\n  uploadPic(pic: FormData, userId: string): Promise<string> {\n    return service\n      .post(`/new-pic/${userId}`, pic)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n};\n\nexport default Cloudinary;\n","import React, {\n  Dispatch,\n  FC,\n  FormEvent,\n  SetStateAction,\n  useState,\n} from 'react';\nimport { UserDocument } from '../../../../src/models/User';\nimport { Label, Input, Form, Button } from '../StyledComponents/FormComponents';\nimport Cloudinary from '../../services/cloudinary';\nimport axios from 'axios';\nimport { ChangeEvent } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { Spinner } from '@styled-icons/fa-solid';\n\ninterface NewPicFormProps extends RouteComponentProps {\n  user: UserDocument;\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst NewPicForm: FC<NewPicFormProps> = ({ user, setUser, history }) => {\n  const [file, setFile] = useState<File>();\n  const [uploading, setUploading] = useState(false);\n\n  const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    setFile(e.target.files[0]);\n  };\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    setUploading(true);\n\n    const pic = new FormData();\n    if (file) {\n      pic.append('pic', file, file.name);\n\n      Cloudinary.uploadPic(pic, user._id)\n        .then((picPath) => {\n          return axios\n            .get('/api/auth/logged-in')\n            .then((resp) => {\n              const user: UserDocument = resp.data;\n              setUser(user);\n              setUploading(false);\n              history.push(`/profile/${user._id}`);\n            })\n            .catch((err) =>\n              console.log('Error while retrieving the new user instance'),\n            );\n        })\n        .catch((err) => {\n          console.log('Error while adding the pic: ', err);\n        });\n    } else {\n      return;\n    }\n  };\n\n  const renderButtonText = () => {\n    if (uploading) {\n      return <Spinner size={'1.2em'} />;\n    } else {\n      return 'Upload';\n    }\n  };\n\n  return (\n    <div>\n      <Form onSubmit={handleSubmit} encType=\"multipart/Form-data\">\n        <Label htmlFor=\"pic\">Upload new profile pic:</Label>\n        <Input\n          type=\"file\"\n          name=\"pic\"\n          id=\"pic\"\n          onChange={handleFileChange}\n          required\n        />\n        <Button type=\"submit\">{renderButtonText()}</Button>\n      </Form>\n    </div>\n  );\n};\n\nexport default NewPicForm;\n","import React, { Dispatch, FC, SetStateAction } from 'react';\nimport NewPicForm from './NewPicForm';\nimport { UserDocument } from '../../../../src/models/User';\nimport { RouteComponentProps } from 'react-router-dom';\n\nexport interface ProfileEditProps extends RouteComponentProps {\n  user: UserDocument;\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst ProfileEdit: FC<ProfileEditProps> = (props) => {\n  const { user, setUser } = props;\n\n  return (\n    <div>\n      <NewPicForm {...props} user={user} setUser={setUser} />\n    </div>\n  );\n};\n\nexport default ProfileEdit;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport GroundCard from '../CodeGround/CodeGroundCard';\nimport { CodeGroundPopulated } from '../../../../src/models/CodeGround';\nimport { UserDocument } from '../../../../src/models/User';\nimport { fetchUserFavourites } from '../../services/users';\nimport { RouteComponentProps } from 'react-router-dom';\n\nconst DashboardContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n`;\n\nconst GroundsContainerOuter = styled.div`\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n  margin-top: 2em;\n`;\n\ninterface DashboardProps extends RouteComponentProps {\n  profileUser: UserDocument;\n  user: UserDocument | null;\n}\n\nconst FavouritesDashboard: React.FC<DashboardProps> = ({\n  profileUser,\n  user,\n  ...rest\n}) => {\n  const [codeGrounds, setCodeGrounds] = useState([] as CodeGroundPopulated[]);\n\n  useEffect(() => {\n    fetchUserFavourites(profileUser._id)\n      .then((codeGrounds: CodeGroundPopulated[]) => {\n        setCodeGrounds(codeGrounds);\n      })\n      .catch((err: Error) => console.log(err));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderCards = () => {\n    return codeGrounds.map((ground) => (\n      <GroundCard\n        key={ground._id}\n        user={user}\n        userOwnsGround={user ? ground.user._id === user._id : false}\n        codeGround={ground}\n        liked={user ? ground.likes.includes(user._id) : false}\n        favourited={user ? profileUser.favourites.includes(ground._id) : false}\n        {...rest}\n      />\n    ));\n  };\n\n  if (codeGrounds === undefined) return <h1>Loading</h1>;\n  if (codeGrounds === null) return <h1>No Favourites yet</h1>;\n\n  return (\n    <DashboardContainer>\n      <GroundsContainerOuter>{renderCards()}</GroundsContainerOuter>\n    </DashboardContainer>\n  );\n};\n\nexport default FavouritesDashboard;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport FavouriteDashboard from '../Components/Profile/FavouriteDashboard';\nimport Header from '../Components/Profile/Header';\nimport { UserDocument } from '../../../src/models/User';\nimport { ResultsContainerOuter as DashboardContainer } from './Home';\nimport {\n  Link,\n  RouteComponentProps,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { getUser } from '../services/users';\n\nconst ProfileContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 0em 1em;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  width: 60%;\n`;\n\nconst TabContainer = styled.div`\n  margin: 0em 1em;\n  padding: 0.3em 0.8em;\n  background: #2b2d3b;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  min-width: 13em;\n`;\n\nconst H2 = styled.h3`\n  margin: 0.3em 1em;\n  text-align: center;\n`;\n\ninterface ProfileProps extends RouteComponentProps {\n  user: UserDocument | null;\n  // setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst Profile: React.FC<ProfileProps> = ({ user, ...rest }) => {\n  const { userId } = useParams<{ userId: string }>();\n  const { path, url } = useRouteMatch();\n  const [profileUser, setProfileUser] = useState<UserDocument | null>();\n\n  useEffect(() => {\n    getUser(userId)\n      .then((profileUser) => {\n        if (!profileUser) {\n          setProfileUser(null);\n          return;\n        }\n        setProfileUser(profileUser);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  const userIsProfileOwner = () => {\n    if (!user) return false;\n    if (!profileUser) return false;\n\n    return profileUser._id === user._id;\n  };\n\n  if (profileUser === null) return <h1>User not found</h1>;\n  if (profileUser === undefined) return <h1>Loading</h1>;\n  return (\n    <ProfileContainer>\n      <Header user={profileUser} />\n\n      <TabsContainer>\n        <Link to={`/profile/${userId}/favourites`}>\n          <TabContainer>\n            <H2>Favourites</H2>\n          </TabContainer>\n        </Link>\n\n        <Link to={`/profile/${userId}`}>\n          <TabContainer>\n            <H2>\n              {userIsProfileOwner() ? 'My' : `${profileUser.username}`}{' '}\n              Codegrounds\n            </H2>\n          </TabContainer>\n        </Link>\n\n        {userIsProfileOwner() && (\n          <Link to={`/profile/${userId}/edit`}>\n            <TabContainer>\n              <H2>New Profile Pic</H2>\n            </TabContainer>\n          </Link>\n        )}\n      </TabsContainer>\n\n      <DashboardContainer>\n        <FavouriteDashboard {...rest} profileUser={profileUser} user={user} />\n      </DashboardContainer>\n    </ProfileContainer>\n  );\n};\n\nexport default Profile;\n","import React, { FC, useState } from 'react';\nimport styled from 'styled-components';\nimport { Switch, Route, RouteComponentProps, Redirect } from 'react-router-dom';\nimport { UserDocument } from '../../src/models/User';\n\n// COMPONENTS\nimport NavBar from './Components/NavBar/NavBar';\nimport Home from './Pages/Home';\nimport Profile from './Pages/Profile';\nimport CodeGround from './Pages/CodeGround';\nimport SignUp from './Pages/SignUp';\nimport Login from './Pages/Login';\nimport NotFound from './Pages/NotFound';\nimport { ProtectedRoute } from './Pages/ProtectedRoute';\nimport ProfileEdit from './Components/Profile/ProfileEdit';\nimport Favourites from './Pages/Favourites';\n\nconst AppContainer = styled.main`\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n`;\n\ninterface AppProps extends RouteComponentProps {\n  user: UserDocument | null;\n}\n\nconst App: FC<AppProps> = ({ user: UserProp, ...rest }) => {\n  const [user, setUser] = useState(UserProp);\n  const [notSavedCodeGround, setNotSavedCodeGround] = useState(false);\n  return (\n    <AppContainer>\n      <NavBar user={user} setUser={setUser} {...rest} />\n\n      <Switch>\n        <Route\n          exact\n          path=\"/home\"\n          render={(props) => <Home {...props} user={user} />}\n        />\n\n        <Route\n          exact\n          path=\"/code-ground\"\n          render={(props) => (\n            <CodeGround\n              {...props}\n              user={user}\n              setNotSavedCodeGround={setNotSavedCodeGround}\n              notSavedCodeGround={notSavedCodeGround}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/code-ground/:id\"\n          render={(props) => (\n            <CodeGround\n              {...props}\n              id={props.match.params.id}\n              user={user}\n              setNotSavedCodeGround={setNotSavedCodeGround}\n              notSavedCodeGround={notSavedCodeGround}\n            />\n          )}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/login\"\n          permission={user ? false : true}\n          redirectPath=\"/profile\"\n          render={(props: RouteComponentProps) => (\n            <Login\n              {...props}\n              setUser={setUser}\n              notSavedCodeGround={notSavedCodeGround}\n            />\n          )}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/signup\"\n          permission={user ? false : true}\n          redirectPath=\"/profile\"\n          component={SignUp}\n        />\n\n        <Route\n          exact\n          path=\"/profile/:userId\"\n          render={(props) => <Profile {...props} user={user} />}\n        />\n\n        <ProtectedRoute\n          exact={true}\n          path=\"/profile/:userId/edit\"\n          permission={user ? true : false}\n          redirectPath=\"/login\"\n          render={(props) => (\n            <ProfileEdit {...props} user={user!} setUser={setUser} />\n          )}\n        />\n\n        <Route\n          exact\n          path=\"/profile/:userId/favourites\"\n          render={(props) => <Favourites {...props} user={user} />}\n        />\n\n        <Redirect from=\"/\" to=\"/home\" />\n\n        <Route component={NotFound} />\n      </Switch>\n    </AppContainer>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { UserDocument } from '../../src/models/User';\n\naxios\n  .get('/api/auth/logged-in')\n  .then((resp) => {\n    const user: UserDocument = resp.data;\n\n    ReactDOM.render(\n      <BrowserRouter>\n        <React.StrictMode>\n          <Route path=\"/\" render={(props) => <App {...props} user={user} />} />\n        </React.StrictMode>\n      </BrowserRouter>,\n      document.getElementById('root'),\n    );\n  })\n  .catch((err) => console.log(err));\n"],"sourceRoot":""}