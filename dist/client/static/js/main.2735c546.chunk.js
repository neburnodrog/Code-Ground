(this["webpackJsonpcode-grounds-client"]=this["webpackJsonpcode-grounds-client"]||[]).push([[0],{40:function(e,n,t){},56:function(e,n,t){},92:function(e,n,t){},93:function(e,n,t){"use strict";t.r(n);var r,c,i,a,o,s,d,l,u,j=t(4),b=t(1),h=t.n(b),m=t(41),f=t.n(m),O=(t(56),t(5)),x=t(12),g=t(3),p=t(2),v=t(10),w=t(8),y=t(94),k=t(95),S=t(9),C=t.n(S),z=t(0),_=p.a.div(r||(r=Object(g.a)(["\n  margin-right: 2em;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-end;\n  width: 30vw;\n"]))),G=p.a.img(c||(c=Object(g.a)(["\n  position: relative;\n  border-radius: 50%;\n  width: 1.8em;\n  &:hover {\n    transition: 1s;\n    color: #f4f6fc;\n    box-shadow: 0px 0px 0.3em 0.3em #233dff;\n  }\n"]))),L=function(e){var n=e.setUser,t=e.user,r=(e.history,function(){C.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e})).then((function(e){console.log(e),n(null)})).catch((function(e){return console.log(e)}))});return Object(z.jsx)(_,{children:t?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(R,{onClick:r,children:["Log Out ",Object(z.jsx)(y.a,{size:"1em"})]}),Object(z.jsx)(w.b,{to:"/profile/".concat(t._id),style:{marginLeft:"1em"},children:Object(z.jsx)(G,{src:null===t||void 0===t?void 0:t.avatar.path})})]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(w.b,{to:"/signup",children:Object(z.jsx)(R,{children:"Join"})}),Object(z.jsx)(w.b,{to:"/login",children:Object(z.jsxs)(R,{children:["Login ",Object(z.jsx)(k.a,{size:"1em"})]})})]})})},U=t(96),F=t(97),A=p.a.button(i||(i=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  margin-top: 0.5em;\n  background: transparent;\n  border: 0;\n  color: inherit;\n"]))),E=p.a.img(a||(a=Object(g.a)(["\n  height: 2em;\n  margin-left: 2em;\n  margin-right: 1.5em;\n  border-radius: 50%;\n"]))),I=p.a.div(o||(o=Object(g.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-start;\n  width: 33vw;\n"]))),P=Object(p.a)(A)(s||(s=Object(g.a)(["\n  margin: 0em 1.5em;\n  padding: 0.3em;\n  border-radius: 50%;\n  &:hover {\n    box-shadow: 0px 0px 0.3em 0.3em #233dff;\n  }\n  transition: box-shadow 1s;\n"])));function T(){return Object(z.jsxs)(I,{children:[Object(z.jsx)(E,{src:"https://res.cloudinary.com/doh6rpdke/image/upload/v1620936255/code-ground/assets/Untitled_design_qhrefh.png",alt:"logo"}),Object(z.jsx)(w.b,{to:"/",children:Object(z.jsx)(P,{children:Object(z.jsx)(U.a,{size:"1.4rem"})})}),Object(z.jsx)(w.b,{to:"/code-ground",children:Object(z.jsx)(P,{children:Object(z.jsx)(F.a,{size:"1.4rem"})})})]})}var B,M,N,V,R=p.a.button(d||(d=Object(g.a)(["\n  font-size: inherit;\n  border: 0px;\n  background: transparent;\n  color: inherit;\n  padding: 0.3em 2.5em;\n  border-radius: 0.2em;\n  cursor: pointer;\n  border: 1px solid transparent;\n  &:hover {\n    background-color: #233dff;\n  }\n  transition: background-color 1s;\n"]))),D=p.a.nav(l||(l=Object(g.a)(["\n  background: #131522;\n  max-height: 5%;\n  color: #f4f6fc;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid gray;\n  padding: 0.2em;\n"]))),H=p.a.h2(u||(u=Object(g.a)(["\n  color: #f4f6fc;\n"]))),J=function(e){return Object(z.jsxs)(D,{children:[Object(z.jsx)(T,{}),Object(z.jsx)(H,{children:"Codegrounds"}),Object(z.jsx)(L,Object(j.a)({},e))]})},q=t(47),Z=t(48),$=t(51),W=t(50),K=p.a.div(B||(B=Object(g.a)(["\n  color: inherit;\n  border: 0px;\n  padding: 0.4em 0.6em;\n  text-align: center;\n  background: #2b2d3b;\n  width: 90%;\n  margin: 1em;\n  display: flex;\n  align-items: center;\n  border-radius: 0.2em;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: stretch;\n    font-size: 2em;\n  }\n"]))),Q=p.a.input(M||(M=Object(g.a)(["\n  color: inherit;\n  border: 1px solid white;\n  padding: 0.4em 0.6em;\n  text-align: center;\n  background: #131522;\n  flex-grow: 5;\n  border-radius: 0.2em;\n  margin-right: 1em;\n  font-size: 1rem;\n\n  @media (max-width: 768px) {\n    font-size: 1em;\n    margin: 0.2em 0em 0.6em 0em;\n  }\n"]))),X=p.a.select(N||(N=Object(g.a)(["\n  font-size: 0.8em;\n  color: inherit;\n  margin-left: 0.5em;\n  padding: 0.3em 0.5em;\n  overflow: hidden;\n  border-radius: 0.2em;\n  background: #131522;\n  border: 0px;\n\n  @media (max-width: 768px) {\n    font-size: 1em;\n    margin: 0.2em 0em 0.2em 0em;\n  }\n"]))),Y=p.a.label(V||(V=Object(g.a)(["\n  font-size: 0.8em;\n  margin: 0em 0em 0em 1em;\n\n  @media (max-width: 768px) {\n    font-size: 1em;\n    margin: 0.2em 0em 0.2em 0em;\n  }\n"])));var ee,ne,te,re,ce,ie,ae,oe,se,de,le,ue,je,be,he,me,fe,Oe,xe,ge,pe,ve,we,ye,ke,Se,Ce,ze,_e,Ge,Le,Ue,Fe,Ae,Ee,Ie,Pe=t(98),Te=t(99),Be=t(100),Me=t(101),Ne=t(102),Ve=p.a.label(ee||(ee=Object(g.a)(["\n  margin-top: 1.5em;\n"]))),Re=p.a.div(ne||(ne=Object(g.a)(["\n  position: absolute;\n  height: 4.2em;\n  width: 8em;\n  border-radius: 0.2em;\n  padding: 0.2em 0.5em;\n  background-color: #233dff;\n  right: -11em;\n  bottom: -1.3em;\n  ",";\n"])),(function(e){return e.displayInfo?null:"display: none;"})),De=p.a.small(te||(te=Object(g.a)(["\n  margin-top: 0.4em;\n  text-align: center;\n  font-style: italic;\n  font-size: 0.8em;\n"]))),He=p.a.input(re||(re=Object(g.a)(["\n  font-size: 1rem;\n  padding: 0.5em 2em;\n  text-align: center;\n  margin-top: 0.4em;\n  border-radius: 0.2em;\n  border: 0.15em solid transparent;\n  &:focus {\n    border: 0.15em solid rgb(0, 132, 255);\n    box-shadow: 0px 0px 0.2em 0.2em rgb(0, 132, 255);\n  }\n  ",";\n"])),(function(e){return e.error?"border: .1em solid red; box-shadow: 0px 0px 0.15em 0.15em red":"undefined"===typeof e.error?"border: .1em solid transparent;":"border: .1em solid green; box-shadow: 0px 0px 0.15em 0.15em green"})),Je=p.a.div(ce||(ce=Object(g.a)(["\n  width: 100%;\n  height: 80vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),qe=p.a.form(ie||(ie=Object(g.a)(["\n  padding: 2em;\n  /* background: #050a30; */\n  border-radius: 0.3em;\n  flex-basis: 0;\n  flex-grow: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),Ze=p.a.div(ae||(ae=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"]))),$e=p.a.button(oe||(oe=Object(g.a)(["\n  margin-top: 2em;\n  font-size: inherit;\n  border: 0px;\n  background: transparent;\n  color: inherit;\n  padding: 0.3em 2.5em;\n  border-radius: 0.2em;\n  cursor: pointer;\n  border: 0.1em solid white;\n  &:hover {\n    background-color: #233dff;\n    transition: background-color 1s;\n  }\n  &:focus {\n    background-color: #233dff;\n    transition: background-color 1s;\n  }\n"]))),We=function(e){return C.a.get("/api/users/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},Ke=p.a.article(se||(se=Object(g.a)(["\n  display: flex;\n  flex-flow: column;\n  width: 25vw;\n  background: #2b2d3b;\n  margin: 1em;\n  padding: 0.3em;\n  border: 2px solid #f4f6fc;\n  border-radius: 0.4em;\n  box-shadow: 0.7em 0.7em 0.5em 0em #131522;\n\n  @media (max-width: 768px) {\n    flex-grow: 1;\n    margin: 3em;\n    font-size: 2em;\n  }\n"]))),Qe=p.a.div(de||(de=Object(g.a)(["\n  overflow: hidden;\n"]))),Xe=p.a.div(le||(le=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  flex: 1 0 auto;\n  background: #131522;\n  border-top-left-radius: 0.3em;\n  border-top-right-radius: 0.3em;\n  padding: 0.5em 0em;\n  @media (max-width: 768px) {\n    font-size: 2.5rem;\n  }\n"]))),Ye=p.a.div(ue||(ue=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 0.2em;\n  justify-content: center;\n"]))),en=p.a.iframe(je||(je=Object(g.a)(["\n  width: 100%;\n  height: 100%;\n  background: white;\n  /* overflow: hidden; */\n\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n"]))),nn=Object(p.a)(A)(be||(be=Object(g.a)(["\n  font-size: 0.7rem;\n  margin-top: 0em;\n  background: #131522;\n  border-radius: 0.2em;\n  padding: 0.5em;\n  margin: 0em 0.2em;\n\n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n"]))),tn=p.a.span(he||(he=Object(g.a)(["\n  margin-left: 0.5em;\n"]))),rn=p.a.br(me||(me=Object(g.a)(["\n  margin: 0;\n"]))),cn=p.a.h4(fe||(fe=Object(g.a)(["\n  color: lightblue;\n  &:hover {\n    color: #58b487;\n    transition: 1s;\n  }\n"]))),an=Object(p.a)(w.b)(Oe||(Oe=Object(g.a)(["\n  color: lightblue;\n  &:hover {\n    color: #58b487;\n    transition: 1s;\n  }\n"]))),on=Object(p.a)(Pe.a)(xe||(xe=Object(g.a)(["\n  ","\n"])),(function(e){return e.liked?"color:#3f9c3f":"color: inherit"})),sn=Object(p.a)(Te.a)(ge||(ge=Object(g.a)(["\n  ","\n"])),(function(e){return e.favourited?"color:#e23131":"color: inherit"})),dn=function(e){var n=e.codeGround,t=e.user,r=e.userOwnsGround,c=Object(b.useState)(e.liked),i=Object(O.a)(c,2),a=i[0],o=i[1],s=Object(b.useState)(e.favourited),d=Object(O.a)(s,2),l=d[0],u=d[1],j=Object(b.useState)(!1),h=Object(O.a)(j,2),m=h[0],f=h[1],x="\n  <html>\n    <head>\n      <style>".concat(n.css,"</style>\n    </head>\n    <body>").concat(n.html,"</body>\n    <script>").concat(n.js,"<\/script>\n  </html>\n  "),g=function(){var e,r;t&&(l?(u(!1),(e=t._id,r=n._id,C.a.delete("/api/users/".concat(e,"/favourites/").concat(r)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))).then((function(e){})).catch((function(e){return console.log(e)}))):(u(!0),function(e,n){return C.a.get("/api/users/".concat(e,"/favourites/").concat(n)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}(t._id,n._id).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))))},p=function(){var e;t&&(e=n._id,C.a.delete("/api/code-ground/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))).then((function(){f(!0)})).catch((function(e){return console.log(e)}))},v=function(){t&&function(e,n){var t=e.title,r=e.html,c=e.js,i=e.css,a=e.creator;return C.a.post("/api/code-ground/fork/".concat(n),{title:t,html:r,js:c,css:i,creator:a}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}(n,t._id).then((function(n){console.log(n),console.log(e.history),e.history.push("/code-ground/".concat(n._id))})).catch((function(e){return console.log(e)}))};return m?null:Object(z.jsxs)(Ke,{children:[Object(z.jsxs)(Xe,{children:[Object(z.jsxs)(w.b,{to:"/code-ground/".concat(n._id),children:[Object(z.jsx)(cn,{children:n.title})," "]}),n.user.username!==n.creator.username?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(De,{children:["by:"," ",Object(z.jsx)(an,{to:"/profile/".concat(n.user._id),children:n.user.username})]}),Object(z.jsxs)(De,{children:["originally by:"," ",Object(z.jsx)(an,{to:"/profile/".concat(n.creator._id),children:n.creator.username})]})]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(De,{children:["by:"," ",Object(z.jsxs)(an,{to:"/profile/".concat(n.user._id),children:[" ",n.user.username]})]}),Object(z.jsx)(rn,{}),Object(z.jsx)(De,{})]})]}),Object(z.jsx)(Qe,{children:Object(z.jsx)(en,{loading:"lazy",title:n.title,srcDoc:x,sandbox:"allow-scripts",frameBorder:"0"})}),Object(z.jsxs)(Ye,{children:[Object(z.jsxs)(nn,{onClick:function(){var e,r;t&&(a?(o(!1),(e=n._id,r=t._id,C.a.delete("/api/code-ground/".concat(e,"/like/").concat(r)).then((function(e){return console.log(e.data)})).catch((function(e){return e}))).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))):(o(!0),function(e,n){return C.a.get("/api/code-ground/".concat(e,"/like/").concat(n)).then((function(e){return console.log(e.data)})).catch((function(e){return e}))}(n._id,t._id).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))))},children:[Object(z.jsx)(on,{size:"1.2em",liked:a}),Object(z.jsx)(tn,{children:function(){var t=n.likes.length;return e.liked?a?t:t-1:a?t+1:t}()})]}),t&&r?null:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(nn,{onClick:g,children:Object(z.jsx)(sn,{size:"1.2em",favourited:l})}),Object(z.jsx)(nn,{onClick:v,children:Object(z.jsx)(Be.a,{size:"1.2em"})})]}),r?Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(nn,{onClick:p,children:Object(z.jsx)(Me.a,{size:"1.2em"})})}):null,Object(z.jsxs)(nn,{children:[Object(z.jsx)(Ne.a,{size:"1.2em"}),Object(z.jsxs)(tn,{children:[" ",n.comments.length]})]})]})]})},ln=p.a.div(pe||(pe=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n"]))),un=p.a.div(ve||(ve=Object(g.a)(["\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n\n  @media (max-width: 768px) {\n    width: 95%;\n  }\n"]))),jn=Object(p.a)((function(e){return Object(z.jsxs)(K,{children:[Object(z.jsx)(Q,{type:"text",name:"search",id:"search",placeholder:"Search here",value:e.search,onChange:function(n){return e.handleSearch(n.currentTarget.value)}}),Object(z.jsx)(Y,{htmlFor:"filter",children:"Order by:"}),Object(z.jsxs)(X,{name:"filter",id:"filter",onChange:function(n){e.handleOrder(n.currentTarget.value)},defaultValue:"last added",children:[Object(z.jsx)("option",{value:"recent",children:"Most Recent"}),Object(z.jsx)("option",{value:"oldest",children:"Oldest First"}),Object(z.jsx)("option",{value:"liked",children:"Most Liked"}),Object(z.jsx)("option",{value:"commented",children:"Most Commented"})]}),Object(z.jsx)(Y,{htmlFor:"category",children:"Search by:"}),Object(z.jsxs)(X,{name:"category",id:"category",onChange:function(n){e.handleSearchBy(n.currentTarget.value)},defaultValue:"title",children:[Object(z.jsx)("option",{value:"title",children:"Title"}),Object(z.jsx)("option",{value:"user",children:"Username"}),Object(z.jsx)("option",{value:"html",children:"HTML"}),Object(z.jsx)("option",{value:"css",children:"CSS"}),Object(z.jsx)("option",{value:"js",children:"JS"})]})]})}))(we||(we=Object(g.a)(["\n  flex-grow: 1;\n"]))),bn=p.a.h1(ye||(ye=Object(g.a)(["\n  text-align: center;\n  font-size: 5em;\n  color: tomato;\n"]))),hn=function(e){Object($.a)(t,e);var n=Object(W.a)(t);function t(){var e;Object(q.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=n.call.apply(n,[this].concat(c))).state={codeGrounds:[],search:"",option:"title",order:"recent"},e.handleSearch=function(n){e.setState({search:n})},e.handleSelect=function(n){e.setState({option:n})},e.handleOrder=function(n){e.setState({order:n})},e.sortResults=function(n){var t,r=e.state.codeGrounds;switch(n){case"recent":t=r.sort((function(e,n){return e.createdAt<n.createdAt?1:-1}));break;case"oldest":t=r.sort((function(e,n){return e.createdAt<n.createdAt?-1:1}));break;case"liked":t=r.sort((function(e,n){return n.likes.length-e.likes.length}));break;case"commented":t=r.sort((function(e,n){return n.comments.length-e.comments.length}))}t&&e.setState({codeGrounds:t})},e.displayResults=function(){var n,t=e.state,r=t.codeGrounds,c=t.search,i=t.option,a=e.props,o=a.user,s=Object(x.a)(a,["user"]);return"title"===i&&(n=r.filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())}))),"user"===i&&(n=r.filter((function(e){return e.user.username.toLowerCase().includes(c.toLowerCase())}))),"html"===i&&(n=r.filter((function(e){return e.html.toLowerCase().includes(c.toLowerCase())}))),"css"===i&&(n=r.filter((function(e){return e.css.toLowerCase().includes(c.toLowerCase())}))),"js"===i&&(n=r.filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())}))),n?n.map((function(e){return Object(z.jsx)(dn,Object(j.a)({user:o,userOwnsGround:!!o&&e.user._id===o._id,codeGround:e,liked:!!o&&e.likes.includes(o._id),favourited:!!o&&o.favourites.includes(e._id)},s),e._id)})):null},e}return Object(Z.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get("/api/code-ground/").then((function(e){return e.data})).catch((function(e){return e})).then((function(n){e.setState({codeGrounds:n})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e,n){n.order!==this.state.order&&this.sortResults(this.state.order)}},{key:"render",value:function(){var e=this.state,n=e.search;return 0===e.codeGrounds.length?Object(z.jsx)(bn,{children:"Loading"}):Object(z.jsxs)(ln,{children:[Object(z.jsx)(jn,{search:n,handleSearch:this.handleSearch,handleSearchBy:this.handleSelect,handleOrder:this.handleOrder}),Object(z.jsx)(un,{children:this.displayResults()})]})}}]),t}(h.a.Component),mn=p.a.div(ke||(ke=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n"]))),fn=p.a.div(Se||(Se=Object(g.a)(["\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n  margin-top: 2em;\n"]))),On=function(e){var n=e.profileUser,t=e.user,r=Object(x.a)(e,["profileUser","user"]),c=Object(b.useState)([]),i=Object(O.a)(c,2),a=i[0],o=i[1];Object(b.useEffect)((function(){var e;(e=n._id,C.a.get("/api/code-ground/user/".concat(e)).then((function(e){return console.log(e.data),e.data})).catch((function(e){return e}))).then((function(e){return o(e)})).catch((function(e){return console.log(e)}))}),[]);return a?Object(z.jsx)(mn,{children:Object(z.jsx)(fn,{children:a.map((function(e){return Object(z.jsx)(dn,Object(j.a)({user:t,userOwnsGround:!!t&&e.user._id===t._id,codeGround:e,liked:!!t&&e.likes.includes(t._id),favourited:!!t&&t.favourites.includes(e._id)},r),e._id)}))})}):Object(z.jsx)("h1",{children:"Loading"})},xn=p.a.section(Ce||(Ce=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 3em;\n  position: relative;\n"]))),gn=p.a.h1(ze||(ze=Object(g.a)(["\n  font-size: 3em;\n"]))),pn=p.a.img(_e||(_e=Object(g.a)(["\n  border-radius: 50%;\n  margin: 1em;\n  width: 10em;\n"]))),vn=function(e){var n=e.user;return Object(z.jsxs)(xn,{children:[Object(z.jsx)(gn,{children:n.username}),Object(z.jsx)(pn,{src:n.avatar.path,alt:""})]})},wn=p.a.div(Ge||(Ge=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),yn=p.a.div(Le||(Le=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 0em 1em;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  width: 60%;\n"]))),kn=p.a.div(Ue||(Ue=Object(g.a)(["\n  margin: 0em 1em;\n  padding: 0.3em 0.8em;\n  background: #2b2d3b;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  min-width: 13em;\n"]))),Sn=p.a.h3(Fe||(Fe=Object(g.a)(["\n  margin: 0.3em 1em;\n  text-align: center;\n"]))),Cn=function(e){var n=e.user,t=Object(x.a)(e,["user"]),r=Object(v.g)().userId,c=Object(v.h)().url,i=Object(b.useState)(),a=Object(O.a)(i,2),o=a[0],s=a[1];Object(b.useEffect)((function(){We(r).then((function(e){s(e||null)})).catch((function(e){return console.log(e)}))}),[]);var d=function(){return!!n&&(!!o&&o._id===n._id)};return null===o?Object(z.jsx)("h1",{children:"User not found"}):void 0===o?Object(z.jsx)("h1",{children:"Loading"}):Object(z.jsxs)(wn,{children:[Object(z.jsx)(vn,{user:o}),Object(z.jsxs)(yn,{children:[Object(z.jsx)(w.b,{to:"".concat(c,"/favourites"),children:Object(z.jsx)(kn,{children:Object(z.jsx)(Sn,{children:"Favourites"})})}),Object(z.jsx)(w.b,{to:"".concat(c),children:Object(z.jsx)(kn,{children:Object(z.jsxs)(Sn,{children:[d()?"My":"".concat(o.username)," ","Codegrounds"]})})}),d()&&Object(z.jsx)(w.b,{to:"".concat(c,"/edit"),children:Object(z.jsx)(kn,{children:Object(z.jsx)(Sn,{children:"New Profile Pic"})})})]}),Object(z.jsx)(un,{children:Object(z.jsx)(On,Object(j.a)({profileUser:o,user:n},t))})]})},zn=(t(86),t(87),t(88),t(89),t(90),t(91),t(49)),_n=(t(92),t(103)),Gn=t(104),Ln=p.a.div(Ae||(Ae=Object(g.a)(["\n  margin: 0;\n  display: flex;\n  /* max-width: 33.3vw; */\n  flex-direction: column;\n  ","\n"])),(function(e){return e.collapsed?"flex: 0 0 0":"flex: 5 0 0;"})),Un=p.a.div(Ee||(Ee=Object(g.a)(["\n  font-weight: 800;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.2em 1em;\n  background: #0a0c11;\n  color: #cbd1e1;\n  margin: 0.1em 0.1em 0.1em;\n"]))),Fn=Object(p.a)(A)(Ie||(Ie=Object(g.a)(["\n  padding: 0.4em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n"])));function An(e){var n=e.language,t=e.displayName,r=e.value,c=e.onChange,i=Object(b.useState)(!1),a=Object(O.a)(i,2),o=a[0],s=a[1];return Object(z.jsxs)(Ln,{collapsed:o,children:[Object(z.jsxs)(Un,{children:[t,Object(z.jsx)(Fn,{onClick:function(){s((function(e){return!e}))},children:o?Object(z.jsx)(_n.a,{size:"1.2em"}):Object(z.jsx)(Gn.a,{size:"1.2em"})})]}),Object(z.jsx)(zn.Controlled,{onBeforeChange:function(e,n,t){c(t)},value:r,className:"code-mirror-wrapper",options:{lineWrapping:!0,mode:n,gutters:["CodeMirror-lint-markers"],lineNumbers:!0,theme:"material-ocean",tabSize:2,scrollbarStyle:"native"}})]})}var En,In,Pn,Tn,Bn,Mn=t(105),Nn=p.a.nav(En||(En=Object(g.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 0.2em 1.5em 0.2em 0em;\n  background: #2b2d3b;\n"]))),Vn=p.a.input(In||(In=Object(g.a)(["\n  font-size: inherit;\n  color: inherit;\n  background: transparent;\n  text-align: center;\n  outline: none;\n  ","\n  border-top: 1px solid transparent;\n"])),(function(e){return e.readOnly?"border: 1px solid gray;":"border: 1px solid lime; box-shadow: 0px 0px 1px 1px lime"})),Rn=Object(p.a)(A)(Pn||(Pn=Object(g.a)(["\n  margin-top: 0px;\n  margin-left: 0.3em;\n  padding: 0.4em;\n  &:hover {\n    background: #233dff;\n    transition: 0.5s;\n  }\n"]))),Dn=p.a.svg(Tn||(Tn=Object(g.a)(["\n  margin: 0.2em;\n"]))),Hn=Object(p.a)(Dn)(Bn||(Bn=Object(g.a)(["\n  transform: rotate(-90deg);\n"])));function Jn(e){var n=e.title,t=e.setTitle,r=e.setVertical,c=Object(b.useState)(!1),i=Object(O.a)(c,2),a=i[0],o=i[1],s=function(){o((function(e){return!e}))};return Object(z.jsxs)(Nn,{children:[Object(z.jsx)(Rn,{onClick:function(){return r(!1)},children:Object(z.jsx)(Dn,{viewBox:"0 0 20 20",width:"15",height:"15",fill:"#f4f6fc",children:Object(z.jsx)("path",{d:"M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z"})})}),Object(z.jsx)(Rn,{onClick:function(){return r(!0)},children:Object(z.jsx)(Hn,{viewBox:"0 0 20 20",width:"15",height:"15",fill:"#f4f6fc",children:Object(z.jsx)("path",{d:"M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z"})})}),Object(z.jsx)(Vn,{type:"text",value:n,onChange:function(e){t(e.currentTarget.value)},onClick:s,onBlur:function(){o(!1)},readOnly:!a}),Object(z.jsx)(Rn,{onClick:s,children:Object(z.jsx)(Mn.a,{size:"1.2em"})})]})}var qn,Zn,$n,Wn,Kn,Qn,Xn,Yn,et=t(106),nt=p.a.nav(qn||(qn=Object(g.a)(["\n  background: #2b2d3b;\n  padding: 0.2em;\n  height: 100%;\n  max-height: 100%;\n  color: #f4f6fc;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 2px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  padding-top: 0.5em;\n"]))),tt=Object(p.a)(F.a)(Zn||(Zn=Object(g.a)(["\n  padding: 0.4em;\n  margin-top: 1.9em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n"]))),rt=Object(p.a)(et.a)($n||($n=Object(g.a)(["\n  padding: 0.4em;\n  margin-top: 0.5em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n"])));function ct(e){return Object(z.jsxs)(nt,{children:[Object(z.jsx)(w.b,{to:"/code-ground",children:Object(z.jsx)(A,{children:Object(z.jsx)(tt,{size:"1.2em"})})}),e.user&&Object(z.jsx)(A,{onClick:e.handleSave,children:Object(z.jsx)(rt,{size:"1.2em"})})]})}var it=p.a.div(Wn||(Wn=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 92vh;\n  flex-grow: 1;\n"]))),at=p.a.div(Kn||(Kn=Object(g.a)(["\n  display: flex;\n  min-height: 92vh;\n  flex-grow: 1;\n\n  ","\n"])),(function(e){return e.vertical?"flex-flow: row wrap;":"flex-flow: column"})),ot=p.a.div(Qn||(Qn=Object(g.a)(["\n  display: flex;\n  justify-content: flex-start;\n  ","\n"])),(function(e){return e.vertical?"flex-direction: column; width: 25%; max-height: 90vh;":"flex-direction: row; width: 100%; max-height: 29vh;"})),st=p.a.div(Xn||(Xn=Object(g.a)(["\n  flex: 2 0 0;\n  width: 100%;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n"]))),dt=p.a.div(Yn||(Yn=Object(g.a)(["\n  display: flex;\n  height: 94.5vh;\n"])));function lt(e){var n=e.id,t=e.user,r=e.setNotSavedCodeGround,c=e.notSavedCodeGround,i=Object(b.useState)("untitled"),a=Object(O.a)(i,2),o=a[0],s=a[1],d=Object(b.useState)(""),l=Object(O.a)(d,2),u=l[0],j=l[1],h=Object(b.useState)(""),m=Object(O.a)(h,2),f=m[0],x=m[1],g=Object(b.useState)(""),p=Object(O.a)(g,2),w=p[0],y=p[1],k=Object(b.useState)(""),S=Object(O.a)(k,2),_=S[0],G=S[1],L=Object(b.useState)(""),U=Object(O.a)(L,2),F=U[0],A=U[1],E=Object(b.useState)(!1),I=Object(O.a)(E,2),P=I[0],T=I[1],B=Object(b.useState)(!1),M=Object(O.a)(B,2),N=M[0],V=M[1];Object(b.useEffect)((function(){c?(s(window.localStorage.getItem("title")),j(window.localStorage.getItem("html")),x(window.localStorage.getItem("css")),y(window.localStorage.getItem("js"))):n?function(e){return C.a.get("/api/code-ground/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))}(n).then((function(e){s(e.title),j(e.html),x(e.css),y(e.js),A(e.user)})).catch((function(e){return console.log(e)})):t&&A(t._id)}),[]),Object(b.useEffect)((function(){var e=setTimeout((function(){G("\n      <html>\n        <head>\n          ".concat("<style>body{margin:0}</style>","\n          <style>").concat(f,"</style>\n        </head>\n        <body>").concat(u,"</body>\n        <script>").concat(w,"<\/script>\n      </html>\n      "))}),500);return function(){return clearTimeout(e)}}),[u,f,w]);return N?Object(z.jsx)(v.a,{to:"/login"}):Object(z.jsxs)(dt,{children:[Object(z.jsx)(ct,{handleSave:function(){t?n&&t._id===F?function(e,n,t,r,c){return console.log("updateCodeGround function"),C.a.put("/api/code-ground/".concat(c),{title:e,html:n,css:t,js:r}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}(o,u,f,w,n).then((function(e){console.log(e),s(e.title),j(e.html),x(e.css),y(e.js),A(e.creator)})):(console.log("else if in handleSave"),function(e,n,t,r,c,i){var a=c!==i;return C.a.post("/api/code-ground/",{title:e,html:n,css:t,js:r,user:c,creator:i,forked:a}).then((function(e){return e.data})).catch((function(e){return e}))}(o,u,f,w,t._id,F).then((function(e){s(e.title),j(e.html),x(e.css),y(e.js),A(e.creator)}))):(console.log("no user found"),window.localStorage.setItem("title",o),window.localStorage.setItem("html",u),window.localStorage.setItem("css",f),window.localStorage.setItem("js",w),r(!0),V((function(e){return!e})))},user:t}),Object(z.jsxs)(it,{children:[Object(z.jsx)(Jn,{title:o,setTitle:s,setVertical:T}),Object(z.jsxs)(at,{vertical:P,children:[Object(z.jsxs)(ot,{vertical:P,children:[Object(z.jsx)(An,{displayName:"HTML",language:"xml",value:u,onChange:j}),Object(z.jsx)(An,{displayName:"CSS",language:"css",value:f,onChange:x}),Object(z.jsx)(An,{displayName:"JS",language:"javascript",value:w,onChange:y})]}),Object(z.jsx)(st,{children:Object(z.jsx)("iframe",{srcDoc:_,title:"rendered-ground",frameBorder:"0",sandbox:"allow-scripts",width:"100%",height:"100%",style:{flex:"1 0 0"}})})]})]})]})}var ut,jt=t(23),bt=(t(40),new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)),ht=new RegExp(/(?=.*[0-9])(?=.*[|<>!@%+'!#$^?:.(){}[\]+~\-_.])[a-zA-Z0-9|<>!@%+'!#$^?:.(){}[\]+~\-_.]{8,30}/);function mt(e){var n=Object(b.useState)(""),t=Object(O.a)(n,2),r=t[0],c=t[1],i=Object(b.useState)(""),a=Object(O.a)(i,2),o=a[0],s=a[1],d=Object(b.useState)(""),l=Object(O.a)(d,2),u=l[0],h=l[1],m=Object(b.useState)(""),f=Object(O.a)(m,2),x=f[0],g=f[1],p=Object(b.useState)({}),v=Object(O.a)(p,2),w=v[0],y=v[1],k=Object(b.useState)(""),S=Object(O.a)(k,2),_=S[0],G=S[1],L=Object(b.useRef)(null);Object(b.useEffect)((function(){L.current&&L.current.focus()}),[]);var U=function(){var e=Object(j.a)({},w);return 0===r.length||r.length>20?e.username=!0:e.username=!1,o.length<8||!ht.test(o)?e.password=!0:e.password=!1,0!==o.length&&ht.test(o)&&u===o?e.password2=!1:e.password2=!0,bt.test(x)?e.email=!1:e.email=!0,e},F=function(e){var n=e.currentTarget.value,t=e.currentTarget.name;"username"===t&&c(n),"password"===t&&s(n),"password2"===t&&h(n),"email"===t&&g(n)},A=function(e){var n=e.currentTarget.name,t=U()[n];y(Object(j.a)(Object(j.a)({},w),{},Object(jt.a)({},n,t)))};return Object(z.jsx)(Je,{children:Object(z.jsxs)(qe,{onSubmit:function(n){n.preventDefault();var t=U();y(t),0!==Object.keys(w).length&&function(e,n,t){return C.a.post("/api/auth/signup",{username:e,email:n,password:t}).then((function(e){return e.data})).catch((function(e){return e}))}(r,x,o).then((function(n){console.log(n),"MongoError"===n.name&&n.keyValue.hasOwnProperty("email")?G("DB Error: the provided email already exists"):e.history.push("/login")})).catch((function(e){console.log("error catched in sigupform.tsx line 69",e)}))},children:[Object(z.jsxs)(Ze,{children:[Object(z.jsx)(Ve,{htmlFor:"username",children:"Username"}),Object(z.jsx)(He,{ref:L,type:"text",name:"username",id:"username",onBlur:A,onChange:F,value:r,error:w.username}),Object(z.jsx)(Re,{displayInfo:w.username,children:Object(z.jsx)(De,{children:"Required. No longer than 20."})})]}),Object(z.jsxs)(Ze,{children:[Object(z.jsx)(Ve,{htmlFor:"email",children:"Email"}),Object(z.jsx)(He,{type:"email",name:"email",id:"email",onBlur:A,onChange:F,value:x,error:w.email}),Object(z.jsx)(Re,{displayInfo:w.email,children:Object(z.jsx)(De,{children:"Provide valid email"})})]}),Object(z.jsxs)(Ze,{children:[Object(z.jsx)(Ve,{htmlFor:"password",children:"Password"}),Object(z.jsx)(He,{type:"password",name:"password",id:"password",onBlur:A,onChange:F,value:o,error:w.password}),Object(z.jsx)(Re,{displayInfo:w.password,children:Object(z.jsx)(De,{children:"Must have min 8 chars, 1 number & 1 special char"})})]}),Object(z.jsxs)(Ze,{children:[Object(z.jsx)(Ve,{htmlFor:"password2",children:"Enter Password again:"}),Object(z.jsx)(He,{type:"password",name:"password2",id:"password2",onBlur:A,onChange:F,value:u,error:w.password2}),Object(z.jsx)(Re,{displayInfo:w.password2,children:Object(z.jsx)(De,{children:"Passwords must match with each other."})})]}),_?Object(z.jsx)(De,{children:_}):Object(z.jsx)(De,{}),Object(z.jsx)($e,{type:"submit",children:"Join"})]})})}function ft(e){return Object(z.jsx)(mt,Object(j.a)({},e))}function Ot(e){var n=Object(b.useState)(""),t=Object(O.a)(n,2),r=t[0],c=t[1],i=Object(b.useState)(""),a=Object(O.a)(i,2),o=a[0],s=a[1],d=Object(b.useState)(""),l=Object(O.a)(d,2),u=l[0],j=l[1],h=Object(b.useRef)(null);Object(b.useEffect)((function(){h.current&&h.current.focus()}),[]);var m=function(e){var n=e.currentTarget.value,t=e.currentTarget.name;"username"===t&&c(n),"password"===t&&s(n)};return Object(z.jsx)(Je,{children:Object(z.jsxs)(qe,{onSubmit:function(n){n.preventDefault(),function(e,n){return C.a.post("/api/auth/login",{username:e,password:n}).then((function(e){return e.data})).catch((function(e){return console.log(e),e}))}(r,o).then((function(n){n.hasOwnProperty("message")?j(n.message):(console.log(n),e.setUser(n),e.notSavedCodeGround,v.a)})).catch((function(e){console.log("Error logged in in LoginForm.tsx line 29",e)}))},children:[Object(z.jsxs)(Ze,{children:[Object(z.jsx)(Ve,{htmlFor:"username",children:"Username"}),Object(z.jsx)(He,{ref:h,type:"text",name:"username",id:"username",onChange:m,value:r,required:!0})]}),Object(z.jsxs)(Ze,{children:[Object(z.jsx)(Ve,{htmlFor:"password",children:"Password"}),Object(z.jsx)(He,{type:"password",name:"password",id:"password",onChange:m,value:o,required:!0})]}),u?Object(z.jsx)(De,{children:u}):Object(z.jsx)(De,{}),Object(z.jsx)($e,{type:"submit",children:"Login"})]})})}function xt(e){return Object(z.jsx)(Ot,Object(j.a)({},e))}var gt=p.a.div(ut||(ut=Object(g.a)(["\n  text-align: center;\n"])));function pt(){return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(gt,{children:[Object(z.jsx)("h1",{children:"404 Error"}),Object(z.jsx)("h3",{children:"The page you tried to access doesn't exist"}),Object(z.jsx)(w.b,{to:"/",children:Object(z.jsx)($e,{children:"Take me back to the Dashboard"})})]})})}var vt,wt,yt,kt,St,Ct,zt,_t=function(e){e.permission,e.redirectPath,e.hasCodeGround;var n=Object(x.a)(e,["permission","redirectPath","hasCodeGround"]);if(!e.permission){return Object(z.jsx)(v.b,Object(j.a)(Object(j.a)({},n),{},{component:function(){return Object(z.jsx)(v.a,{to:{pathname:e.redirectPath}})},render:void 0}))}return console.log(n),Object(z.jsx)(v.b,Object(j.a)({},n))},Gt=C.a.create({baseURL:"/api/cloudinary",withCredentials:!0}),Lt=function(e){throw e},Ut={service:Gt,uploadPic:function(e,n){return Gt.post("/new-pic/".concat(n),e).then((function(e){return e.data})).catch(Lt)}},Ft=t(107),At=function(e){var n=e.user,t=e.setUser,r=e.history,c=Object(b.useState)(),i=Object(O.a)(c,2),a=i[0],o=i[1],s=Object(b.useState)(!1),d=Object(O.a)(s,2),l=d[0],u=d[1];return Object(z.jsx)("div",{children:Object(z.jsxs)(qe,{onSubmit:function(e){e.preventDefault(),u(!0);var c=new FormData;a&&(c.append("pic",a,a.name),Ut.uploadPic(c,n._id).then((function(e){return C.a.get("/api/auth/logged-in").then((function(e){var n=e.data;t(n),u(!1),r.push("/profile/".concat(n._id))})).catch((function(e){return console.log("Error while retrieving the new user instance")}))})).catch((function(e){console.log("Error while adding the pic: ",e)})))},encType:"multipart/Form-data",children:[Object(z.jsx)(Ve,{htmlFor:"pic",children:"Upload new profile pic:"}),Object(z.jsx)(He,{type:"file",name:"pic",id:"pic",onChange:function(e){e.target.files&&o(e.target.files[0])},required:!0}),Object(z.jsx)($e,{type:"submit",children:l?Object(z.jsx)(Ft.a,{size:"1.2em"}):"Upload"})]})})},Et=function(e){var n=e.user,t=e.setUser;return Object(z.jsx)("div",{children:Object(z.jsx)(At,Object(j.a)(Object(j.a)({},e),{},{user:n,setUser:t}))})},It=p.a.div(vt||(vt=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n"]))),Pt=p.a.div(wt||(wt=Object(g.a)(["\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n  margin-top: 2em;\n"]))),Tt=function(e){var n=e.profileUser,t=e.user,r=Object(x.a)(e,["profileUser","user"]),c=Object(b.useState)([]),i=Object(O.a)(c,2),a=i[0],o=i[1];Object(b.useEffect)((function(){var e;(e=n._id,C.a.get("/api/users/".concat(e,"/favourites/")).then((function(e){return e.data})).catch((function(e){return console.log(e)}))).then((function(e){o(e)})).catch((function(e){return console.log(e)}))}),[]);return void 0===a?Object(z.jsx)("h1",{children:"Loading"}):null===a?Object(z.jsx)("h1",{children:"No Favourites yet"}):Object(z.jsx)(It,{children:Object(z.jsx)(Pt,{children:a.map((function(e){return Object(z.jsx)(dn,Object(j.a)({user:t,userOwnsGround:!!t&&e.user._id===t._id,codeGround:e,liked:!!t&&e.likes.includes(t._id),favourited:!!t&&n.favourites.includes(e._id)},r),e._id)}))})})},Bt=p.a.div(yt||(yt=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Mt=p.a.div(kt||(kt=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 0em 1em;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  width: 60%;\n"]))),Nt=p.a.div(St||(St=Object(g.a)(["\n  margin: 0em 1em;\n  padding: 0.3em 0.8em;\n  background: #2b2d3b;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  min-width: 13em;\n"]))),Vt=p.a.h3(Ct||(Ct=Object(g.a)(["\n  margin: 0.3em 1em;\n  text-align: center;\n"]))),Rt=function(e){var n=e.user,t=Object(x.a)(e,["user"]),r=Object(v.g)().userId,c=Object(v.h)(),i=(c.path,c.url,Object(b.useState)()),a=Object(O.a)(i,2),o=a[0],s=a[1];Object(b.useEffect)((function(){We(r).then((function(e){s(e||null)})).catch((function(e){return console.log(e)}))}),[]);var d=function(){return!!n&&(!!o&&o._id===n._id)};return null===o?Object(z.jsx)("h1",{children:"User not found"}):void 0===o?Object(z.jsx)("h1",{children:"Loading"}):Object(z.jsxs)(Bt,{children:[Object(z.jsx)(vn,{user:o}),Object(z.jsxs)(Mt,{children:[Object(z.jsx)(w.b,{to:"/profile/".concat(r,"/favourites"),children:Object(z.jsx)(Nt,{children:Object(z.jsx)(Vt,{children:"Favourites"})})}),Object(z.jsx)(w.b,{to:"/profile/".concat(r),children:Object(z.jsx)(Nt,{children:Object(z.jsxs)(Vt,{children:[d()?"My":"".concat(o.username)," ","Codegrounds"]})})}),d()&&Object(z.jsx)(w.b,{to:"/profile/".concat(r,"/edit"),children:Object(z.jsx)(Nt,{children:Object(z.jsx)(Vt,{children:"New Profile Pic"})})})]}),Object(z.jsx)(un,{children:Object(z.jsx)(Tt,Object(j.a)(Object(j.a)({},t),{},{profileUser:o,user:n}))})]})},Dt=p.a.main(zt||(zt=Object(g.a)(["\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n"]))),Ht=function(e){var n=e.user,t=Object(x.a)(e,["user"]),r=Object(b.useState)(n),c=Object(O.a)(r,2),i=c[0],a=c[1],o=Object(b.useState)(!1),s=Object(O.a)(o,2),d=s[0],l=s[1];return Object(z.jsxs)(Dt,{children:[Object(z.jsx)(J,Object(j.a)({user:i,setUser:a},t)),Object(z.jsxs)(v.d,{children:[Object(z.jsx)(v.b,{exact:!0,path:"/home",render:function(e){return Object(z.jsx)(hn,Object(j.a)(Object(j.a)({},e),{},{user:i}))}}),Object(z.jsx)(v.b,{exact:!0,path:"/code-ground",render:function(e){return Object(z.jsx)(lt,Object(j.a)(Object(j.a)({},e),{},{user:i,setNotSavedCodeGround:l,notSavedCodeGround:d}))}}),Object(z.jsx)(v.b,{exact:!0,path:"/code-ground/:id",render:function(e){return Object(z.jsx)(lt,Object(j.a)(Object(j.a)({},e),{},{id:e.match.params.id,user:i,setNotSavedCodeGround:l,notSavedCodeGround:d}))}}),Object(z.jsx)(_t,{exact:!0,path:"/login",permission:!i,redirectPath:"/profile",render:function(e){return Object(z.jsx)(xt,Object(j.a)(Object(j.a)({},e),{},{setUser:a,notSavedCodeGround:d}))}}),Object(z.jsx)(_t,{exact:!0,path:"/signup",permission:!i,redirectPath:"/profile",component:ft}),Object(z.jsx)(v.b,{exact:!0,path:"/profile/:userId",render:function(e){return Object(z.jsx)(Cn,Object(j.a)(Object(j.a)({},e),{},{user:i}))}}),Object(z.jsx)(_t,{exact:!0,path:"/profile/:userId/edit",permission:!!i,redirectPath:"/login",render:function(e){return Object(z.jsx)(Et,Object(j.a)(Object(j.a)({},e),{},{user:i,setUser:a}))}}),Object(z.jsx)(v.b,{exact:!0,path:"/profile/:userId/favourites",render:function(e){return Object(z.jsx)(Rt,Object(j.a)(Object(j.a)({},e),{},{user:i}))}}),Object(z.jsx)(v.a,{from:"/",to:"/home"}),Object(z.jsx)(v.b,{component:pt})]})]})};C.a.get("/api/auth/logged-in").then((function(e){var n=e.data;f.a.render(Object(z.jsx)(w.a,{children:Object(z.jsx)(h.a.StrictMode,{children:Object(z.jsx)(v.b,{path:"/",render:function(e){return Object(z.jsx)(Ht,Object(j.a)(Object(j.a)({},e),{},{user:n}))}})})}),document.getElementById("root"))})).catch((function(e){return console.log(e)}))}},[[93,1,2]]]);
//# sourceMappingURL=main.2735c546.chunk.js.map