{"version":3,"sources":["Components/NavBar/NavRight.tsx","services/auth.ts","Components/StyledComponents/IconsButtons.ts","Components/NavBar/NavLeft.tsx","Components/NavBar/NavBar.tsx","Components/SearchBar/SearchBar.tsx","Components/StyledComponents/FormComponents.ts","services/users.ts","Components/CodeGround/CodeGroundCard.tsx","services/codeground.ts","Pages/Home.tsx","Components/Profile/Dashboard.tsx","Components/Profile/Header.tsx","Pages/Profile.tsx","Components/CodeGround/CodeEditor.tsx","Components/CodeGround/CodeGroundTitle.tsx","Components/CodeGround/CodeGroundBar.tsx","Pages/CodeGround.tsx","Components/Forms/SignUpForm.tsx","Pages/SignUp.tsx","Components/Forms/LoginForm.tsx","Pages/Login.tsx","Pages/NotFound.tsx","Pages/ProtectedRoute.tsx","services/cloudinary.ts","Components/Profile/NewPicForm.tsx","Components/Profile/ProfileEdit.tsx","Components/Profile/FavouriteDashboard.tsx","Pages/Favourites.tsx","App.tsx","index.tsx"],"names":["NavList","styled","div","ProfileIcon","img","NavRight","setUser","user","handleLogout","history","axios","delete","then","resp","data","catch","err","console","log","NavLink","onClick","size","to","_id","style","marginLeft","src","avatar","path","WrapperButton","button","Logo","IconWrapper","NavLeft","alt","Navbar","nav","Title","h2","NavBar","props","StyledSearchBar","Input","input","Select","select","Label","label","SmallContainer","displayInfo","Small","small","error","FormContainer","Form","form","InputGroup","Button","getUser","id","get","ResultFieldContainer","article","ThumbnailWrapper","DetailsWrapper","OptionsWrapper","StyledIframe","iframe","Span","span","Br","br","H4","h4","LinkSpan","Link","StyledThumbsUp","ThumbsUp","liked","StyledHeart","Heart","favourited","GroundCard","codeGround","userOwnsGround","useState","like","setLike","favourite","setFavourite","deleted","setDeleted","srcDoc","css","html","js","handleLike","codeGroundId","userId","likeCodeGround","calcNumberOfLikes","numberOfLikesFromProps","likes","length","handleFavourite","res","addToFavourites","handleDelete","handleFork","title","creator","post","forkCodeGround","ground","push","username","sandbox","frameBorder","comments","HomeContainer","ResultsContainerOuter","SearchBarContainer","type","name","value","search","onChange","e","handleSearch","currentTarget","htmlFor","handleSelect","defaultValue","Loading","h1","Home","state","codeGrounds","option","setState","displayResults","filtered","rest","filter","includes","map","favourites","slice","this","React","Component","DashboardContainer","GroundsContainerOuter","Dashboard","profileUser","setCodeGrounds","useEffect","HeaderContainer","section","H1","ProfilePic","Header","ProfileContainer","TabsContainer","TabContainer","H2","h3","Profile","useParams","url","useRouteMatch","setProfileUser","userIsProfileOwner","undefined","EditorContainer","collapsed","EditorTitle","CodeEditor","language","displayName","toggleCollapsed","prevState","onBeforeChange","editor","className","options","lineWrapping","mode","gutters","lineNumbers","theme","tabSize","scrollbarStyle","TitleContainer","readOnly","Svg","svg","SvgLeft","CodeGroundTitle","setTitle","setVertical","editable","setEditable","handleEdit","Prev","viewBox","width","height","fill","d","onBlur","StyledCodeBar","StyledNew","Plus","StyledSave","Save","CodeGroundBar","handleSave","CodeGroundAndTitleWrapper","CodeGroundWrapper","vertical","EditorsWrapper","IframeWrapper","OuterWrapper","CodeGround","setNotSavedCodeGround","notSavedCodeGround","setHtml","setCss","setJs","setSrcDoc","setCreator","redirectToLogin","setRedirectToLogin","window","localStorage","getItem","fetchOne","timeout","setTimeout","clearTimeout","put","updateCodeGround","forked","createCodeGround","setItem","prevRedirect","flex","emailRegexp","RegExp","passwordRegexp","SignUpForm","setUsername","password","setPassword","password2","setPassword2","email","setEmail","errors","setErrors","errorMessage","setErrorMessage","validate","currentErrors","test","handleChange","handleBlur","isValid","onSubmit","preventDefault","Object","keys","signup","keyValue","hasOwnProperty","SignUp","LoginForm","login","message","required","Login","Error","NotFound","ProtectedRoute","permission","redirectPath","hasCodeGround","component","pathname","render","service","create","baseURL","withCredentials","errorHandler","Cloudinary","uploadPic","pic","NewPicForm","file","setFile","FormData","append","picPath","encType","target","files","ProfileEdit","FavouritesDashboard","FavouriteDashboard","AppContainer","main","App","UserProp","exact","match","params","Favourites","from","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e47c84ee.chunk.js","sourcesContent":["import React, { FC } from 'react';\nimport styled from 'styled-components';\nimport { NavLink } from './NavBar';\nimport { Link } from 'react-router-dom';\nimport { SignOutAlt, SignInAlt } from '@styled-icons/fa-solid';\nimport { NavBarProps } from './NavBar';\nimport { logout } from '../../services/auth';\n\nconst NavList = styled.div`\n  margin-right: 2em;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-end;\n  width: 30vw;\n`;\n\nconst ProfileIcon = styled.img`\n  position: relative;\n  border-radius: 50%;\n  width: 1.8em;\n  &:hover {\n    transition: 1s;\n    color: #f4f6fc;\n    box-shadow: 0px 0px 0.3em 0.3em #233dff;\n  }\n`;\n\nconst NavRight: FC<NavBarProps> = ({ setUser, user, history }) => {\n  const handleLogout = () => {\n    logout()\n      .then((resp) => {\n        console.log(resp);\n        setUser(null);\n        // history.push('/home');\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const signedInNav = () => {\n    return (\n      <>\n        <NavLink onClick={handleLogout}>\n          Log Out <SignOutAlt size={'1em'} />\n        </NavLink>\n\n        <Link to={`/profile/${user!._id}`} style={{ marginLeft: '1em' }}>\n          <ProfileIcon src={user?.avatar.path} />\n        </Link>\n      </>\n    );\n  };\n  const anonynousNav = () => {\n    return (\n      <>\n        <Link to=\"/signup\">\n          <NavLink>Join</NavLink>\n        </Link>\n\n        <Link to=\"/login\">\n          <NavLink>\n            Login <SignInAlt size={'1em'} />\n          </NavLink>\n        </Link>\n      </>\n    );\n  };\n\n  return <NavList>{user ? signedInNav() : anonynousNav()}</NavList>;\n};\n\nexport default NavRight;\n","import axios, { AxiosResponse } from 'axios';\nimport { UserDocument } from '../../../src/models/User';\n\ninterface Message {\n  message: string;\n}\n\ninterface LoginResponse extends AxiosResponse<UserDocument | Message> {}\n\nexport const signup = (username: string, email: string, password: string) => {\n  return axios\n    .post('/api/auth/signup', { username, email, password })\n    .then((resp: LoginResponse) => resp.data)\n    .catch((err) => err);\n};\n\nexport const login = (username: string, password: string) => {\n  console.log('login handler service');\n  return axios\n    .post('/api/auth/login', { username, password })\n    .then((resp: LoginResponse) => {\n      return resp.data;\n    })\n    .catch((err) => {\n      console.log(err);\n      return err;\n    });\n};\n\nexport const logout = () => {\n  return axios\n    .delete('/api/auth/logout')\n    .then((resp) => resp.data)\n    .catch((err) => err);\n};\n","import styled from 'styled-components';\n\nexport const WrapperButton = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  margin-top: 0.5em;\n  background: transparent;\n  border: 0;\n  color: inherit;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { Plus, Home } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\n\nconst Logo = styled.img`\n  height: 2em;\n  margin-left: 2em;\n  margin-right: 1.5em;\n  border-radius: 50%;\n  border: 2px solid transparent;\n`;\n\nconst NavList = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-start;\n  width: 33vw;\n`;\n\nconst IconWrapper = styled(WrapperButton)`\n  margin: 0em 1.5em;\n  padding: 0.3em;\n  border-radius: 50%;\n  &:hover {\n    box-shadow: 0px 0px 0.3em 0.3em #233dff;\n  }\n  transition: box-shadow 1s;\n`;\n\nexport default function NavLeft() {\n  return (\n    <NavList>\n      <Logo\n        src=\"https://res.cloudinary.com/doh6rpdke/image/upload/v1620936255/code-ground/assets/Untitled_design_qhrefh.png\"\n        alt=\"logo\"\n      />\n      <Link to=\"/\">\n        <IconWrapper>\n          <Home size={'1.4rem'} />\n        </IconWrapper>\n      </Link>\n      <Link to=\"/code-ground\">\n        <IconWrapper>\n          <Plus size={'1.4rem'} />\n        </IconWrapper>\n      </Link>\n    </NavList>\n  );\n}\n","import React, { Dispatch, SetStateAction } from 'react';\nimport { UserDocument } from '../../../../src/models/User';\nimport styled from 'styled-components';\nimport NavRight from './NavRight';\nimport NavLeft from './NavLeft';\nimport { RouteComponentProps } from 'react-router-dom';\n\nexport const NavLink = styled.button`\n  font-size: inherit;\n  border: 0px;\n  background: transparent;\n  color: inherit;\n  padding: 0.3em 2.5em;\n  border-radius: 0.2em;\n  cursor: pointer;\n  border: 1px solid transparent;\n  &:hover {\n    background-color: #233dff;\n  }\n  transition: background-color 1s;\n`;\n\nexport const Navbar = styled.nav`\n  background: #131522;\n  max-height: 5%;\n  color: #f4f6fc;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid gray;\n  padding: 0.2em;\n`;\n\nconst Title = styled.h2`\n  color: #f4f6fc;\n`;\n\nexport interface NavBarProps extends RouteComponentProps {\n  user: UserDocument | null;\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst NavBar: React.FC<NavBarProps> = (props) => {\n  return (\n    <Navbar>\n      <NavLeft />\n      <Title>Codeground</Title>\n      <NavRight {...props} />\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","import React, { ChangeEvent } from 'react';\nimport styled from 'styled-components';\n\nconst StyledSearchBar = styled.div`\n  color: inherit;\n  border: 0px;\n  padding: 0.4em 0.6em;\n  text-align: center;\n  background: #2b2d3b;\n  width: 90%;\n  margin: 1em;\n  display: flex;\n  align-items: center;\n  border-radius: 0.2em;\n`;\n\nconst Input = styled.input`\n  color: inherit;\n  border: 1px solid white;\n  padding: 0.4em 0.6em;\n  text-align: center;\n  background: #131522;\n  flex-grow: 5;\n  border-radius: 0.2em;\n  margin-right: 1em;\n  font-size: 1rem;\n  &:focus {\n    border: 0px !important;\n    box-shadow: 0px 0px 0px 0px !important;\n  }\n`;\n\nconst Select = styled.select`\n  font-size: 1em;\n  color: inherit;\n  margin-left: 1em;\n  padding: 0.2em 0.4em;\n  overflow: hidden;\n  border-radius: 0.2em;\n  background: #131522;\n  border: 0px;\n`;\n\ninterface SearchBarProps {\n  handleSearch: (value: string) => void;\n  handleSelect: (value: string) => void;\n  search: string;\n}\n\nexport default function SearchBar(props: SearchBarProps) {\n  const handleInputChange = (e: ChangeEvent<HTMLInputElement>) =>\n    props.handleSearch(e.currentTarget.value);\n\n  const handleSelectChange = (e: ChangeEvent<HTMLSelectElement>) => {\n    props.handleSelect(e.currentTarget.value);\n  };\n\n  return (\n    <StyledSearchBar>\n      <Input\n        type=\"text\"\n        name=\"search\"\n        id=\"search\"\n        value={props.search}\n        onChange={handleInputChange}\n      />\n      <label htmlFor=\"category\">Search by:</label>\n      <Select\n        name=\"category\"\n        id=\"category\"\n        onChange={handleSelectChange}\n        defaultValue=\"title\"\n      >\n        <option value=\"title\">Title</option>\n        <option value=\"user\">Username</option>\n        <option value=\"html\">HTML</option>\n        <option value=\"css\">CSS</option>\n        <option value=\"js\">JS</option>\n      </Select>\n    </StyledSearchBar>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Label = styled.label`\n  margin-top: 1.5em;\n`;\n\ntype SmallContainerProps = {\n  displayInfo: boolean;\n};\n\nexport const SmallContainer = styled.div<SmallContainerProps>`\n  position: absolute;\n  height: 4.2em;\n  width: 8em;\n  border-radius: 0.2em;\n  padding: 0.2em 0.5em;\n  background-color: #233dff;\n  right: -11em;\n  bottom: -1.3em;\n  ${(props) => (!props.displayInfo ? 'display: none;' : null)};\n`;\n\nexport const Small = styled.small`\n  margin-top: 0.4em;\n  text-align: center;\n  font-style: italic;\n  font-size: 0.8em;\n`;\n\ntype StyledInputProps = {\n  error?: boolean;\n};\n\nexport const Input = styled.input<StyledInputProps>`\n  font-size: 1rem;\n  padding: 0.5em 2em;\n  text-align: center;\n  margin-top: 0.4em;\n  border-radius: 0.2em;\n  border: 0.15em solid transparent;\n  &:focus {\n    border: 0.15em solid rgb(0, 132, 255);\n    box-shadow: 0px 0px 0.2em 0.2em rgb(0, 132, 255);\n  }\n  ${(props) =>\n    props.error\n      ? 'border: .1em solid red; box-shadow: 0px 0px 0.15em 0.15em red'\n      : typeof props.error === 'undefined'\n      ? 'border: .1em solid transparent;'\n      : 'border: .1em solid green; box-shadow: 0px 0px 0.15em 0.15em green'};\n`;\n\nexport const FormContainer = styled.div`\n  width: 100%;\n  height: 80vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Form = styled.form`\n  padding: 2em;\n  /* background: #050a30; */\n  border-radius: 0.3em;\n  flex-basis: 0;\n  flex-grow: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const InputGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const Button = styled.button`\n  margin-top: 2em;\n  font-size: inherit;\n  border: 0px;\n  background: transparent;\n  color: inherit;\n  padding: 0.3em 2.5em;\n  border-radius: 0.2em;\n  cursor: pointer;\n  border: 0.1em solid white;\n  &:hover {\n    background-color: #233dff;\n    transition: background-color 1s;\n  }\n  &:focus {\n    background-color: #233dff;\n    transition: background-color 1s;\n  }\n`;\n","import axios from 'axios';\nimport { UserDocument } from '../../../src/models/User';\n\nexport const getUser = (id: string): Promise<UserDocument | null> => {\n  return axios\n    .get(`/api/users/${id}`)\n    .then((resp) => {\n      console.log(resp);\n      return resp.data;\n    })\n    .catch((err: Error) => console.log(err));\n};\n\nexport const fetchUserFavourites = (userId: string) => {\n  return axios\n    .get(`/api/users/${userId}/favourites/`)\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n\nexport const addToFavourites = (userId: string, codeGroundId: string) => {\n  return axios\n    .get(`/api/users/${userId}/favourites/${codeGroundId}`)\n    .then((res) => console.log(res.data))\n    .catch((err) => console.log(err));\n};\n\nexport const removeFromFavourites = (userId: string, codeGroundId: string) => {\n  return axios\n    .get(`/api/users/${userId}/favourites/${codeGroundId}`)\n    .then((res) => console.log(res.data))\n    .catch((err) => console.log(err));\n};\n","import React, { useState } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { CodeGroundPopulated } from '../../../../src/models/CodeGround';\n// import { UserDocument } from '../../../../src/models/User';\nimport {\n  CodeBranch,\n  Heart,\n  ThumbsUp,\n  Comments,\n  TrashAlt,\n} from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\nimport { Small } from '../StyledComponents/FormComponents';\nimport {\n  deleteGround,\n  dislikeCodeGround,\n  forkCodeGround,\n  likeCodeGround,\n} from '../../services/codeground';\nimport { addToFavourites, removeFromFavourites } from '../../services/users';\nimport { UserDocument } from '../../../../src/models/User';\n\nconst ResultFieldContainer = styled.article`\n  display: flex;\n  flex-direction: column;\n  width: 25vw;\n  background: #2b2d3b;\n  margin: 1em;\n  padding: 0.3em;\n  border: 2px solid #f4f6fc;\n  border-radius: 0.4em;\n  box-shadow: 0.7em 0.7em 0.5em 0em #131522;\n`;\n\nconst ThumbnailWrapper = styled.div`\n  overflow: hidden;\n`;\n\nconst DetailsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  flex: 1 0 auto;\n  background: #131522;\n  border-top-left-radius: 0.3em;\n  border-top-right-radius: 0.3em;\n  padding: 0.5em 0em;\n`;\n\nconst OptionsWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 0.2em;\n  justify-content: center;\n`;\n\nconst StyledIframe = styled.iframe`\n  width: 100%;\n  height: 100%;\n  /* overflow: hidden; */\n\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n`;\n\nconst IconWrapper = styled(WrapperButton)`\n  margin-top: 0em;\n  background: #131522;\n  border-radius: 0.2em;\n  padding: 0.5em;\n  margin: 0em 0.2em;\n`;\n\nconst Span = styled.span`\n  margin-left: 0.5em;\n`;\n\nconst Br = styled.br`\n  margin: 0;\n`;\n\nconst H4 = styled.h4`\n  color: lightblue;\n  &:hover {\n    color: #58b487;\n    transition: 1s;\n  }\n`;\n\nconst LinkSpan = styled(Link)`\n  color: lightblue;\n  &:hover {\n    color: #58b487;\n    transition: 1s;\n  }\n`;\n\nconst StyledThumbsUp = styled(ThumbsUp)<{ liked: boolean }>`\n  ${(props) => (props.liked ? 'color:#3f9c3f' : 'color: inherit')}\n`;\n\nconst StyledHeart = styled(Heart)<{ favourited: boolean }>`\n  ${(props) => (props.favourited ? 'color:#e23131' : 'color: inherit')}\n`;\n\nexport interface GroundCardProps extends RouteComponentProps {\n  codeGround: CodeGroundPopulated;\n  user: UserDocument | null;\n  userOwnsGround: boolean;\n  liked: boolean;\n  favourited: boolean;\n}\n\nconst GroundCard: React.FC<GroundCardProps> = (props) => {\n  const { codeGround, user, userOwnsGround } = props;\n  const [like, setLike] = useState(props.liked);\n  const [favourite, setFavourite] = useState(props.favourited);\n  const [deleted, setDeleted] = useState(false);\n\n  const srcDoc = `\n  <html>\n    <head>\n      <style>${codeGround.css}</style>\n    </head>\n    <body>${codeGround.html}</body>\n    <script>${codeGround.js}</script>\n  </html>\n  `;\n\n  const handleLike = () => {\n    if (like) {\n      setLike(false);\n      dislikeCodeGround(codeGround._id, user!._id)\n        .then((resp) => console.log(resp))\n        .catch((err) => console.log(err));\n    } else {\n      setLike(true);\n      likeCodeGround(codeGround._id, user!._id)\n        .then((resp) => console.log(resp))\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const calcNumberOfLikes = () => {\n    const numberOfLikesFromProps = codeGround.likes.length;\n    if (props.liked) {\n      return !like ? numberOfLikesFromProps - 1 : numberOfLikesFromProps;\n    } else {\n      return like ? numberOfLikesFromProps + 1 : numberOfLikesFromProps;\n    }\n  };\n\n  const handleFavourite = () => {\n    if (favourite) {\n      setFavourite(false);\n      removeFromFavourites(user!._id, codeGround._id)\n        .then((resp) => console.log(resp))\n        .catch((err) => console.log(err));\n    } else {\n      setFavourite(true);\n      addToFavourites(user!._id, codeGround._id)\n        .then((resp) => console.log(resp))\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const handleDelete = () => {\n    deleteGround(codeGround._id)\n      .then(() => {\n        setDeleted(true);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleFork = () => {\n    forkCodeGround(codeGround, user!._id)\n      .then((ground) => {\n        console.log(ground);\n        console.log(props.history);\n        props.history.push(`/code-ground/${ground._id}`);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const renderInteractionButtons = () => {\n    return (\n      <>\n        <IconWrapper onClick={handleLike}>\n          <StyledThumbsUp size=\"1.2em\" liked={like} />\n          <Span>{calcNumberOfLikes()}</Span>\n        </IconWrapper>\n\n        <IconWrapper onClick={handleFavourite}>\n          <StyledHeart size=\"1.2em\" favourited={favourite} />\n        </IconWrapper>\n\n        <IconWrapper onClick={handleFork}>\n          <CodeBranch size=\"1.2em\" />\n        </IconWrapper>\n      </>\n    );\n  };\n\n  const renderEditOptions = () => {\n    return (\n      <>\n        <IconWrapper onClick={handleDelete}>\n          <TrashAlt size=\"1.2em\" />\n        </IconWrapper>\n      </>\n    );\n  };\n\n  const displayAuthors = () => {\n    return codeGround.user.username !== codeGround.creator.username ? (\n      <>\n        <Small>\n          by:{' '}\n          <LinkSpan to={`/profile/${codeGround.user._id}`}>\n            {codeGround.user.username}\n          </LinkSpan>\n        </Small>\n        <Small>\n          originally by:{' '}\n          <LinkSpan to={`/profile/${codeGround.creator._id}`}>\n            {codeGround.creator.username}\n          </LinkSpan>\n        </Small>\n      </>\n    ) : (\n      <>\n        <Small>\n          by:{' '}\n          <LinkSpan to={`/profile/${codeGround.user._id}`}>\n            {' '}\n            {codeGround.user.username}\n          </LinkSpan>\n        </Small>\n        <Br />\n        <Small></Small>\n      </>\n    );\n  };\n\n  if (deleted) return null;\n\n  return (\n    <ResultFieldContainer>\n      <DetailsWrapper>\n        <Link to={`/code-ground/${codeGround._id}`}>\n          <H4>{codeGround.title}</H4>{' '}\n        </Link>\n        {displayAuthors()}\n      </DetailsWrapper>\n\n      <ThumbnailWrapper>\n        <StyledIframe\n          title={codeGround.title}\n          srcDoc={srcDoc}\n          sandbox=\"allow-scripts\"\n          frameBorder=\"0\"\n        ></StyledIframe>\n      </ThumbnailWrapper>\n\n      <OptionsWrapper>\n        {user && !userOwnsGround ? renderInteractionButtons() : null}\n        {userOwnsGround ? renderEditOptions() : null}\n\n        <IconWrapper>\n          <Comments size={'1.2em'} />\n          <Span> {codeGround.comments.length}</Span>\n        </IconWrapper>\n      </OptionsWrapper>\n    </ResultFieldContainer>\n  );\n};\n\nexport default GroundCard;\n","import axios, { AxiosResponse } from 'axios';\nimport { error } from 'console';\nimport {\n  CodeGroundPopulated,\n  CodeGroundDocument,\n} from '../../../src/models/CodeGround';\n// import { UserDocument } from '../../../src/models/User';\n\ninterface fetchAllResponse extends AxiosResponse<CodeGroundPopulated[]> {}\ninterface Response extends AxiosResponse<CodeGroundDocument | Error> {}\n\nexport const fetchOne = (id: string): Promise<CodeGroundDocument> => {\n  return axios\n    .get(`/api/code-ground/${id}`)\n    .then((resp: Response) => resp.data)\n    .catch((err) => err);\n};\n\nexport const deleteGround = (id: string): Promise<CodeGroundDocument> => {\n  return axios\n    .delete(`/api/code-ground/${id}`)\n    .then((resp: Response) => resp.data)\n    .catch((err) => err);\n};\n\nexport const fetchAll = (): Promise<CodeGroundPopulated[]> => {\n  return axios\n    .get('/api/code-ground/')\n    .then((resp: fetchAllResponse) => resp.data)\n    .catch((err) => err);\n};\n\nexport const createCodeGround = (\n  title: string,\n  html: string,\n  css: string,\n  js: string,\n  user: string,\n  creator: string,\n): Promise<CodeGroundDocument> => {\n  const forked = user !== creator ? true : false;\n\n  return axios\n    .post('/api/code-ground/', { title, html, css, js, user, creator, forked })\n    .then((resp: Response) => resp.data)\n    .catch((err) => err);\n};\n\nexport const updateCodeGround = (\n  title: string,\n  html: string,\n  css: string,\n  js: string,\n  id: string,\n): Promise<CodeGroundDocument> => {\n  console.log('updateCodeGround function');\n  return axios\n    .put(`/api/code-ground/${id}`, {\n      title,\n      html,\n      css,\n      js,\n    })\n    .then((resp) => resp.data)\n    .catch((err) => console.log(err));\n};\n\nexport const fetchUserGrounds = (\n  userId: string,\n): Promise<CodeGroundPopulated[]> => {\n  return axios\n    .get(`/api/code-ground/user/${userId}`)\n    .then((resp: fetchAllResponse) => {\n      console.log(resp.data);\n      return resp.data;\n    })\n    .catch((err) => err);\n};\n\nexport const likeCodeGround = (codeGroundId: string, userId: string) => {\n  return axios\n    .get(`/api/code-ground/${codeGroundId}/like/${userId}`)\n    .then((resp: AxiosResponse) => console.log(resp.data))\n    .catch((err) => err);\n};\n\nexport const dislikeCodeGround = (codeGroundId: string, userId: string) => {\n  return axios\n    .delete(`/api/code-ground/${codeGroundId}/like/${userId}`)\n    .then((resp: AxiosResponse) => console.log(resp.data))\n    .catch((err) => err);\n};\n\nexport const forkCodeGround = (\n  codeGround: CodeGroundPopulated,\n  userId: string,\n) => {\n  const { title, html, js, css, creator } = codeGround;\n\n  return axios\n    .post(`/api/code-ground/fork/${userId}`, { title, html, js, css, creator })\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport SearchBar from '../Components/SearchBar/SearchBar';\nimport GroundCard from '../Components/CodeGround/CodeGroundCard';\nimport { CodeGroundPopulated } from '../../../src/models/CodeGround';\nimport { UserDocument } from '../../../src/models/User';\nimport { fetchAll } from '../services/codeground';\nimport { RouteComponentProps } from 'react-router-dom';\n\nconst HomeContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n`;\n\nexport const ResultsContainerOuter = styled.div`\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n`;\n\nconst SearchBarContainer = styled(SearchBar)`\n  flex-grow: 1;\n`;\n\nconst Loading = styled.h1`\n  text-align: center;\n  font-size: 5em;\n  color: tomato;\n`;\n\ninterface HomeState {\n  codeGrounds: CodeGroundPopulated[];\n  search: string;\n  option: string;\n}\n\ninterface HomeProps extends RouteComponentProps {\n  user: UserDocument | null;\n}\n\nexport default class Home extends React.Component<HomeProps, HomeState> {\n  state: HomeState = {\n    codeGrounds: [] as CodeGroundPopulated[],\n    search: '',\n    option: 'title',\n  };\n\n  componentDidMount() {\n    fetchAll()\n      .then((codeGrounds) => {\n        this.setState({ codeGrounds: codeGrounds });\n      })\n      .catch((err) => console.log(err));\n  }\n\n  handleSearch = (value: string) => {\n    this.setState({ search: value });\n  };\n\n  handleSelect = (value: string) => {\n    this.setState({ option: value });\n  };\n\n  displayResults = () => {\n    const { codeGrounds, search, option } = this.state;\n    const { user, ...rest } = this.props;\n\n    let filtered;\n\n    if (option === 'title')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.title.includes(search),\n      );\n    if (option === 'user')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.user.username.includes(search),\n      );\n    if (option === 'html')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.html.includes(search),\n      );\n    if (option === 'css')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.css.includes(search),\n      );\n    if (option === 'js')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.title.includes(search),\n      );\n\n    return filtered\n      ? filtered\n          .map((ground) => (\n            <GroundCard\n              key={ground._id}\n              user={user}\n              userOwnsGround={user ? ground.user._id === user._id : false}\n              codeGround={ground}\n              liked={user ? ground.likes.includes(user._id) : false}\n              favourited={user ? user.favourites.includes(ground._id) : false}\n              {...rest}\n            />\n          ))\n          .slice(0, 6)\n      : null;\n  };\n\n  render() {\n    const { search, codeGrounds } = this.state;\n\n    if (codeGrounds.length === 0) {\n      return <Loading>Loading</Loading>;\n    }\n\n    return (\n      <HomeContainer>\n        <SearchBarContainer\n          search={search}\n          handleSearch={this.handleSearch}\n          handleSelect={this.handleSelect}\n        />\n        <ResultsContainerOuter>{this.displayResults()}</ResultsContainerOuter>\n      </HomeContainer>\n    );\n  }\n}\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport GroundCard from '../CodeGround/CodeGroundCard';\nimport { CodeGroundPopulated } from '../../../../src/models/CodeGround';\nimport { UserDocument } from '../../../../src/models/User';\nimport { fetchUserGrounds } from '../../services/codeground';\nimport { RouteComponentProps } from 'react-router-dom';\n\nconst DashboardContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n`;\n\nconst GroundsContainerOuter = styled.div`\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n  margin-top: 2em;\n`;\n\ninterface DashboardProps extends RouteComponentProps {\n  profileUser: UserDocument;\n  user: UserDocument | null;\n}\n\nconst Dashboard: React.FC<DashboardProps> = ({\n  profileUser,\n  user,\n  ...rest\n}) => {\n  const [codeGrounds, setCodeGrounds] = useState([] as CodeGroundPopulated[]);\n\n  useEffect(() => {\n    fetchUserGrounds(profileUser._id)\n      .then((codeGrounds: CodeGroundPopulated[]) => setCodeGrounds(codeGrounds))\n      .catch((err: Error) => console.log(err));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderCards = () => {\n    return codeGrounds.map((ground) => (\n      <GroundCard\n        key={ground._id}\n        user={user}\n        userOwnsGround={user ? ground.user._id === user._id : false}\n        codeGround={ground}\n        liked={user ? ground.likes.includes(user._id) : false}\n        favourited={user ? user.favourites.includes(ground._id) : false}\n        {...rest}\n      />\n    ));\n  };\n\n  if (!codeGrounds) return <h1>Loading</h1>;\n\n  return (\n    <DashboardContainer>\n      <GroundsContainerOuter>{renderCards()}</GroundsContainerOuter>\n    </DashboardContainer>\n  );\n};\n\nexport default Dashboard;\n","import React, { FC } from 'react';\nimport styled from 'styled-components';\nimport { UserDocument } from '../../../../src/models/User';\nimport { Edit } from '@styled-icons/fa-solid';\n\ninterface HeaderProps {\n  user: UserDocument;\n}\n\nconst HeaderContainer = styled.section`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 3em;\n  position: relative;\n`;\n\nconst H1 = styled.h1`\n  font-size: 3em;\n`;\n\nconst ProfilePic = styled.img`\n  border-radius: 50%;\n  margin: 1em;\n  width: 10em;\n`;\n\nconst Header: FC<HeaderProps> = ({ user }) => {\n  return (\n    <HeaderContainer>\n      <H1>\n        {user.username}\n        {/* <Edit size=\"1em\" /> */}\n      </H1>\n      <ProfilePic src={user.avatar.path} alt=\"\" />\n    </HeaderContainer>\n  );\n};\n\nexport default Header;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport Dashboard from '../Components/Profile/Dashboard';\nimport Header from '../Components/Profile/Header';\nimport { UserDocument } from '../../../src/models/User';\nimport { ResultsContainerOuter as DashboardContainer } from './Home';\nimport {\n  Link,\n  RouteComponentProps,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { getUser } from '../services/users';\n\nconst ProfileContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 0em 1em;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  width: 60%;\n`;\n\nconst TabContainer = styled.div`\n  margin: 0em 1em;\n  padding: 0.3em 0.8em;\n  background: #2b2d3b;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  min-width: 13em;\n`;\n\nconst H2 = styled.h3`\n  margin: 0.3em 1em;\n  text-align: center;\n`;\n\ninterface ProfileProps extends RouteComponentProps {\n  user: UserDocument | null;\n}\n\nconst Profile: React.FC<ProfileProps> = ({ user, ...rest }) => {\n  const { userId } = useParams<{ userId: string }>();\n  const { url } = useRouteMatch();\n  const [profileUser, setProfileUser] = useState<UserDocument | null>();\n\n  useEffect(() => {\n    getUser(userId)\n      .then((profileUser) => {\n        if (!profileUser) {\n          setProfileUser(null);\n          return;\n        }\n        setProfileUser(profileUser);\n      })\n      .catch((err) => console.log(err));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const userIsProfileOwner = () => {\n    if (!user) return false;\n    if (!profileUser) return false;\n\n    return profileUser._id === user._id;\n  };\n\n  if (profileUser === null) return <h1>User not found</h1>;\n  if (profileUser === undefined) return <h1>Loading</h1>;\n  return (\n    <ProfileContainer>\n      <Header user={profileUser} />\n\n      <TabsContainer>\n        <Link to={`${url}/favourites`}>\n          <TabContainer>\n            <H2>Favourites</H2>\n          </TabContainer>\n        </Link>\n\n        <Link to={`${url}`}>\n          <TabContainer>\n            <H2>\n              {userIsProfileOwner() ? 'My' : `${profileUser.username}`}{' '}\n              Codegrounds\n            </H2>\n          </TabContainer>\n        </Link>\n\n        {userIsProfileOwner() && (\n          <Link to={`${url}/edit`}>\n            <TabContainer>\n              <H2>New Profile Pic</H2>\n            </TabContainer>\n          </Link>\n        )}\n      </TabsContainer>\n\n      <DashboardContainer>\n        <Dashboard profileUser={profileUser} user={user} {...rest} />\n      </DashboardContainer>\n    </ProfileContainer>\n  );\n};\n\nexport default Profile;\n","import React, { useState } from 'react';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/material-ocean.css';\nimport 'codemirror/mode/xml/xml';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/mode/css/css';\nimport 'codemirror/addon/search/searchcursor';\nimport { Controlled } from 'react-codemirror2';\nimport styled from 'styled-components';\nimport { Editor, EditorChange } from 'codemirror';\nimport './CodeEditor.css';\n\nimport { ExpandAlt, CompressAlt } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\n\nconst EditorContainer = styled.div<{ collapsed: boolean }>`\n  margin: 0;\n  display: flex;\n  /* max-width: 33.3vw; */\n  flex-direction: column;\n  ${(props) => (props.collapsed ? 'flex: 0 0 0' : 'flex: 5 0 0;')}\n`;\n\nconst EditorTitle = styled.div`\n  font-weight: 800;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.2em 1em;\n  background: #0a0c11;\n  color: #cbd1e1;\n  margin: 0.1em 0.1em 0.1em;\n`;\n\nconst IconWrapper = styled(WrapperButton)`\n  padding: 0.4em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n`;\n\nexport interface EditorProps {\n  language: string;\n  displayName: string;\n  value: string;\n  onChange: (value: string) => void;\n}\n\nexport function CodeEditor(props: EditorProps) {\n  const { language, displayName, value, onChange } = props;\n  const [collapsed, toggleCollapsed] = useState(false);\n\n  const handleChange = (editor: Editor, data: EditorChange, value: string) => {\n    onChange(value);\n  };\n\n  const handleToggleCollapsed = () => {\n    toggleCollapsed((prevState) => !prevState);\n  };\n\n  return (\n    <EditorContainer collapsed={collapsed}>\n      <EditorTitle>\n        {displayName}\n        <IconWrapper onClick={handleToggleCollapsed}>\n          {collapsed ? (\n            <CompressAlt size={'1.2em'} />\n          ) : (\n            <ExpandAlt size={'1.2em'} />\n          )}\n        </IconWrapper>\n      </EditorTitle>\n      <Controlled\n        onBeforeChange={handleChange}\n        value={value}\n        className=\"code-mirror-wrapper\"\n        options={{\n          lineWrapping: true,\n          mode: language,\n          gutters: ['CodeMirror-lint-markers'],\n          lineNumbers: true,\n          theme: 'material-ocean',\n          tabSize: 2,\n          scrollbarStyle: 'native',\n        }}\n      />\n    </EditorContainer>\n  );\n}\n","import React, { ChangeEvent, Dispatch, SetStateAction, useState } from 'react';\nimport styled from 'styled-components';\nimport { Edit } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\n\nconst TitleContainer = styled.nav`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 0.2em 1.5em 0.2em 0em;\n  background: #2b2d3b;\n`;\n\nconst Title = styled.input`\n  font-size: inherit;\n  color: inherit;\n  background: transparent;\n  text-align: center;\n  outline: none;\n  ${(props) =>\n    props.readOnly\n      ? 'border: 1px solid gray;'\n      : 'border: 1px solid lime; box-shadow: 0px 0px 1px 1px lime'}\n  border-top: 1px solid transparent;\n`;\n\nconst Button = styled(WrapperButton)`\n  margin-top: 0px;\n  margin-left: 0.3em;\n  padding: 0.4em;\n  &:hover {\n    background: #233dff;\n    transition: 0.5s;\n  }\n`;\n\nconst Svg = styled.svg`\n  margin: 0.2em;\n`;\n\nconst SvgLeft = styled(Svg)`\n  transform: rotate(-90deg);\n`;\n\ninterface CodeGroundTitleProps {\n  title: string;\n  setTitle: Dispatch<SetStateAction<string>>;\n  setVertical: Dispatch<SetStateAction<boolean>>;\n}\n\nexport default function CodeGroundTitle(props: CodeGroundTitleProps) {\n  const { title, setTitle, setVertical } = props;\n  const [editable, setEditable] = useState(false);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setTitle(e.currentTarget.value);\n  };\n\n  const handleEdit = () => {\n    setEditable((Prev) => !Prev);\n  };\n\n  const handleBlur = () => {\n    setEditable(false);\n  };\n\n  return (\n    <TitleContainer>\n      <Button onClick={() => setVertical(false)}>\n        <Svg viewBox=\"0 0 20 20\" width=\"15\" height=\"15\" fill=\"#f4f6fc\">\n          <path d=\"M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z\"></path>\n        </Svg>\n      </Button>\n\n      <Button onClick={() => setVertical(true)}>\n        <SvgLeft viewBox=\"0 0 20 20\" width=\"15\" height=\"15\" fill=\"#f4f6fc\">\n          <path d=\"M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z\"></path>\n        </SvgLeft>\n      </Button>\n\n      <Title\n        type=\"text\"\n        value={title}\n        onChange={handleChange}\n        onClick={handleEdit}\n        onBlur={handleBlur}\n        readOnly={!editable}\n      />\n\n      <Button onClick={handleEdit}>\n        <Edit size={'1.2em'} />\n      </Button>\n    </TitleContainer>\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Save, Plus } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../../Components/StyledComponents/IconsButtons';\nimport { UserDocument } from '../../../../src/models/User';\n\nconst StyledCodeBar = styled.nav`\n  background: #2b2d3b;\n  padding: 0.2em;\n  height: 100%;\n  max-height: 100%;\n  color: #f4f6fc;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 2px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  padding-top: 0.5em;\n`;\n\nconst StyledNew = styled(Plus)`\n  padding: 0.4em;\n  margin-top: 1.9em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n`;\n\nconst StyledSave = styled(Save)`\n  padding: 0.4em;\n  margin-top: 0.5em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n`;\n\ninterface CodeGroundBarProps {\n  handleSave: () => void;\n  user: UserDocument | null;\n}\n\nexport default function CodeGroundBar(props: CodeGroundBarProps) {\n  const renderSaveButton = () => {\n    return (\n      <WrapperButton onClick={props.handleSave}>\n        <StyledSave size={'1.2em'} />\n      </WrapperButton>\n    );\n  };\n\n  return (\n    <StyledCodeBar>\n      <Link to=\"/code-ground\">\n        <WrapperButton>\n          <StyledNew size={'1.2em'} />\n        </WrapperButton>\n      </Link>\n      {props.user && renderSaveButton()}\n    </StyledCodeBar>\n  );\n}\n","import React, { useState, useEffect, Dispatch, SetStateAction } from 'react';\nimport styled from 'styled-components';\nimport { Redirect } from 'react-router-dom';\nimport {\n  fetchOne,\n  createCodeGround,\n  updateCodeGround,\n} from '../services/codeground';\n// import { CodeGroundDocument } from '../../../src/models/CodeGround';\nimport { UserDocument } from '../../../src/models/User';\nimport { CodeEditor } from '../Components/CodeGround/CodeEditor';\nimport CodeGroundTitle from '../Components/CodeGround/CodeGroundTitle';\nimport CodeGroundBar from '../Components/CodeGround/CodeGroundBar';\n\nconst CodeGroundAndTitleWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-height: 92vh;\n  flex-grow: 1;\n`;\n\nconst CodeGroundWrapper = styled.div<{ vertical: boolean }>`\n  display: flex;\n  min-height: 92vh;\n  flex-grow: 1;\n\n  ${(props) => (props.vertical ? `flex-flow: row wrap;` : `flex-flow: column`)}\n`;\n\nconst EditorsWrapper = styled.div<{ vertical: boolean }>`\n  display: flex;\n  justify-content: flex-start;\n  ${(props) =>\n    props.vertical\n      ? 'flex-direction: column; width: 25%; max-height: 90vh;'\n      : 'flex-direction: row; width: 100%; max-height: 29vh;'}\n`;\n\nconst IframeWrapper = styled.div`\n  flex: 2 0 0;\n  width: 100%;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport interface CodeGroundProps {\n  id?: string;\n  user: UserDocument | null;\n  setNotSavedCodeGround: Dispatch<SetStateAction<boolean>>;\n  notSavedCodeGround: boolean;\n}\n\nconst OuterWrapper = styled.div`\n  display: flex;\n  height: 94.5vh;\n`;\n\nexport default function CodeGround(props: CodeGroundProps) {\n  const { id, user, setNotSavedCodeGround, notSavedCodeGround } = props;\n  const [title, setTitle] = useState('untitled');\n  const [html, setHtml] = useState('');\n  const [css, setCss] = useState('');\n  const [js, setJs] = useState('');\n  const [srcDoc, setSrcDoc] = useState('');\n  const [creator, setCreator] = useState('');\n  const [vertical, setVertical] = useState(false);\n\n  const [redirectToLogin, setRedirectToLogin] = useState(false);\n\n  const defaultCss = '<style>body{margin:0}</style>';\n\n  useEffect(() => {\n    if (notSavedCodeGround) {\n      setTitle(window.localStorage.getItem('title')!);\n      setHtml(window.localStorage.getItem('html')!);\n      setCss(window.localStorage.getItem('css')!);\n      setJs(window.localStorage.getItem('js')!);\n    } else if (id) {\n      fetchOne(id)\n        .then((codeGround) => {\n          setTitle(codeGround.title);\n          setHtml(codeGround.html);\n          setCss(codeGround.css);\n          setJs(codeGround.js);\n          setCreator(codeGround.user);\n        })\n        .catch((err) => console.log(err));\n    } else if (user) {\n      setCreator(user._id);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setSrcDoc(`\n      <html>\n        <head>\n          ${defaultCss}\n          <style>${css}</style>\n        </head>\n        <body>${html}</body>\n        <script>${js}</script>\n      </html>\n      `);\n    }, 500);\n\n    return () => clearTimeout(timeout);\n  }, [html, css, js]);\n\n  const handleSave = () => {\n    if (!user) {\n      console.log('no user found');\n      window.localStorage.setItem('title', title);\n      window.localStorage.setItem('html', html);\n      window.localStorage.setItem('css', css);\n      window.localStorage.setItem('js', js);\n      setNotSavedCodeGround(true);\n      setRedirectToLogin((prevRedirect) => !prevRedirect);\n    } else if (!id || user._id !== creator) {\n      console.log('else if in handleSave');\n      createCodeGround(title, html, css, js, user._id, creator).then(\n        (codeGround) => {\n          setTitle(codeGround.title);\n          setHtml(codeGround.html);\n          setCss(codeGround.css);\n          setJs(codeGround.js);\n          setCreator(codeGround.creator);\n        },\n      );\n    } else {\n      updateCodeGround(title, html, css, js, id).then((codeGround) => {\n        console.log(codeGround);\n        setTitle(codeGround.title);\n        setHtml(codeGround.html);\n        setCss(codeGround.css);\n        setJs(codeGround.js);\n        setCreator(codeGround.creator);\n      });\n    }\n  };\n\n  return redirectToLogin ? (\n    <Redirect to=\"/login\" />\n  ) : (\n    <OuterWrapper>\n      <CodeGroundBar handleSave={handleSave} user={user} />\n      <CodeGroundAndTitleWrapper>\n        <CodeGroundTitle\n          title={title}\n          setTitle={setTitle}\n          setVertical={setVertical}\n        />\n        <CodeGroundWrapper vertical={vertical}>\n          <EditorsWrapper vertical={vertical}>\n            <CodeEditor\n              displayName=\"HTML\"\n              language=\"xml\"\n              value={html}\n              onChange={setHtml}\n            />\n            <CodeEditor\n              displayName=\"CSS\"\n              language=\"css\"\n              value={css}\n              onChange={setCss}\n            />\n            <CodeEditor\n              displayName=\"JS\"\n              language=\"javascript\"\n              value={js}\n              onChange={setJs}\n            />\n          </EditorsWrapper>\n          <IframeWrapper>\n            <iframe\n              srcDoc={srcDoc}\n              title=\"rendered-ground\"\n              frameBorder=\"0\"\n              sandbox=\"allow-scripts\"\n              width=\"100%\"\n              height=\"100%\"\n              style={{ flex: '1 0 0' }}\n            ></iframe>\n          </IframeWrapper>\n        </CodeGroundWrapper>\n      </CodeGroundAndTitleWrapper>\n    </OuterWrapper>\n  );\n}\n","import React, { useState, FormEvent, FocusEvent, ChangeEvent } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport './forms.css';\nimport { signup } from '../../services/auth';\nimport {\n  Label,\n  Input,\n  Form,\n  FormContainer,\n  Button,\n  Small,\n  InputGroup,\n  SmallContainer,\n} from '../StyledComponents/FormComponents';\n\nconst emailRegexp = new RegExp(\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n);\nconst passwordRegexp = new RegExp(\n  /(?=.*[0-9])(?=.*[|<>!@%+'!#$^?:.(){}[\\]+~\\-_.])[a-zA-Z0-9|<>!@%+'!#$^?:.(){}[\\]+~\\-_.]{8,30}/,\n);\n\ninterface Errors {\n  [key: string]: boolean;\n}\n\nexport default function SignUpForm(props: RouteComponentProps) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [password2, setPassword2] = useState('');\n  const [email, setEmail] = useState('');\n  const [errors, setErrors] = useState<Errors>({});\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const validate = (): Errors => {\n    const currentErrors = { ...errors };\n\n    if (username.length === 0 || username.length > 20) {\n      currentErrors.username = true;\n    } else currentErrors.username = false;\n\n    if (password.length < 8 || !passwordRegexp.test(password)) {\n      currentErrors.password = true;\n    } else currentErrors.password = false;\n\n    if (\n      password.length === 0 ||\n      !passwordRegexp.test(password) ||\n      password2 !== password\n    ) {\n      currentErrors.password2 = true;\n    } else currentErrors.password2 = false;\n\n    if (!emailRegexp.test(email)) {\n      currentErrors.email = true;\n    } else currentErrors.email = false;\n\n    return currentErrors;\n  };\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const currentErrors = validate();\n\n    setErrors(currentErrors);\n\n    if (Object.keys(errors).length !== 0) {\n      signup(username, email, password)\n        .then((resp) => {\n          console.log(resp);\n          if (\n            resp.name === 'MongoError' &&\n            resp.keyValue.hasOwnProperty('email')\n          ) {\n            setErrorMessage('DB Error: the provided email already exists');\n          } else {\n            props.history.push('/login');\n          }\n        })\n        .catch((err) => {\n          console.log('error catched in sigupform.tsx line 69', err);\n        });\n    }\n  };\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    const name = e.currentTarget.name;\n\n    if (name === 'username') setUsername(value);\n    if (name === 'password') setPassword(value);\n    if (name === 'password2') setPassword2(value);\n    if (name === 'email') setEmail(value);\n  };\n\n  const handleBlur = (e: FocusEvent<HTMLInputElement>) => {\n    const name = e.currentTarget.name;\n    const isValid = validate()[name];\n    setErrors({ ...errors, [name]: isValid });\n  };\n\n  return (\n    <FormContainer>\n      <Form onSubmit={handleSubmit}>\n        <InputGroup>\n          <Label htmlFor=\"username\">Username</Label>\n          <Input\n            type=\"text\"\n            name=\"username\"\n            id=\"username\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={username}\n            error={errors.username}\n          />\n\n          <SmallContainer displayInfo={errors.username}>\n            <Small>Required. No longer than 20.</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"email\">Email</Label>\n          <Input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={email}\n            error={errors.email}\n          />\n\n          <SmallContainer displayInfo={errors.email}>\n            <Small>Provide valid email</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"password\">Password</Label>\n          <Input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={password}\n            error={errors.password}\n          />\n\n          <SmallContainer displayInfo={errors.password}>\n            <Small>Must have min 8 chars, 1 number & 1 special char</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"password2\">Enter Password again:</Label>\n          <Input\n            type=\"password\"\n            name=\"password2\"\n            id=\"password2\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={password2}\n            error={errors.password2}\n          />\n\n          <SmallContainer displayInfo={errors.password2}>\n            <Small>Passwords must match with each other.</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        {errorMessage ? <Small>{errorMessage}</Small> : <Small></Small>}\n\n        <Button type=\"submit\">Join</Button>\n      </Form>\n    </FormContainer>\n  );\n}\n","import React from 'react';\nimport SignUpForm from '../Components/Forms/SignUpForm';\nimport { RouteComponentProps } from 'react-router-dom';\n\nexport default function SignUp(props: RouteComponentProps) {\n  return <SignUpForm {...props} />;\n}\n","import React, {\n  useState,\n  FormEvent,\n  ChangeEvent,\n  Dispatch,\n  SetStateAction,\n} from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { UserDocument } from '../../../../src/models/User';\nimport './forms.css';\nimport { login } from '../../services/auth';\nimport {\n  Label,\n  Input,\n  Form,\n  FormContainer,\n  Button,\n  InputGroup,\n  Small,\n} from '../StyledComponents/FormComponents';\n\ninterface LoginFormProps {\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n  notSavedCodeGround: boolean;\n}\n\nexport default function LoginForm(props: LoginFormProps) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    login(username, password)\n      .then((resp) => {\n        if (resp.hasOwnProperty('message')) {\n          setErrorMessage(resp.message);\n        } else {\n          console.log(resp);\n          props.setUser(resp);\n          props.notSavedCodeGround ? (\n            <Redirect to=\"/code-grounds\" />\n          ) : (\n            <Redirect to=\"/profile\" />\n          );\n        }\n      })\n      .catch((err) => {\n        console.log('Error logged in in LoginForm.tsx line 29', err);\n      });\n  };\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    const name = e.currentTarget.name;\n\n    if (name === 'username') setUsername(value);\n    if (name === 'password') setPassword(value);\n  };\n\n  return (\n    <FormContainer>\n      <Form onSubmit={handleSubmit}>\n        <InputGroup>\n          <Label htmlFor=\"username\">Username</Label>\n          <Input\n            type=\"text\"\n            name=\"username\"\n            id=\"username\"\n            onChange={handleChange}\n            value={username}\n            required\n          />\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"password\">Password</Label>\n          <Input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            onChange={handleChange}\n            value={password}\n            required\n          />\n        </InputGroup>\n\n        {errorMessage ? <Small>{errorMessage}</Small> : <Small></Small>}\n\n        <Button type=\"submit\">Login</Button>\n      </Form>\n    </FormContainer>\n  );\n}\n","import React, { Dispatch, SetStateAction } from 'react';\nimport LoginForm from '../Components/Forms/LoginForm';\nimport { UserDocument } from '../../../src/models/User';\n\ninterface LoginProps {\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n  notSavedCodeGround: boolean;\n}\n\nexport default function Login(props: LoginProps) {\n  return <LoginForm {...props} />;\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Button } from '../Components/StyledComponents/FormComponents';\nimport { Link } from 'react-router-dom';\n\nconst Error = styled.div`\n  text-align: center;\n`;\n\nexport default function NotFound() {\n  return (\n    <>\n      <Error>\n        <h1>404 Error</h1>\n        <h3>The page you tried to access doesn't exist</h3>\n        <Link to=\"/\">\n          <Button>Take me back to the Dashboard</Button>\n        </Link>\n      </Error>\n    </>\n  );\n}\n","import React from 'react';\nimport { Route, Redirect, RouteProps } from 'react-router-dom';\n\nexport interface ProtectedRouteProps extends RouteProps {\n  permission: boolean;\n  redirectPath: string;\n  hasCodeGround?: boolean;\n}\n\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = (props) => {\n  const { permission, redirectPath, hasCodeGround, ...rest } = props;\n\n  if (!props.permission) {\n    const renderComponent = () => (\n      <Redirect to={{ pathname: props.redirectPath }} />\n    );\n    return <Route {...rest} component={renderComponent} render={undefined} />;\n  }\n  console.log(rest);\n  return <Route {...rest} />;\n};\n","import axios from 'axios';\n\nconst service = axios.create({\n  baseURL: 'http://localhost:8000/api/cloudinary',\n  withCredentials: true,\n});\n\nconst errorHandler = (err: Error) => {\n  throw err;\n};\n\nconst Cloudinary = {\n  service,\n  uploadPic(pic: FormData, userId: string): Promise<string> {\n    return service\n      .post(`/new-pic/${userId}`, pic)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n};\n\nexport default Cloudinary;\n","import React, {\n  Dispatch,\n  FC,\n  FormEvent,\n  SetStateAction,\n  useState,\n} from 'react';\nimport { UserDocument } from '../../../../src/models/User';\nimport { Label, Input, Form, Button } from '../StyledComponents/FormComponents';\nimport Cloudinary from '../../services/cloudinary';\nimport axios from 'axios';\nimport { ChangeEvent } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\n\ninterface NewPicFormProps extends RouteComponentProps {\n  user: UserDocument;\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst NewPicForm: FC<NewPicFormProps> = ({ user, setUser, history }) => {\n  const [file, setFile] = useState<File>();\n\n  const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    setFile(e.target.files[0]);\n  };\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const pic = new FormData();\n    if (file) {\n      pic.append('pic', file, file.name);\n\n      Cloudinary.uploadPic(pic, user._id)\n        .then((picPath) => {\n          return axios\n            .get('/api/auth/logged-in')\n            .then((resp) => {\n              const user: UserDocument = resp.data;\n              setUser(user);\n              history.push('/profile');\n            })\n            .catch((err) =>\n              console.log('Error while retrieving the new user instance'),\n            );\n        })\n        .catch((err) => {\n          console.log('Error while adding the pic: ', err);\n        });\n    } else {\n      return;\n    }\n  };\n\n  return (\n    <div>\n      <Form onSubmit={handleSubmit} encType=\"multipart/Form-data\">\n        <Label htmlFor=\"pic\">Upload new profile pic:</Label>\n        <Input\n          type=\"file\"\n          name=\"pic\"\n          id=\"pic\"\n          onChange={handleFileChange}\n          required\n        />\n        <Button type=\"submit\">Upload Profile Pic</Button>\n      </Form>\n    </div>\n  );\n};\n\nexport default NewPicForm;\n","import React, { Dispatch, FC, SetStateAction } from 'react';\nimport NewPicForm from './NewPicForm';\nimport { UserDocument } from '../../../../src/models/User';\nimport { RouteComponentProps } from 'react-router-dom';\n\nexport interface ProfileEditProps extends RouteComponentProps {\n  user: UserDocument;\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst ProfileEdit: FC<ProfileEditProps> = (props) => {\n  const { user, setUser } = props;\n\n  return (\n    <div>\n      <NewPicForm {...props} user={user} setUser={setUser} />\n    </div>\n  );\n};\n\nexport default ProfileEdit;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport GroundCard from '../CodeGround/CodeGroundCard';\nimport { CodeGroundPopulated } from '../../../../src/models/CodeGround';\nimport { UserDocument } from '../../../../src/models/User';\nimport { fetchUserFavourites } from '../../services/users';\nimport { RouteComponentProps } from 'react-router-dom';\n\nconst DashboardContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n`;\n\nconst GroundsContainerOuter = styled.div`\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n  margin-top: 2em;\n`;\n\ninterface DashboardProps extends RouteComponentProps {\n  profileUser: UserDocument;\n  user: UserDocument | null;\n}\n\nconst FavouritesDashboard: React.FC<DashboardProps> = ({\n  profileUser,\n  user,\n  ...rest\n}) => {\n  const [codeGrounds, setCodeGrounds] = useState([] as CodeGroundPopulated[]);\n\n  useEffect(() => {\n    fetchUserFavourites(profileUser._id)\n      .then((codeGrounds: CodeGroundPopulated[]) => {\n        setCodeGrounds(codeGrounds);\n      })\n      .catch((err: Error) => console.log(err));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderCards = () => {\n    return codeGrounds.map((ground) => (\n      <GroundCard\n        key={ground._id}\n        user={user}\n        userOwnsGround={user ? ground.user._id === user._id : false}\n        codeGround={ground}\n        liked={user ? ground.likes.includes(user._id) : false}\n        favourited={user ? profileUser.favourites.includes(ground._id) : false}\n        {...rest}\n      />\n    ));\n  };\n\n  if (codeGrounds === undefined) return <h1>Loading</h1>;\n  if (codeGrounds === null) return <h1>No Favourites yet</h1>;\n\n  return (\n    <DashboardContainer>\n      <GroundsContainerOuter>{renderCards()}</GroundsContainerOuter>\n    </DashboardContainer>\n  );\n};\n\nexport default FavouritesDashboard;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport FavouriteDashboard from '../Components/Profile/FavouriteDashboard';\nimport Header from '../Components/Profile/Header';\nimport { UserDocument } from '../../../src/models/User';\nimport { ResultsContainerOuter as DashboardContainer } from './Home';\nimport {\n  Link,\n  RouteComponentProps,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { getUser } from '../services/users';\n\nconst ProfileContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 0em 1em;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  width: 60%;\n`;\n\nconst TabContainer = styled.div`\n  margin: 0em 1em;\n  padding: 0.3em 0.8em;\n  background: #2b2d3b;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  min-width: 13em;\n`;\n\nconst H2 = styled.h3`\n  margin: 0.3em 1em;\n  text-align: center;\n`;\n\ninterface ProfileProps extends RouteComponentProps {\n  user: UserDocument | null;\n  // setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst Profile: React.FC<ProfileProps> = ({ user, ...rest }) => {\n  const { userId } = useParams<{ userId: string }>();\n  const { path, url } = useRouteMatch();\n  const [profileUser, setProfileUser] = useState<UserDocument | null>();\n\n  useEffect(() => {\n    getUser(userId)\n      .then((profileUser) => {\n        if (!profileUser) {\n          setProfileUser(null);\n          return;\n        }\n        setProfileUser(profileUser);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  const userIsProfileOwner = () => {\n    if (!user) return false;\n    if (!profileUser) return false;\n\n    return profileUser._id === user._id;\n  };\n\n  if (profileUser === null) return <h1>User not found</h1>;\n  if (profileUser === undefined) return <h1>Loading</h1>;\n  return (\n    <ProfileContainer>\n      <Header user={profileUser} />\n\n      <TabsContainer>\n        <Link to={`/profile/${userId}/favourites`}>\n          <TabContainer>\n            <H2>Favourites</H2>\n          </TabContainer>\n        </Link>\n\n        <Link to={`/profile/${userId}`}>\n          <TabContainer>\n            <H2>\n              {userIsProfileOwner() ? 'My' : `${profileUser.username}`}{' '}\n              Codegrounds\n            </H2>\n          </TabContainer>\n        </Link>\n\n        {userIsProfileOwner() && (\n          <Link to={`/profile/${userId}/edit`}>\n            <TabContainer>\n              <H2>New Profile Pic</H2>\n            </TabContainer>\n          </Link>\n        )}\n      </TabsContainer>\n\n      <DashboardContainer>\n        <FavouriteDashboard {...rest} profileUser={profileUser} user={user} />\n      </DashboardContainer>\n    </ProfileContainer>\n  );\n};\n\nexport default Profile;\n","import React, { FC, useState } from 'react';\nimport styled from 'styled-components';\nimport { Switch, Route, RouteComponentProps, Redirect } from 'react-router-dom';\nimport { UserDocument } from '../../src/models/User';\n\n// COMPONENTS\nimport NavBar from './Components/NavBar/NavBar';\nimport Home from './Pages/Home';\nimport Profile from './Pages/Profile';\nimport CodeGround from './Pages/CodeGround';\nimport SignUp from './Pages/SignUp';\nimport Login from './Pages/Login';\nimport NotFound from './Pages/NotFound';\nimport { ProtectedRoute } from './Pages/ProtectedRoute';\nimport ProfileEdit from './Components/Profile/ProfileEdit';\nimport Favourites from './Pages/Favourites';\n\nconst AppContainer = styled.main`\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n`;\n\ninterface AppProps extends RouteComponentProps {\n  user: UserDocument | null;\n}\n\nconst App: FC<AppProps> = ({ user: UserProp, ...rest }) => {\n  const [user, setUser] = useState(UserProp);\n  const [notSavedCodeGround, setNotSavedCodeGround] = useState(false);\n  return (\n    <AppContainer>\n      <NavBar user={user} setUser={setUser} {...rest} />\n\n      <Switch>\n        <Route\n          exact\n          path=\"/home\"\n          render={(props) => <Home {...props} user={user} />}\n        />\n\n        <Route\n          exact\n          path=\"/code-ground\"\n          render={(props) => (\n            <CodeGround\n              {...props}\n              user={user}\n              setNotSavedCodeGround={setNotSavedCodeGround}\n              notSavedCodeGround={notSavedCodeGround}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/code-ground/:id\"\n          render={(props) => (\n            <CodeGround\n              {...props}\n              id={props.match.params.id}\n              user={user}\n              setNotSavedCodeGround={setNotSavedCodeGround}\n              notSavedCodeGround={notSavedCodeGround}\n            />\n          )}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/login\"\n          permission={user ? false : true}\n          redirectPath=\"/profile\"\n          render={(props: RouteComponentProps) => (\n            <Login\n              {...props}\n              setUser={setUser}\n              notSavedCodeGround={notSavedCodeGround}\n            />\n          )}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/signup\"\n          permission={user ? false : true}\n          redirectPath=\"/profile\"\n          component={SignUp}\n        />\n\n        <Route\n          exact\n          path=\"/profile/:userId\"\n          render={(props) => <Profile {...props} user={user} />}\n        />\n\n        <ProtectedRoute\n          exact={true}\n          path=\"/profile/:userId/edit\"\n          permission={user ? true : false}\n          redirectPath=\"/login\"\n          render={(props) => (\n            <ProfileEdit {...props} user={user!} setUser={setUser} />\n          )}\n        />\n\n        <Route\n          exact\n          path=\"/profile/:userId/favourites\"\n          render={(props) => <Favourites {...props} user={user} />}\n        />\n\n        <Redirect from=\"/\" to=\"/home\" />\n\n        <Route component={NotFound} />\n      </Switch>\n    </AppContainer>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { UserDocument } from '../../src/models/User';\n\naxios\n  .get('/api/auth/logged-in')\n  .then((resp) => {\n    const user: UserDocument = resp.data;\n\n    ReactDOM.render(\n      <BrowserRouter>\n        <React.StrictMode>\n          <Route path=\"/\" render={(props) => <App {...props} user={user} />} />\n        </React.StrictMode>\n      </BrowserRouter>,\n      document.getElementById('root'),\n    );\n  })\n  .catch((err) => console.log(err));\n"],"sourceRoot":""}