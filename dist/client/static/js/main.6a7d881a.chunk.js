(this["webpackJsonpcode-grounds-client"]=this["webpackJsonpcode-grounds-client"]||[]).push([[0],{39:function(e,n,t){},55:function(e,n,t){},91:function(e,n,t){},92:function(e,n,t){"use strict";t.r(n);var r,c,a=t(1),i=t.n(a),o=t(40),s=t.n(o),d=(t(55),t(4)),l=t(5),j=t(3),u=t(2),b=t(9),h=t(8),m=t(93),O=t(94),f=t(95),x=t(14),g=t.n(x),p=t(0),v=u.a.div(r||(r=Object(j.a)(["\n  margin-right: 2em;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-end;\n  width: 30vw;\n"]))),w=Object(u.a)(m.a)(c||(c=Object(j.a)(["\n  position: relative;\n  &:hover {\n    border-radius: 50%;\n    transition: 1s;\n    color: #f4f6fc;\n  }\n"])));function y(e){var n=function(){g.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e})).then((function(n){console.log(n),e.setUser(null),b.a})).catch((function(e){return console.log(e)}))};return Object(p.jsx)(v,{children:e.user?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(L,{onClick:n,children:["Log Out ",Object(p.jsx)(O.a,{size:"1em"})]}),Object(p.jsx)(h.b,{to:"/profile",style:{marginLeft:"1em"},children:Object(p.jsx)(w,{size:"1.3em"})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(h.b,{to:"/signup",children:Object(p.jsx)(L,{children:"Join"})}),Object(p.jsx)(h.b,{to:"/login",children:Object(p.jsxs)(L,{children:["Login ",Object(p.jsx)(f.a,{size:"1em"})]})})]})})}var S,k,C,z,G,I,T,A=t(96),_=t(97),E=u.a.button(S||(S=Object(j.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  margin-top: 0.5em;\n  background: transparent;\n  border: 0;\n  color: inherit;\n"]))),F=u.a.img(k||(k=Object(j.a)(["\n  height: 2em;\n  margin-left: 2em;\n  margin-right: 1.5em;\n  border-radius: 50%;\n  border: 2px solid transparent;\n"]))),B=u.a.div(C||(C=Object(j.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-start;\n  width: 33vw;\n"]))),P=Object(u.a)(E)(z||(z=Object(j.a)(["\n  margin: 0em 1.5em;\n  padding: 0.3em;\n  border-radius: 50%;\n  &:hover {\n    box-shadow: 0px 0px 3px 3px #233dff;\n  }\n"])));function V(){return Object(p.jsxs)(B,{children:[Object(p.jsx)(F,{src:"https://res.cloudinary.com/doh6rpdke/image/upload/v1620936255/code-ground/assets/Untitled_design_qhrefh.png",alt:"logo"}),Object(p.jsx)(h.b,{to:"/",children:Object(p.jsx)(P,{children:Object(p.jsx)(A.a,{size:"1.6em"})})}),Object(p.jsx)(h.b,{to:"/code-ground",children:Object(p.jsx)(P,{children:Object(p.jsx)(_.a,{size:"1.6em"})})})]})}var L=u.a.button(G||(G=Object(j.a)(["\n  font-size: inherit;\n  border: 0px;\n  background: transparent;\n  color: inherit;\n  padding: 0.3em 2.5em;\n  border-radius: 0.2em;\n  cursor: pointer;\n  border: 1px solid transparent;\n  &:hover {\n    background-color: #233dff;\n  }\n  transition: background-color 1s;\n"]))),M=u.a.nav(I||(I=Object(j.a)(["\n  background: #131522;\n  max-height: 5%;\n  color: #f4f6fc;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid gray;\n  padding: 0.2em;\n"]))),N=u.a.h2(T||(T=Object(j.a)(["\n  color: #f4f6fc;\n"])));function H(e){return Object(p.jsxs)(M,{children:[Object(p.jsx)(V,{}),Object(p.jsx)(N,{children:"Codeground"}),Object(p.jsx)(y,Object(d.a)({},e))]})}var U,D,J,R=t(46),q=t(47),Z=t(50),$=t(49),W=u.a.div(U||(U=Object(j.a)(["\n  color: inherit;\n  border: 0px;\n  padding: 0.4em 0.6em;\n  text-align: center;\n  background: #2b2d3b;\n  width: 90%;\n  margin: 1em;\n  display: flex;\n  align-items: center;\n  border-radius: 0.2em;\n"]))),Y=u.a.input(D||(D=Object(j.a)(["\n  color: inherit;\n  border: 1px solid white;\n  padding: 0.4em 0.6em;\n  text-align: center;\n  background: #131522;\n  flex-grow: 5;\n  border-radius: 0.2em;\n  margin-right: 1em;\n  font-size: 1rem;\n  &:focus {\n    border: 0px !important;\n    box-shadow: 0px 0px 0px 0px !important;\n  }\n"]))),K=u.a.select(J||(J=Object(j.a)(["\n  font-size: 1em;\n  color: inherit;\n  margin-left: 1em;\n  padding: 0.2em 0.4em;\n  overflow: hidden;\n  border-radius: 0.2em;\n  background: #131522;\n  border: 0px;\n"])));var Q,X,ee,ne,te,re,ce,ae,ie,oe,se,de,le,je,ue,be,he,me,Oe,fe,xe,ge,pe,ve=t(98),we=t(99),ye=t(100),Se=t(101),ke=u.a.article(Q||(Q=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 25vw;\n  background: #2b2d3b;\n  margin: 1em;\n  padding: 0.3em;\n  border: 2px solid #f4f6fc;\n  border-radius: 0.4em;\n  box-shadow: 0.7em 0.7em 0.5em 0em #131522;\n"]))),Ce=u.a.div(X||(X=Object(j.a)(["\n  overflow: hidden;\n"]))),ze=u.a.div(ee||(ee=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  flex: 1 0 auto;\n  background: #131522;\n  border-top-left-radius: 0.3em;\n  border-top-right-radius: 0.3em;\n  padding: 0.5em 0em;\n"]))),Ge=u.a.div(ne||(ne=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 0.2em;\n  justify-content: center;\n"]))),Ie=u.a.iframe(te||(te=Object(j.a)(["\n  width: 100%;\n  height: 100%;\n  /* overflow: hidden; */\n\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n"]))),Te=Object(u.a)(E)(re||(re=Object(j.a)(["\n  margin-top: 0em;\n  background: #131522;\n  border-radius: 0.2em;\n  padding: 0.5em;\n  margin: 0em 0.2em;\n"]))),Ae=u.a.span(ce||(ce=Object(j.a)(["\n  margin-left: 0.5em;\n"]))),_e=function(e){var n=e.codeGround,t=e.userLoggedIn,r=e.userOwnsGround,c=(e.isCreator,"\n  <html>\n    <head>\n      <style>".concat(n.css,"</style>\n    </head>\n    <body>").concat(n.html,"</body>\n    <script>").concat(n.js,"<\/script>\n  </html>\n  "));return Object(p.jsxs)(ke,{children:[Object(p.jsx)(h.b,{to:"/code-ground/".concat(n._id),children:Object(p.jsxs)(ze,{children:[Object(p.jsx)("h4",{children:n.title}),Object(p.jsxs)("small",{children:["forked by: ",n.user.username]}),Object(p.jsxs)("small",{children:["created by: ",n.creator.username]})]})}),Object(p.jsx)(Ce,{children:Object(p.jsx)(Ie,{title:n.title,srcDoc:c,sandbox:"allow-scripts",frameBorder:"0"})}),Object(p.jsxs)(Ge,{children:[t&&!r?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(Te,{children:[Object(p.jsx)(ve.a,{size:"1.2em"}),Object(p.jsxs)(Ae,{children:[" ",n.likes.length]})]}),Object(p.jsx)(Te,{children:Object(p.jsx)(we.a,{size:"1.2em"})}),Object(p.jsx)(Te,{children:Object(p.jsx)(ye.a,{size:"1.2em"})})]}):null,r?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("small",{children:"creator options..."})}):null,Object(p.jsxs)(Te,{children:[Object(p.jsx)(Se.a,{size:"1.2em"}),Object(p.jsxs)(Ae,{children:[" ",n.comments.length]})]})]})]})},Ee=u.a.div(ae||(ae=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n"]))),Fe=u.a.div(ie||(ie=Object(j.a)(["\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n"]))),Be=Object(u.a)((function(e){return Object(p.jsxs)(W,{children:[Object(p.jsx)(Y,{type:"text",name:"search",id:"search",value:e.search,onChange:function(n){return e.handleSearch(n.currentTarget.value)}}),Object(p.jsx)("label",{htmlFor:"category",children:"Search by:"}),Object(p.jsxs)(K,{name:"category",id:"category",onChange:function(n){e.handleSelect(n.currentTarget.value)},defaultValue:"title",children:[Object(p.jsx)("option",{value:"title",children:"Title"}),Object(p.jsx)("option",{value:"user",children:"Username"}),Object(p.jsx)("option",{value:"html",children:"HTML"}),Object(p.jsx)("option",{value:"css",children:"CSS"}),Object(p.jsx)("option",{value:"js",children:"JS"})]})]})}))(oe||(oe=Object(j.a)(["\n  flex-grow: 1;\n"]))),Pe=u.a.h1(se||(se=Object(j.a)(["\n  text-align: center;\n  font-size: 5em;\n  color: tomato;\n"]))),Ve=function(e){Object(Z.a)(t,e);var n=Object($.a)(t);function t(){var e;Object(R.a)(this,t);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=n.call.apply(n,[this].concat(c))).state={codeGrounds:[],search:"",option:"title"},e.handleSearch=function(n){e.setState({search:n})},e.handleSelect=function(n){e.setState({option:n})},e.displayResults=function(){var n,t=e.state,r=t.codeGrounds,c=t.search,a=t.option,i=e.props.user;return"title"===a&&(n=r.filter((function(e){return e.title.includes(c)}))),"user"===a&&(n=r.filter((function(e){return e.user.username.includes(c)}))),"html"===a&&(n=r.filter((function(e){return e.html.includes(c)}))),"css"===a&&(n=r.filter((function(e){return e.css.includes(c)}))),"js"===a&&(n=r.filter((function(e){return e.title.includes(c)}))),n?n.map((function(e){return Object(p.jsx)(_e,{userLoggedIn:!!i,userOwnsGround:!!i&&e.user._id===i._id,codeGround:e,isCreator:!!i&&i._id===e.creator._id},e._id)})).slice(0,6):null},e}return Object(q.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/api/code-ground/").then((function(e){return e.data})).catch((function(e){return e})).then((function(n){e.setState({codeGrounds:n})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,n=e.search;return 0===e.codeGrounds.length?Object(p.jsx)(Pe,{children:"Loading"}):Object(p.jsxs)(Ee,{children:[Object(p.jsx)(Be,{search:n,handleSearch:this.handleSearch,handleSelect:this.handleSelect}),Object(p.jsx)(Fe,{children:this.displayResults()})]})}}]),t}(i.a.Component),Le=u.a.div(de||(de=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n"]))),Me=u.a.div(le||(le=Object(j.a)(["\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n"]))),Ne=function(e){var n=e.user,t=Object(a.useState)([]),r=Object(l.a)(t,2),c=r[0],i=r[1];Object(a.useEffect)((function(){var e;(e=n._id,g.a.get("/api/code-ground/user/".concat(e)).then((function(e){return console.log(e.data),e.data})).catch((function(e){return e}))).then((function(e){return i(e)})).catch((function(e){return console.log(e)}))}),[]);return Object(p.jsx)(Le,{children:Object(p.jsx)(Me,{children:c.map((function(e){return Object(p.jsx)(_e,{userLoggedIn:!0,userOwnsGround:!0,codeGround:e,isCreator:e.user._id===e.creator._id})}))})})},He=u.a.section(je||(je=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 3em;\n"]))),Ue=u.a.h1(ue||(ue=Object(j.a)(["\n  font-size: 3em;\n"]))),De=u.a.img(be||(be=Object(j.a)(["\n  border-radius: 50%;\n  margin: 1em;\n  width: 10em;\n"]))),Je=function(e){var n=e.user;return Object(p.jsxs)(He,{children:[Object(p.jsxs)(Ue,{children:["Hello ",n.username]}),Object(p.jsx)(De,{src:n.avatar.path,alt:""})]})},Re=function(){return Object(p.jsx)("div",{})},qe=u.a.div(he||(he=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Ze=u.a.div(me||(me=Object(j.a)(["\n  position: relative;\n  background: #2b2d3b;\n  display: flex;\n  padding: 0.2em 1em;\n  justify-content: center;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n"]))),$e=u.a.div(Oe||(Oe=Object(j.a)(["\n  /* transform: translateY(-1.8em); */\n  display: flex;\n  justify-content: space-evenly;\n  background: #2b2d3b;\n  padding: 0.2em 1em;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n"]))),We=u.a.h2(fe||(fe=Object(j.a)(["\n  background: #2b2d3b;\n  margin: 0.5em 1em;\n"]))),Ye=function(e){var n=e.user;return Object(p.jsxs)(qe,{children:[Object(p.jsx)(Je,{user:n}),Object(p.jsx)(Ze,{children:Object(p.jsxs)($e,{children:[Object(p.jsx)(h.b,{to:"/profile",children:Object(p.jsx)(We,{children:"My Codegrounds"})}),Object(p.jsx)(h.b,{to:"/edit-profile",children:Object(p.jsx)(We,{children:"Edit Profile"})})]})}),Object(p.jsxs)(Fe,{children:[Object(p.jsx)(b.b,{exact:!0,path:"/profile",render:function(e){return Object(p.jsx)(Ne,Object(d.a)(Object(d.a)({},e),{},{user:n}))}}),Object(p.jsx)(b.b,{exact:!0,path:"/edit-profile",render:function(e){return Object(p.jsx)(Re,Object(d.a)(Object(d.a)({},e),{},{user:n}))}})]})]})},Ke=(t(85),t(86),t(87),t(88),t(89),t(90),t(48)),Qe=(t(91),t(102)),Xe=t(103),en=u.a.div(xe||(xe=Object(j.a)(["\n  margin: 0;\n  display: flex;\n  /* max-width: 33.3vw; */\n  flex-direction: column;\n  ","\n"])),(function(e){return e.collapsed?"flex: 0 0 0":"flex: 5 0 0;"})),nn=u.a.div(ge||(ge=Object(j.a)(["\n  font-weight: 800;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.2em 1em;\n  background: #0a0c11;\n  color: #cbd1e1;\n  margin: 0.1em 0.1em 0.1em;\n"]))),tn=Object(u.a)(E)(pe||(pe=Object(j.a)(["\n  padding: 0.4em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n"])));function rn(e){var n=e.language,t=e.displayName,r=e.value,c=e.onChange,i=Object(a.useState)(!1),o=Object(l.a)(i,2),s=o[0],d=o[1];return Object(p.jsxs)(en,{collapsed:s,children:[Object(p.jsxs)(nn,{children:[t,Object(p.jsx)(tn,{onClick:function(){d((function(e){return!e}))},children:s?Object(p.jsx)(Qe.a,{size:"1.2em"}):Object(p.jsx)(Xe.a,{size:"1.2em"})})]}),Object(p.jsx)(Ke.Controlled,{onBeforeChange:function(e,n,t){c(t)},value:r,className:"code-mirror-wrapper",options:{lineWrapping:!0,mode:n,gutters:["CodeMirror-lint-markers"],lineNumbers:!0,theme:"material-ocean",tabSize:2,scrollbarStyle:"native"}})]})}var cn,an,on,sn,dn,ln=t(104),jn=u.a.nav(cn||(cn=Object(j.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 0.2em 1.5em 0.2em 0em;\n  background: #2b2d3b;\n"]))),un=u.a.input(an||(an=Object(j.a)(["\n  font-size: inherit;\n  color: inherit;\n  background: transparent;\n  text-align: center;\n  outline: none;\n  ","\n  border-top: 1px solid transparent;\n"])),(function(e){return e.readOnly?"border: 1px solid gray;":"border: 1px solid lime; box-shadow: 0px 0px 1px 1px lime"})),bn=Object(u.a)(E)(on||(on=Object(j.a)(["\n  margin-top: 0px;\n  margin-left: 0.3em;\n  padding: 0.4em;\n  &:hover {\n    background: #233dff;\n    transition: 0.5s;\n  }\n"]))),hn=u.a.svg(sn||(sn=Object(j.a)(["\n  margin: 0.2em;\n"]))),mn=Object(u.a)(hn)(dn||(dn=Object(j.a)(["\n  transform: rotate(-90deg);\n"])));function On(e){var n=e.title,t=e.setTitle,r=e.setVertical,c=Object(a.useState)(!1),i=Object(l.a)(c,2),o=i[0],s=i[1],d=function(){s((function(e){return!e}))};return Object(p.jsxs)(jn,{children:[Object(p.jsx)(un,{type:"text",value:n,onChange:function(e){t(e.currentTarget.value)},onClick:d,onBlur:function(){s(!1)},readOnly:!o}),Object(p.jsx)(bn,{onClick:d,children:Object(p.jsx)(ln.a,{size:"1.2em"})}),Object(p.jsx)(bn,{onClick:function(){return r(!1)},children:Object(p.jsx)(hn,{viewBox:"0 0 20 20",width:"15",height:"15",fill:"#f4f6fc",children:Object(p.jsx)("path",{d:"M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z"})})}),Object(p.jsx)(bn,{onClick:function(){return r(!0)},children:Object(p.jsx)(mn,{viewBox:"0 0 20 20",width:"15",height:"15",fill:"#f4f6fc",children:Object(p.jsx)("path",{d:"M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z"})})})]})}var fn,xn,gn,pn,vn,wn,yn,Sn,kn=t(105),Cn=u.a.nav(fn||(fn=Object(j.a)(["\n  background: #2b2d3b;\n  padding: 0.2em;\n  height: 100%;\n  max-height: 100%;\n  color: #f4f6fc;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 2px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  padding-top: 0.5em;\n"]))),zn=Object(u.a)(_.a)(xn||(xn=Object(j.a)(["\n  padding: 0.4em;\n  margin-top: 1.9em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n"]))),Gn=Object(u.a)(kn.a)(gn||(gn=Object(j.a)(["\n  padding: 0.4em;\n  margin-top: 0.5em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n"])));function In(e){return Object(p.jsxs)(Cn,{children:[Object(p.jsx)(h.b,{to:"/code-ground",children:Object(p.jsx)(E,{children:Object(p.jsx)(zn,{size:"1.2em"})})}),e.user&&Object(p.jsx)(E,{onClick:e.handleSave,children:Object(p.jsx)(Gn,{size:"1.2em"})})]})}var Tn=u.a.div(pn||(pn=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 92vh;\n  flex-grow: 1;\n"]))),An=u.a.div(vn||(vn=Object(j.a)(["\n  display: flex;\n  min-height: 92vh;\n  flex-grow: 1;\n\n  ","\n"])),(function(e){return e.vertical?"flex-flow: row wrap;":"flex-flow: column"})),_n=u.a.div(wn||(wn=Object(j.a)(["\n  display: flex;\n  justify-content: flex-start;\n  ","\n"])),(function(e){return e.vertical?"flex-direction: column; width: 25%; max-height: 90vh;":"flex-direction: row; width: 100%; max-height: 29vh;"})),En=u.a.div(yn||(yn=Object(j.a)(["\n  flex: 2 0 0;\n  width: 100%;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n"]))),Fn=u.a.div(Sn||(Sn=Object(j.a)(["\n  display: flex;\n  height: 94.5vh;\n"])));function Bn(e){var n=e.id,t=e.user,r=e.setNotSavedCodeGround,c=e.notSavedCodeGround,i=Object(a.useState)("untitled"),o=Object(l.a)(i,2),s=o[0],d=o[1],j=Object(a.useState)(""),u=Object(l.a)(j,2),h=u[0],m=u[1],O=Object(a.useState)(""),f=Object(l.a)(O,2),x=f[0],v=f[1],w=Object(a.useState)(""),y=Object(l.a)(w,2),S=y[0],k=y[1],C=Object(a.useState)(""),z=Object(l.a)(C,2),G=z[0],I=z[1],T=Object(a.useState)(""),A=Object(l.a)(T,2),_=A[0],E=A[1],F=Object(a.useState)(!1),B=Object(l.a)(F,2),P=B[0],V=B[1],L=Object(a.useState)(!1),M=Object(l.a)(L,2),N=M[0],H=M[1];Object(a.useEffect)((function(){c?(d(window.localStorage.getItem("title")),m(window.localStorage.getItem("html")),v(window.localStorage.getItem("css")),k(window.localStorage.getItem("js"))):n?function(e){return g.a.get("/api/code-ground/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))}(n).then((function(e){d(e.title),m(e.html),v(e.css),k(e.js),E(e.user)})).catch((function(e){return console.log(e)})):t&&E(t._id)}),[]),Object(a.useEffect)((function(){var e=setTimeout((function(){I("\n      <html>\n        <head>\n          ".concat("<style>body{margin:0}</style>","\n          <style>").concat(x,"</style>\n        </head>\n        <body>").concat(h,"</body>\n        <script>").concat(S,"<\/script>\n      </html>\n      "))}),500);return function(){return clearTimeout(e)}}),[h,x,S]);return N?Object(p.jsx)(b.a,{to:"/login"}):Object(p.jsxs)(Fn,{children:[Object(p.jsx)(In,{handleSave:function(){t?n&&t._id===_?function(e,n,t,r,c){return console.log("updateCodeGround function"),g.a.put("/api/code-ground/".concat(c),{title:e,html:n,css:t,js:r}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}(s,h,x,S,n).then((function(e){console.log(e),d(e.title),m(e.html),v(e.css),k(e.js),E(e.creator)})):(console.log("else if in handleSave"),function(e,n,t,r,c,a){var i=c!==a;return g.a.post("/api/code-ground/",{title:e,html:n,css:t,js:r,user:c,creator:a,forked:i}).then((function(e){return e.data})).catch((function(e){return e}))}(s,h,x,S,t._id,_).then((function(e){d(e.title),m(e.html),v(e.css),k(e.js),E(e.creator)}))):(console.log("no user found"),window.localStorage.setItem("title",s),window.localStorage.setItem("html",h),window.localStorage.setItem("css",x),window.localStorage.setItem("js",S),r(!0),H((function(e){return!e})))},user:t}),Object(p.jsxs)(Tn,{children:[Object(p.jsx)(On,{title:s,setTitle:d,setVertical:V}),Object(p.jsxs)(An,{vertical:P,children:[Object(p.jsxs)(_n,{vertical:P,children:[Object(p.jsx)(rn,{displayName:"HTML",language:"xml",value:h,onChange:m}),Object(p.jsx)(rn,{displayName:"CSS",language:"css",value:x,onChange:v}),Object(p.jsx)(rn,{displayName:"JS",language:"javascript",value:S,onChange:k})]}),Object(p.jsx)(En,{children:Object(p.jsx)("iframe",{srcDoc:G,title:"rendered-ground",frameBorder:"0",sandbox:"allow-scripts",width:"100%",height:"100%",style:{flex:"1 0 0"}})})]})]})]})}var Pn,Vn,Ln,Mn,Nn,Hn,Un,Dn,Jn,Rn=t(22),qn=(t(39),u.a.label(Pn||(Pn=Object(j.a)(["\n  margin-top: 1.5em;\n"])))),Zn=u.a.div(Vn||(Vn=Object(j.a)(["\n  position: absolute;\n  height: 4.2em;\n  width: 8em;\n  border-radius: 0.2em;\n  padding: 0.2em 0.5em;\n  background-color: #233dff;\n  right: -11em;\n  bottom: -1.3em;\n  ",";\n"])),(function(e){return e.displayInfo?null:"display: none;"})),$n=u.a.small(Ln||(Ln=Object(j.a)(["\n  margin-top: 0.4em;\n  text-align: center;\n  font-style: italic;\n  font-size: 0.8em;\n"]))),Wn=u.a.input(Mn||(Mn=Object(j.a)(["\n  font-size: 1rem;\n  padding: 0.5em 2em;\n  text-align: center;\n  margin-top: 0.4em;\n  border-radius: 0.2em;\n  border: 0.15em solid transparent;\n  &:focus {\n    border: 0.15em solid rgb(0, 132, 255);\n    box-shadow: 0px 0px 0.2em 0.2em rgb(0, 132, 255);\n  }\n  ",";\n"])),(function(e){return e.error?"border: .1em solid red; box-shadow: 0px 0px 0.15em 0.15em red":"undefined"===typeof e.error?"border: .1em solid transparent;":"border: .1em solid green; box-shadow: 0px 0px 0.15em 0.15em green"})),Yn=u.a.div(Nn||(Nn=Object(j.a)(["\n  width: 100%;\n  height: 80vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Kn=u.a.form(Hn||(Hn=Object(j.a)(["\n  padding: 2em;\n  /* background: #050a30; */\n  border-radius: 0.3em;\n  flex-basis: 0;\n  flex-grow: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),Qn=u.a.div(Un||(Un=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"]))),Xn=u.a.button(Dn||(Dn=Object(j.a)(["\n  margin-top: 2em;\n  font-size: inherit;\n  border: 0px;\n  background: transparent;\n  color: inherit;\n  padding: 0.3em 2.5em;\n  border-radius: 0.2em;\n  cursor: pointer;\n  border: 0.1em solid white;\n  &:hover {\n    background-color: #233dff;\n    transition: background-color 1s;\n  }\n  &:focus {\n    background-color: #233dff;\n    transition: background-color 1s;\n  }\n"]))),et=new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),nt=new RegExp(/(?=.*[0-9])(?=.*[|<>!@%+'!#$^?:.(){}[\]+~\-_.])[a-zA-Z0-9|<>!@%+'!#$^?:.(){}[\]+~\-_.]{8,30}/);function tt(e){var n=Object(a.useState)(""),t=Object(l.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),s=o[0],j=o[1],u=Object(a.useState)(""),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)(""),f=Object(l.a)(O,2),x=f[0],v=f[1],w=Object(a.useState)({}),y=Object(l.a)(w,2),S=y[0],k=y[1],C=Object(a.useState)(""),z=Object(l.a)(C,2),G=z[0],I=z[1],T=function(){var e=Object(d.a)({},S);return 0===r.length||r.length>20?e.username=!0:e.username=!1,s.length<8||!nt.test(s)?e.password=!0:e.password=!1,0!==s.length&&nt.test(s)&&h===s?e.password2=!1:e.password2=!0,et.test(x)?e.email=!1:e.email=!0,e},A=function(e){var n=e.currentTarget.value,t=e.currentTarget.name;"username"===t&&c(n),"password"===t&&j(n),"password2"===t&&m(n),"email"===t&&v(n)},_=function(e){var n=e.currentTarget.name,t=T()[n];k(Object(d.a)(Object(d.a)({},S),{},Object(Rn.a)({},n,t)))};return Object(p.jsx)(Yn,{children:Object(p.jsxs)(Kn,{onSubmit:function(n){n.preventDefault();var t=T();k(t),0!==Object.keys(S).length&&function(e,n,t){return g.a.post("/api/auth/signup",{username:e,email:n,password:t}).then((function(e){return e.data})).catch((function(e){return e}))}(r,x,s).then((function(n){console.log(n),"MongoError"===n.name&&n.keyValue.hasOwnProperty("email")?I("DB Error: the provided email already exists"):e.history.push("/login")})).catch((function(e){console.log("error catched in sigupform.tsx line 69",e)}))},children:[Object(p.jsxs)(Qn,{children:[Object(p.jsx)(qn,{htmlFor:"username",children:"Username"}),Object(p.jsx)(Wn,{type:"text",name:"username",id:"username",onBlur:_,onChange:A,value:r,error:S.username}),Object(p.jsx)(Zn,{displayInfo:S.username,children:Object(p.jsx)($n,{children:"Required. No longer than 20."})})]}),Object(p.jsxs)(Qn,{children:[Object(p.jsx)(qn,{htmlFor:"email",children:"Email"}),Object(p.jsx)(Wn,{type:"email",name:"email",id:"email",onBlur:_,onChange:A,value:x,error:S.email}),Object(p.jsx)(Zn,{displayInfo:S.email,children:Object(p.jsx)($n,{children:"Provide valid email"})})]}),Object(p.jsxs)(Qn,{children:[Object(p.jsx)(qn,{htmlFor:"password",children:"Password"}),Object(p.jsx)(Wn,{type:"password",name:"password",id:"password",onBlur:_,onChange:A,value:s,error:S.password}),Object(p.jsx)(Zn,{displayInfo:S.password,children:Object(p.jsx)($n,{children:"Must have min 8 chars, 1 number & 1 special char"})})]}),Object(p.jsxs)(Qn,{children:[Object(p.jsx)(qn,{htmlFor:"password2",children:"Enter Password again:"}),Object(p.jsx)(Wn,{type:"password",name:"password2",id:"password2",onBlur:_,onChange:A,value:h,error:S.password2}),Object(p.jsx)(Zn,{displayInfo:S.password2,children:Object(p.jsx)($n,{children:"Passwords must match with each other."})})]}),G?Object(p.jsx)($n,{children:G}):Object(p.jsx)($n,{}),Object(p.jsx)(Xn,{type:"submit",children:"Join"})]})})}function rt(e){return Object(p.jsx)(tt,Object(d.a)({},e))}function ct(e){var n=Object(a.useState)(""),t=Object(l.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),s=o[0],d=o[1],j=Object(a.useState)(""),u=Object(l.a)(j,2),h=u[0],m=u[1],O=function(e){var n=e.currentTarget.value,t=e.currentTarget.name;"username"===t&&c(n),"password"===t&&d(n)};return Object(p.jsx)(Yn,{children:Object(p.jsxs)(Kn,{onSubmit:function(n){n.preventDefault(),function(e,n){return console.log("login handler service"),g.a.post("/api/auth/login",{username:e,password:n}).then((function(e){return e.data})).catch((function(e){return console.log(e),e}))}(r,s).then((function(n){n.hasOwnProperty("message")?m(n.message):(e.setUser(n),e.notSavedCodeGround,b.a)})).catch((function(e){console.log("Error logged in in LoginForm.tsx line 29",e)}))},children:[Object(p.jsxs)(Qn,{children:[Object(p.jsx)(qn,{htmlFor:"username",children:"Username"}),Object(p.jsx)(Wn,{type:"text",name:"username",id:"username",onChange:O,value:r,required:!0})]}),Object(p.jsxs)(Qn,{children:[Object(p.jsx)(qn,{htmlFor:"password",children:"Password"}),Object(p.jsx)(Wn,{type:"password",name:"password",id:"password",onChange:O,value:s,required:!0})]}),h?Object(p.jsx)($n,{children:h}):Object(p.jsx)($n,{}),Object(p.jsx)(Xn,{type:"submit",children:"Login"})]})})}function at(e){return Object(p.jsx)(ct,Object(d.a)({},e))}var it=u.a.div(Jn||(Jn=Object(j.a)(["\n  text-align: center;\n"])));function ot(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(it,{children:[Object(p.jsx)("h1",{children:"404 Error"}),Object(p.jsx)("h3",{children:"The page you tried to access doesn't exist"}),Object(p.jsx)(h.b,{to:"/",children:Object(p.jsx)(Xn,{children:"Take me back to the Dashboard"})})]})})}var st,dt=function(e){if(!e.permission){return Object(p.jsx)(b.b,Object(d.a)(Object(d.a)({},e),{},{component:function(){return Object(p.jsx)(b.a,{to:{pathname:e.redirectPath}})},render:void 0}))}return Object(p.jsx)(b.b,Object(d.a)({},e))},lt=u.a.main(st||(st=Object(j.a)(["\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n"])));var jt=function(e){var n=Object(a.useState)(e.user),t=Object(l.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),s=o[0],j=o[1];return Object(p.jsxs)(lt,{children:[Object(p.jsx)(H,{user:r,setUser:c}),Object(p.jsxs)(b.d,{children:[Object(p.jsx)(b.b,{exact:!0,path:"/",render:function(e){return Object(p.jsx)(Ve,Object(d.a)(Object(d.a)({},e),{},{user:r}))}}),Object(p.jsx)(dt,{exact:!0,path:"/profile",permission:!!r,redirectPath:"/login",render:function(e){return Object(p.jsx)(Ye,Object(d.a)(Object(d.a)({},e),{},{user:r}))}}),Object(p.jsx)(b.b,{exact:!0,path:"/code-ground",render:function(e){return Object(p.jsx)(Bn,Object(d.a)(Object(d.a)({},e),{},{user:r,setNotSavedCodeGround:j,notSavedCodeGround:s}))}}),Object(p.jsx)(b.b,{exact:!0,path:"/code-ground/:id",render:function(e){return Object(p.jsx)(Bn,Object(d.a)(Object(d.a)({},e),{},{id:e.match.params.id,user:r,setNotSavedCodeGround:j,notSavedCodeGround:s}))}}),Object(p.jsx)(dt,{exact:!0,path:"/login",permission:!r,redirectPath:"/profile",render:function(e){return Object(p.jsx)(at,Object(d.a)(Object(d.a)({},e),{},{setUser:c,notSavedCodeGround:s}))}}),Object(p.jsx)(dt,{exact:!0,path:"/signup",permission:!r,redirectPath:"/profile",component:rt}),Object(p.jsx)(b.b,{component:ot})]})]})};g.a.get("/api/auth/logged-in").then((function(e){var n=e.data;s.a.render(Object(p.jsx)(h.a,{children:Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(jt,{user:n})})}),document.getElementById("root"))})).catch((function(e){return console.log(e)}))}},[[92,1,2]]]);
//# sourceMappingURL=main.6a7d881a.chunk.js.map