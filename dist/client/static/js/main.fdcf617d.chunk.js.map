{"version":3,"sources":["Components/NavBar/NavRight.tsx","services/auth.ts","Components/StyledComponents/IconsButtons.ts","Components/NavBar/NavLeft.tsx","Components/NavBar/NavBar.tsx","Components/SearchBar/SearchBar.tsx","Components/StyledComponents/FormComponents.ts","services/users.ts","Components/CodeGround/CodeGroundCard.tsx","services/codeground.ts","Pages/Home.tsx","Components/Profile/Dashboard.tsx","Components/Profile/Header.tsx","Pages/Profile.tsx","Components/CodeGround/CodeEditor.tsx","Components/CodeGround/CodeGroundTitle.tsx","Components/CodeGround/CodeGroundBar.tsx","Pages/CodeGround.tsx","Components/Forms/SignUpForm.tsx","Pages/SignUp.tsx","Components/Forms/LoginForm.tsx","Pages/Login.tsx","Pages/NotFound.tsx","Pages/ProtectedRoute.tsx","services/cloudinary.ts","Components/Profile/NewPicForm.tsx","Components/Profile/ProfileEdit.tsx","Components/Profile/FavouriteDashboard.tsx","Pages/Favourites.tsx","App.tsx","index.tsx"],"names":["NavList","styled","div","ProfileIcon","img","NavRight","setUser","user","handleLogout","history","axios","delete","then","resp","data","catch","err","console","log","NavLink","onClick","size","to","_id","style","marginLeft","src","avatar","path","WrapperButton","button","Logo","IconWrapper","NavLeft","alt","Navbar","nav","Title","h2","NavBar","props","StyledSearchBar","Input","input","Select","select","Label","label","SmallContainer","displayInfo","Small","small","error","FormContainer","Form","form","InputGroup","Button","getUser","id","get","ResultFieldContainer","article","ThumbnailWrapper","DetailsWrapper","OptionsWrapper","StyledIframe","iframe","Span","span","Br","br","H4","h4","LinkSpan","Link","StyledThumbsUp","ThumbsUp","liked","StyledHeart","Heart","favourited","GroundCard","codeGround","userOwnsGround","useState","like","setLike","favourite","setFavourite","deleted","setDeleted","srcDoc","css","html","js","handleFavourite","userId","codeGroundId","res","addToFavourites","handleDelete","handleFork","title","creator","post","forkCodeGround","ground","push","username","sandbox","frameBorder","likeCodeGround","numberOfLikesFromProps","likes","length","calcNumberOfLikes","comments","HomeContainer","ResultsContainerOuter","SearchBarContainer","handleSelectChange","e","handleSelect","currentTarget","value","type","name","placeholder","search","onChange","handleSearch","htmlFor","defaultValue","Loading","h1","Home","state","codeGrounds","option","setState","displayResults","filtered","rest","filter","toLowerCase","includes","map","favourites","this","React","Component","DashboardContainer","GroundsContainerOuter","Dashboard","profileUser","setCodeGrounds","useEffect","HeaderContainer","section","H1","ProfilePic","Header","ProfileContainer","TabsContainer","TabContainer","H2","h3","Profile","useParams","url","useRouteMatch","setProfileUser","userIsProfileOwner","undefined","EditorContainer","collapsed","EditorTitle","CodeEditor","language","displayName","toggleCollapsed","prevState","onBeforeChange","editor","className","options","lineWrapping","mode","gutters","lineNumbers","theme","tabSize","scrollbarStyle","TitleContainer","readOnly","Svg","svg","SvgLeft","CodeGroundTitle","setTitle","setVertical","editable","setEditable","handleEdit","Prev","viewBox","width","height","fill","d","onBlur","StyledCodeBar","StyledNew","Plus","StyledSave","Save","CodeGroundBar","handleSave","CodeGroundAndTitleWrapper","CodeGroundWrapper","vertical","EditorsWrapper","IframeWrapper","OuterWrapper","CodeGround","setNotSavedCodeGround","notSavedCodeGround","setHtml","setCss","setJs","setSrcDoc","setCreator","redirectToLogin","setRedirectToLogin","window","localStorage","getItem","fetchOne","timeout","setTimeout","clearTimeout","put","updateCodeGround","forked","createCodeGround","setItem","prevRedirect","flex","emailRegexp","RegExp","passwordRegexp","SignUpForm","setUsername","password","setPassword","password2","setPassword2","email","setEmail","errors","setErrors","errorMessage","setErrorMessage","validate","currentErrors","test","handleChange","handleBlur","isValid","onSubmit","preventDefault","Object","keys","signup","keyValue","hasOwnProperty","SignUp","LoginForm","login","message","required","Login","Error","NotFound","ProtectedRoute","permission","redirectPath","hasCodeGround","component","pathname","render","service","create","baseURL","withCredentials","errorHandler","Cloudinary","uploadPic","pic","NewPicForm","file","setFile","uploading","setUploading","FormData","append","picPath","encType","target","files","ProfileEdit","FavouritesDashboard","FavouriteDashboard","AppContainer","main","App","UserProp","exact","match","params","Favourites","from","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fdcf617d.chunk.js","sourcesContent":["import React, { FC } from 'react';\nimport styled from 'styled-components';\nimport { NavLink } from './NavBar';\nimport { Link } from 'react-router-dom';\nimport { SignOutAlt, SignInAlt } from '@styled-icons/fa-solid';\nimport { NavBarProps } from './NavBar';\nimport { logout } from '../../services/auth';\n\nconst NavList = styled.div`\n  margin-right: 2em;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-end;\n  width: 30vw;\n`;\n\nconst ProfileIcon = styled.img`\n  position: relative;\n  border-radius: 50%;\n  width: 1.8em;\n  &:hover {\n    transition: 1s;\n    color: #f4f6fc;\n    box-shadow: 0px 0px 0.3em 0.3em #233dff;\n  }\n`;\n\nconst NavRight: FC<NavBarProps> = ({ setUser, user, history }) => {\n  const handleLogout = () => {\n    logout()\n      .then((resp) => {\n        console.log(resp);\n        setUser(null);\n        // history.push('/home');\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const signedInNav = () => {\n    return (\n      <>\n        <NavLink onClick={handleLogout}>\n          Log Out <SignOutAlt size={'1em'} />\n        </NavLink>\n\n        <Link to={`/profile/${user!._id}`} style={{ marginLeft: '1em' }}>\n          <ProfileIcon src={user?.avatar.path} />\n        </Link>\n      </>\n    );\n  };\n  const anonynousNav = () => {\n    return (\n      <>\n        <Link to=\"/signup\">\n          <NavLink>Join</NavLink>\n        </Link>\n\n        <Link to=\"/login\">\n          <NavLink>\n            Login <SignInAlt size={'1em'} />\n          </NavLink>\n        </Link>\n      </>\n    );\n  };\n\n  return <NavList>{user ? signedInNav() : anonynousNav()}</NavList>;\n};\n\nexport default NavRight;\n","import axios, { AxiosResponse } from 'axios';\nimport { UserDocument } from '../../../src/models/User';\n\ninterface Message {\n  message: string;\n}\n\ninterface LoginResponse extends AxiosResponse<UserDocument | Message> {}\n\nexport const signup = (username: string, email: string, password: string) => {\n  return axios\n    .post('/api/auth/signup', { username, email, password })\n    .then((resp: LoginResponse) => resp.data)\n    .catch((err) => err);\n};\n\nexport const login = (username: string, password: string) => {\n  return axios\n    .post('/api/auth/login', { username, password })\n    .then((resp: LoginResponse) => {\n      return resp.data;\n    })\n    .catch((err) => {\n      console.log(err);\n      return err;\n    });\n};\n\nexport const logout = () => {\n  return axios\n    .delete('/api/auth/logout')\n    .then((resp) => resp.data)\n    .catch((err) => err);\n};\n","import styled from 'styled-components';\n\nexport const WrapperButton = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  margin-top: 0.5em;\n  background: transparent;\n  border: 0;\n  color: inherit;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { Plus, Home } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\n\nconst Logo = styled.img`\n  height: 2em;\n  margin-left: 2em;\n  margin-right: 1.5em;\n  border-radius: 50%;\n`;\n\nconst NavList = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-start;\n  width: 33vw;\n`;\n\nconst IconWrapper = styled(WrapperButton)`\n  margin: 0em 1.5em;\n  padding: 0.3em;\n  border-radius: 50%;\n  &:hover {\n    box-shadow: 0px 0px 0.3em 0.3em #233dff;\n  }\n  transition: box-shadow 1s;\n`;\n\nexport default function NavLeft() {\n  return (\n    <NavList>\n      <Logo\n        src=\"https://res.cloudinary.com/doh6rpdke/image/upload/v1620936255/code-ground/assets/Untitled_design_qhrefh.png\"\n        alt=\"logo\"\n      />\n      <Link to=\"/\">\n        <IconWrapper>\n          <Home size={'1.4rem'} />\n        </IconWrapper>\n      </Link>\n      <Link to=\"/code-ground\">\n        <IconWrapper>\n          <Plus size={'1.4rem'} />\n        </IconWrapper>\n      </Link>\n    </NavList>\n  );\n}\n","import React, { Dispatch, SetStateAction } from 'react';\nimport { UserDocument } from '../../../../src/models/User';\nimport styled from 'styled-components';\nimport NavRight from './NavRight';\nimport NavLeft from './NavLeft';\nimport { RouteComponentProps } from 'react-router-dom';\n\nexport const NavLink = styled.button`\n  font-size: inherit;\n  border: 0px;\n  background: transparent;\n  color: inherit;\n  padding: 0.3em 2.5em;\n  border-radius: 0.2em;\n  cursor: pointer;\n  border: 1px solid transparent;\n  &:hover {\n    background-color: #233dff;\n  }\n  transition: background-color 1s;\n`;\n\nexport const Navbar = styled.nav`\n  background: #131522;\n  max-height: 5%;\n  color: #f4f6fc;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid gray;\n  padding: 0.2em;\n`;\n\nconst Title = styled.h2`\n  color: #f4f6fc;\n`;\n\nexport interface NavBarProps extends RouteComponentProps {\n  user: UserDocument | null;\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst NavBar: React.FC<NavBarProps> = (props) => {\n  return (\n    <Navbar>\n      <NavLeft />\n      <Title>Codegrounds</Title>\n      <NavRight {...props} />\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","import React, { ChangeEvent } from 'react';\nimport styled from 'styled-components';\n\nconst StyledSearchBar = styled.div`\n  color: inherit;\n  border: 0px;\n  padding: 0.4em 0.6em;\n  text-align: center;\n  background: #2b2d3b;\n  width: 90%;\n  margin: 1em;\n  display: flex;\n  align-items: center;\n  border-radius: 0.2em;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: stretch;\n    font-size: 2em;\n  }\n`;\n\nconst Input = styled.input`\n  color: inherit;\n  border: 1px solid white;\n  padding: 0.4em 0.6em;\n  text-align: center;\n  background: #131522;\n  flex-grow: 5;\n  border-radius: 0.2em;\n  margin-right: 1em;\n  font-size: 1rem;\n\n  @media (max-width: 768px) {\n    font-size: 1em;\n    margin: 0.2em 0em 0.6em 0em;\n  }\n`;\n\nconst Select = styled.select`\n  font-size: 0.8em;\n  color: inherit;\n  margin-left: 0.5em;\n  padding: 0.3em 0.5em;\n  overflow: hidden;\n  border-radius: 0.2em;\n  background: #131522;\n  border: 0px;\n\n  @media (max-width: 768px) {\n    font-size: 1em;\n    margin: 0.2em 0em 0.2em 0em;\n  }\n`;\n\nconst Label = styled.label`\n  font-size: 0.8em;\n  margin: 0em 0em 0em 1em;\n\n  @media (max-width: 768px) {\n    font-size: 1em;\n    margin: 0.2em 0em 0.2em 0em;\n  }\n`;\n\ninterface SearchBarProps {\n  handleSearch: (value: string) => void;\n  handleSelect: (value: string) => void;\n  search: string;\n}\n\nexport default function SearchBar(props: SearchBarProps) {\n  const handleInputChange = (e: ChangeEvent<HTMLInputElement>) =>\n    props.handleSearch(e.currentTarget.value);\n\n  const handleSelectChange = (e: ChangeEvent<HTMLSelectElement>) => {\n    props.handleSelect(e.currentTarget.value);\n  };\n\n  return (\n    <StyledSearchBar>\n      <Input\n        type=\"text\"\n        name=\"search\"\n        id=\"search\"\n        placeholder=\"Search here\"\n        value={props.search}\n        onChange={handleInputChange}\n      />\n      <Label htmlFor=\"filter\">Order by:</Label>\n      <Select\n        name=\"filter\"\n        id=\"filter\"\n        onChange={handleSelectChange}\n        defaultValue=\"last added\"\n        //style={{ marginRight: '1em' }}\n      >\n        <option value=\"last added\">Most recent</option>\n        <option value=\"user\">Username</option>\n        <option value=\"html\">HTML</option>\n        <option value=\"css\">CSS</option>\n        <option value=\"js\">JS</option>\n      </Select>\n      <Label htmlFor=\"category\">Search by:</Label>\n      <Select\n        name=\"category\"\n        id=\"category\"\n        onChange={handleSelectChange}\n        defaultValue=\"title\"\n      >\n        <option value=\"title\">Title</option>\n        <option value=\"user\">Username</option>\n        <option value=\"html\">HTML</option>\n        <option value=\"css\">CSS</option>\n        <option value=\"js\">JS</option>\n      </Select>\n    </StyledSearchBar>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Label = styled.label`\n  margin-top: 1.5em;\n`;\n\ntype SmallContainerProps = {\n  displayInfo: boolean;\n};\n\nexport const SmallContainer = styled.div<SmallContainerProps>`\n  position: absolute;\n  height: 4.2em;\n  width: 8em;\n  border-radius: 0.2em;\n  padding: 0.2em 0.5em;\n  background-color: #233dff;\n  right: -11em;\n  bottom: -1.3em;\n  ${(props) => (!props.displayInfo ? 'display: none;' : null)};\n`;\n\nexport const Small = styled.small`\n  margin-top: 0.4em;\n  text-align: center;\n  font-style: italic;\n  font-size: 0.8em;\n`;\n\ntype StyledInputProps = {\n  error?: boolean;\n};\n\nexport const Input = styled.input<StyledInputProps>`\n  font-size: 1rem;\n  padding: 0.5em 2em;\n  text-align: center;\n  margin-top: 0.4em;\n  border-radius: 0.2em;\n  border: 0.15em solid transparent;\n  &:focus {\n    border: 0.15em solid rgb(0, 132, 255);\n    box-shadow: 0px 0px 0.2em 0.2em rgb(0, 132, 255);\n  }\n  ${(props) =>\n    props.error\n      ? 'border: .1em solid red; box-shadow: 0px 0px 0.15em 0.15em red'\n      : typeof props.error === 'undefined'\n      ? 'border: .1em solid transparent;'\n      : 'border: .1em solid green; box-shadow: 0px 0px 0.15em 0.15em green'};\n`;\n\nexport const FormContainer = styled.div`\n  width: 100%;\n  height: 80vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Form = styled.form`\n  padding: 2em;\n  /* background: #050a30; */\n  border-radius: 0.3em;\n  flex-basis: 0;\n  flex-grow: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const InputGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const Button = styled.button`\n  margin-top: 2em;\n  font-size: inherit;\n  border: 0px;\n  background: transparent;\n  color: inherit;\n  padding: 0.3em 2.5em;\n  border-radius: 0.2em;\n  cursor: pointer;\n  border: 0.1em solid white;\n  &:hover {\n    background-color: #233dff;\n    transition: background-color 1s;\n  }\n  &:focus {\n    background-color: #233dff;\n    transition: background-color 1s;\n  }\n`;\n","import axios from 'axios';\nimport { UserDocument } from '../../../src/models/User';\n\nexport const getUser = (id: string): Promise<UserDocument | null> => {\n  return axios\n    .get(`/api/users/${id}`)\n    .then((resp) => {\n      return resp.data;\n    })\n    .catch((err: Error) => console.log(err));\n};\n\nexport const fetchUserFavourites = (userId: string) => {\n  return axios\n    .get(`/api/users/${userId}/favourites/`)\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n\nexport const addToFavourites = (userId: string, codeGroundId: string) => {\n  return axios\n    .get(`/api/users/${userId}/favourites/${codeGroundId}`)\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n\nexport const removeFromFavourites = (userId: string, codeGroundId: string) => {\n  return axios\n    .delete(`/api/users/${userId}/favourites/${codeGroundId}`)\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n","import React, { useState } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { CodeGroundPopulated } from '../../../../src/models/CodeGround';\nimport {\n  CodeBranch,\n  Heart,\n  ThumbsUp,\n  Comments,\n  TrashAlt,\n} from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\nimport { Small } from '../StyledComponents/FormComponents';\nimport {\n  deleteGround,\n  dislikeCodeGround,\n  forkCodeGround,\n  likeCodeGround,\n} from '../../services/codeground';\nimport { addToFavourites, removeFromFavourites } from '../../services/users';\nimport { UserDocument } from '../../../../src/models/User';\n\nconst ResultFieldContainer = styled.article`\n  display: flex;\n  flex-flow: column;\n  width: 25vw;\n  background: #2b2d3b;\n  margin: 1em;\n  padding: 0.3em;\n  border: 2px solid #f4f6fc;\n  border-radius: 0.4em;\n  box-shadow: 0.7em 0.7em 0.5em 0em #131522;\n\n  @media (max-width: 768px) {\n    flex-grow: 1;\n    margin: 3em;\n    font-size: 2em;\n  }\n`;\n\nconst ThumbnailWrapper = styled.div`\n  overflow: hidden;\n`;\n\nconst DetailsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  flex: 1 0 auto;\n  background: #131522;\n  border-top-left-radius: 0.3em;\n  border-top-right-radius: 0.3em;\n  padding: 0.5em 0em;\n  @media (max-width: 768px) {\n    font-size: 2.5rem;\n  }\n`;\n\nconst OptionsWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 0.2em;\n  justify-content: center;\n`;\n\nconst StyledIframe = styled.iframe`\n  width: 100%;\n  height: 100%;\n  background: white;\n  /* overflow: hidden; */\n\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n`;\n\nconst IconWrapper = styled(WrapperButton)`\n  font-size: 0.7rem;\n  margin-top: 0em;\n  background: #131522;\n  border-radius: 0.2em;\n  padding: 0.5em;\n  margin: 0em 0.2em;\n\n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n`;\n\nconst Span = styled.span`\n  margin-left: 0.5em;\n`;\n\nconst Br = styled.br`\n  margin: 0;\n`;\n\nconst H4 = styled.h4`\n  color: lightblue;\n  &:hover {\n    color: #58b487;\n    transition: 1s;\n  }\n`;\n\nconst LinkSpan = styled(Link)`\n  color: lightblue;\n  &:hover {\n    color: #58b487;\n    transition: 1s;\n  }\n`;\n\nconst StyledThumbsUp = styled(ThumbsUp)<{ liked: boolean }>`\n  ${(props) => (props.liked ? 'color:#3f9c3f' : 'color: inherit')}\n`;\n\nconst StyledHeart = styled(Heart)<{ favourited: boolean }>`\n  ${(props) => (props.favourited ? 'color:#e23131' : 'color: inherit')}\n`;\n\nexport interface GroundCardProps extends RouteComponentProps {\n  codeGround: CodeGroundPopulated;\n  user: UserDocument | null;\n  userOwnsGround: boolean;\n  liked: boolean;\n  favourited: boolean;\n}\n\nconst GroundCard: React.FC<GroundCardProps> = (props) => {\n  const { codeGround, user, userOwnsGround } = props;\n  const [like, setLike] = useState(props.liked);\n  const [favourite, setFavourite] = useState(props.favourited);\n  const [deleted, setDeleted] = useState(false);\n\n  const srcDoc = `\n  <html>\n    <head>\n      <style>${codeGround.css}</style>\n    </head>\n    <body>${codeGround.html}</body>\n    <script>${codeGround.js}</script>\n  </html>\n  `;\n\n  const handleLike = () => {\n    if (!user) return;\n    if (like) {\n      setLike(false);\n      dislikeCodeGround(codeGround._id, user!._id)\n        .then((resp) => console.log(resp))\n        .catch((err) => console.log(err));\n    } else {\n      setLike(true);\n      likeCodeGround(codeGround._id, user!._id)\n        .then((resp) => console.log(resp))\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const calcNumberOfLikes = () => {\n    const numberOfLikesFromProps = codeGround.likes.length;\n    if (props.liked) {\n      return !like ? numberOfLikesFromProps - 1 : numberOfLikesFromProps;\n    } else {\n      return like ? numberOfLikesFromProps + 1 : numberOfLikesFromProps;\n    }\n  };\n\n  const handleFavourite = () => {\n    if (!user) return;\n    if (favourite) {\n      setFavourite(false);\n      removeFromFavourites(user!._id, codeGround._id)\n        .then((resp) => {})\n        .catch((err) => console.log(err));\n    } else {\n      setFavourite(true);\n      addToFavourites(user!._id, codeGround._id)\n        .then((resp) => console.log(resp))\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const handleDelete = () => {\n    if (!user) return;\n    deleteGround(codeGround._id)\n      .then(() => {\n        setDeleted(true);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleFork = () => {\n    if (!user) return;\n    forkCodeGround(codeGround, user!._id)\n      .then((ground) => {\n        console.log(ground);\n        console.log(props.history);\n        props.history.push(`/code-ground/${ground._id}`);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const renderInteractionButtons = () => {\n    return (\n      <>\n        <IconWrapper onClick={handleFavourite}>\n          <StyledHeart size=\"1.2em\" favourited={favourite} />\n        </IconWrapper>\n\n        <IconWrapper onClick={handleFork}>\n          <CodeBranch size=\"1.2em\" />\n        </IconWrapper>\n      </>\n    );\n  };\n\n  const renderEditOptions = () => {\n    return (\n      <>\n        <IconWrapper onClick={handleDelete}>\n          <TrashAlt size=\"1.2em\" />\n        </IconWrapper>\n      </>\n    );\n  };\n\n  const displayAuthors = () => {\n    return codeGround.user.username !== codeGround.creator.username ? (\n      <>\n        <Small>\n          by:{' '}\n          <LinkSpan to={`/profile/${codeGround.user._id}`}>\n            {codeGround.user.username}\n          </LinkSpan>\n        </Small>\n        <Small>\n          originally by:{' '}\n          <LinkSpan to={`/profile/${codeGround.creator._id}`}>\n            {codeGround.creator.username}\n          </LinkSpan>\n        </Small>\n      </>\n    ) : (\n      <>\n        <Small>\n          by:{' '}\n          <LinkSpan to={`/profile/${codeGround.user._id}`}>\n            {' '}\n            {codeGround.user.username}\n          </LinkSpan>\n        </Small>\n        <Br />\n        <Small></Small>\n      </>\n    );\n  };\n\n  if (deleted) return null;\n\n  return (\n    <ResultFieldContainer>\n      <DetailsWrapper>\n        <Link to={`/code-ground/${codeGround._id}`}>\n          <H4>{codeGround.title}</H4>{' '}\n        </Link>\n        {displayAuthors()}\n      </DetailsWrapper>\n\n      <ThumbnailWrapper>\n        <StyledIframe\n          title={codeGround.title}\n          srcDoc={srcDoc}\n          sandbox=\"allow-scripts\"\n          frameBorder=\"0\"\n        ></StyledIframe>\n      </ThumbnailWrapper>\n\n      <OptionsWrapper>\n        <IconWrapper onClick={handleLike}>\n          <StyledThumbsUp size=\"1.2em\" liked={like} />\n          <Span>{calcNumberOfLikes()}</Span>\n        </IconWrapper>\n\n        {!user || !userOwnsGround ? renderInteractionButtons() : null}\n        {userOwnsGround ? renderEditOptions() : null}\n\n        <IconWrapper>\n          <Comments size={'1.2em'} />\n          <Span> {codeGround.comments.length}</Span>\n        </IconWrapper>\n      </OptionsWrapper>\n    </ResultFieldContainer>\n  );\n};\n\nexport default GroundCard;\n","import axios, { AxiosResponse } from 'axios';\nimport { error } from 'console';\nimport {\n  CodeGroundPopulated,\n  CodeGroundDocument,\n} from '../../../src/models/CodeGround';\n// import { UserDocument } from '../../../src/models/User';\n\ninterface fetchAllResponse extends AxiosResponse<CodeGroundPopulated[]> {}\ninterface Response extends AxiosResponse<CodeGroundDocument | Error> {}\n\nexport const fetchOne = (id: string): Promise<CodeGroundDocument> => {\n  return axios\n    .get(`/api/code-ground/${id}`)\n    .then((resp: Response) => resp.data)\n    .catch((err) => err);\n};\n\nexport const deleteGround = (id: string): Promise<CodeGroundDocument> => {\n  return axios\n    .delete(`/api/code-ground/${id}`)\n    .then((resp: Response) => resp.data)\n    .catch((err) => err);\n};\n\nexport const fetchAll = (): Promise<CodeGroundPopulated[]> => {\n  return axios\n    .get('/api/code-ground/')\n    .then((resp: fetchAllResponse) => resp.data)\n    .catch((err) => err);\n};\n\nexport const createCodeGround = (\n  title: string,\n  html: string,\n  css: string,\n  js: string,\n  user: string,\n  creator: string,\n): Promise<CodeGroundDocument> => {\n  const forked = user !== creator ? true : false;\n\n  return axios\n    .post('/api/code-ground/', { title, html, css, js, user, creator, forked })\n    .then((resp: Response) => resp.data)\n    .catch((err) => err);\n};\n\nexport const updateCodeGround = (\n  title: string,\n  html: string,\n  css: string,\n  js: string,\n  id: string,\n): Promise<CodeGroundDocument> => {\n  console.log('updateCodeGround function');\n  return axios\n    .put(`/api/code-ground/${id}`, {\n      title,\n      html,\n      css,\n      js,\n    })\n    .then((resp) => resp.data)\n    .catch((err) => console.log(err));\n};\n\nexport const fetchUserGrounds = (\n  userId: string,\n): Promise<CodeGroundPopulated[]> => {\n  return axios\n    .get(`/api/code-ground/user/${userId}`)\n    .then((resp: fetchAllResponse) => {\n      console.log(resp.data);\n      return resp.data;\n    })\n    .catch((err) => err);\n};\n\nexport const likeCodeGround = (codeGroundId: string, userId: string) => {\n  return axios\n    .get(`/api/code-ground/${codeGroundId}/like/${userId}`)\n    .then((resp: AxiosResponse) => console.log(resp.data))\n    .catch((err) => err);\n};\n\nexport const dislikeCodeGround = (codeGroundId: string, userId: string) => {\n  return axios\n    .delete(`/api/code-ground/${codeGroundId}/like/${userId}`)\n    .then((resp: AxiosResponse) => console.log(resp.data))\n    .catch((err) => err);\n};\n\nexport const forkCodeGround = (\n  codeGround: CodeGroundPopulated,\n  userId: string,\n) => {\n  const { title, html, js, css, creator } = codeGround;\n\n  return axios\n    .post(`/api/code-ground/fork/${userId}`, { title, html, js, css, creator })\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n\nexport const commentCodeGround = (codeGroundId: string, userId: string) => {\n  return axios\n    .get(`/api/code-ground/${codeGroundId}/comments/${userId}`)\n    .then((resp: AxiosResponse) => console.log(resp.data))\n    .catch((err) => err);\n};\n\nexport const uncommentCodeGround = (\n  codeGroundId: string,\n  commentId: string,\n) => {\n  return axios\n    .delete(`/api/code-ground/${codeGroundId}/comments/${commentId}`)\n    .then((resp: AxiosResponse) => console.log(resp.data))\n    .catch((err) => err);\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport SearchBar from '../Components/SearchBar/SearchBar';\nimport GroundCard from '../Components/CodeGround/CodeGroundCard';\nimport { CodeGroundPopulated } from '../../../src/models/CodeGround';\nimport { UserDocument } from '../../../src/models/User';\nimport { fetchAll } from '../services/codeground';\nimport { RouteComponentProps } from 'react-router-dom';\n\nconst HomeContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n`;\n\nexport const ResultsContainerOuter = styled.div`\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n\n  @media (max-width: 768px) {\n    width: 95%;\n  }\n`;\n\nconst SearchBarContainer = styled(SearchBar)`\n  flex-grow: 1;\n`;\n\nconst Loading = styled.h1`\n  text-align: center;\n  font-size: 5em;\n  color: tomato;\n`;\n\ninterface HomeState {\n  codeGrounds: CodeGroundPopulated[];\n  search: string;\n  option: string;\n}\n\ninterface HomeProps extends RouteComponentProps {\n  user: UserDocument | null;\n}\n\nexport default class Home extends React.Component<HomeProps, HomeState> {\n  state: HomeState = {\n    codeGrounds: [] as CodeGroundPopulated[],\n    search: '',\n    option: 'title',\n  };\n\n  componentDidMount() {\n    fetchAll()\n      .then((codeGrounds) => {\n        this.setState({ codeGrounds: codeGrounds });\n      })\n      .catch((err) => console.log(err));\n  }\n\n  handleSearch = (value: string) => {\n    this.setState({ search: value });\n  };\n\n  handleSelect = (value: string) => {\n    this.setState({ option: value });\n  };\n\n  displayResults = () => {\n    const { codeGrounds, search, option } = this.state;\n    const { user, ...rest } = this.props;\n\n    let filtered;\n\n    if (option === 'title')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.title.toLowerCase().includes(search.toLowerCase()),\n      );\n    if (option === 'user')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.user.username.toLowerCase().includes(search.toLowerCase()),\n      );\n    if (option === 'html')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.html.toLowerCase().includes(search.toLowerCase()),\n      );\n    if (option === 'css')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.css.toLowerCase().includes(search.toLowerCase()),\n      );\n    if (option === 'js')\n      filtered = codeGrounds.filter((codeGround) =>\n        codeGround.title.toLowerCase().includes(search.toLowerCase()),\n      );\n\n    return filtered\n      ? filtered.map((ground) => (\n          <GroundCard\n            key={ground._id}\n            user={user}\n            userOwnsGround={user ? ground.user._id === user._id : false}\n            codeGround={ground}\n            liked={user ? ground.likes.includes(user._id) : false}\n            favourited={user ? user.favourites.includes(ground._id) : false}\n            {...rest}\n          />\n        ))\n      : null;\n  };\n\n  render() {\n    const { search, codeGrounds } = this.state;\n\n    if (codeGrounds.length === 0) {\n      return <Loading>Loading</Loading>;\n    }\n\n    return (\n      <HomeContainer>\n        <SearchBarContainer\n          search={search}\n          handleSearch={this.handleSearch}\n          handleSelect={this.handleSelect}\n        />\n        <ResultsContainerOuter>{this.displayResults()}</ResultsContainerOuter>\n      </HomeContainer>\n    );\n  }\n}\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport GroundCard from '../CodeGround/CodeGroundCard';\nimport { CodeGroundPopulated } from '../../../../src/models/CodeGround';\nimport { UserDocument } from '../../../../src/models/User';\nimport { fetchUserGrounds } from '../../services/codeground';\nimport { RouteComponentProps } from 'react-router-dom';\n\nconst DashboardContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n`;\n\nconst GroundsContainerOuter = styled.div`\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n  margin-top: 2em;\n`;\n\ninterface DashboardProps extends RouteComponentProps {\n  profileUser: UserDocument;\n  user: UserDocument | null;\n}\n\nconst Dashboard: React.FC<DashboardProps> = ({\n  profileUser,\n  user,\n  ...rest\n}) => {\n  const [codeGrounds, setCodeGrounds] = useState([] as CodeGroundPopulated[]);\n\n  useEffect(() => {\n    fetchUserGrounds(profileUser._id)\n      .then((codeGrounds: CodeGroundPopulated[]) => setCodeGrounds(codeGrounds))\n      .catch((err: Error) => console.log(err));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderCards = () => {\n    return codeGrounds.map((ground) => (\n      <GroundCard\n        key={ground._id}\n        user={user}\n        userOwnsGround={user ? ground.user._id === user._id : false}\n        codeGround={ground}\n        liked={user ? ground.likes.includes(user._id) : false}\n        favourited={user ? user.favourites.includes(ground._id) : false}\n        {...rest}\n      />\n    ));\n  };\n\n  if (!codeGrounds) return <h1>Loading</h1>;\n\n  return (\n    <DashboardContainer>\n      <GroundsContainerOuter>{renderCards()}</GroundsContainerOuter>\n    </DashboardContainer>\n  );\n};\n\nexport default Dashboard;\n","import React, { FC } from 'react';\nimport styled from 'styled-components';\nimport { UserDocument } from '../../../../src/models/User';\nimport { Edit } from '@styled-icons/fa-solid';\n\ninterface HeaderProps {\n  user: UserDocument;\n}\n\nconst HeaderContainer = styled.section`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 3em;\n  position: relative;\n`;\n\nconst H1 = styled.h1`\n  font-size: 3em;\n`;\n\nconst ProfilePic = styled.img`\n  border-radius: 50%;\n  margin: 1em;\n  width: 10em;\n`;\n\nconst Header: FC<HeaderProps> = ({ user }) => {\n  return (\n    <HeaderContainer>\n      <H1>\n        {user.username}\n        {/* <Edit size=\"1em\" /> */}\n      </H1>\n      <ProfilePic src={user.avatar.path} alt=\"\" />\n    </HeaderContainer>\n  );\n};\n\nexport default Header;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport Dashboard from '../Components/Profile/Dashboard';\nimport Header from '../Components/Profile/Header';\nimport { UserDocument } from '../../../src/models/User';\nimport { ResultsContainerOuter as DashboardContainer } from './Home';\nimport {\n  Link,\n  RouteComponentProps,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { getUser } from '../services/users';\n\nconst ProfileContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 0em 1em;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  width: 60%;\n`;\n\nconst TabContainer = styled.div`\n  margin: 0em 1em;\n  padding: 0.3em 0.8em;\n  background: #2b2d3b;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  min-width: 13em;\n`;\n\nconst H2 = styled.h3`\n  margin: 0.3em 1em;\n  text-align: center;\n`;\n\ninterface ProfileProps extends RouteComponentProps {\n  user: UserDocument | null;\n}\n\nconst Profile: React.FC<ProfileProps> = ({ user, ...rest }) => {\n  const { userId } = useParams<{ userId: string }>();\n  const { url } = useRouteMatch();\n  const [profileUser, setProfileUser] = useState<UserDocument | null>();\n\n  useEffect(() => {\n    getUser(userId)\n      .then((profileUser) => {\n        if (!profileUser) {\n          setProfileUser(null);\n          return;\n        }\n        setProfileUser(profileUser);\n      })\n      .catch((err) => console.log(err));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const userIsProfileOwner = () => {\n    if (!user) return false;\n    if (!profileUser) return false;\n\n    return profileUser._id === user._id;\n  };\n\n  if (profileUser === null) return <h1>User not found</h1>;\n  if (profileUser === undefined) return <h1>Loading</h1>;\n  return (\n    <ProfileContainer>\n      <Header user={profileUser} />\n\n      <TabsContainer>\n        <Link to={`${url}/favourites`}>\n          <TabContainer>\n            <H2>Favourites</H2>\n          </TabContainer>\n        </Link>\n\n        <Link to={`${url}`}>\n          <TabContainer>\n            <H2>\n              {userIsProfileOwner() ? 'My' : `${profileUser.username}`}{' '}\n              Codegrounds\n            </H2>\n          </TabContainer>\n        </Link>\n\n        {userIsProfileOwner() && (\n          <Link to={`${url}/edit`}>\n            <TabContainer>\n              <H2>New Profile Pic</H2>\n            </TabContainer>\n          </Link>\n        )}\n      </TabsContainer>\n\n      <DashboardContainer>\n        <Dashboard profileUser={profileUser} user={user} {...rest} />\n      </DashboardContainer>\n    </ProfileContainer>\n  );\n};\n\nexport default Profile;\n","import React, { useState } from 'react';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/material-ocean.css';\nimport 'codemirror/mode/xml/xml';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/mode/css/css';\nimport 'codemirror/addon/search/searchcursor';\nimport { Controlled } from 'react-codemirror2';\nimport styled from 'styled-components';\nimport { Editor, EditorChange } from 'codemirror';\nimport './CodeEditor.css';\n\nimport { ExpandAlt, CompressAlt } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\n\nconst EditorContainer = styled.div<{ collapsed: boolean }>`\n  margin: 0;\n  display: flex;\n  /* max-width: 33.3vw; */\n  flex-direction: column;\n  ${(props) => (props.collapsed ? 'flex: 0 0 0' : 'flex: 5 0 0;')}\n`;\n\nconst EditorTitle = styled.div`\n  font-weight: 800;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.2em 1em;\n  background: #0a0c11;\n  color: #cbd1e1;\n  margin: 0.1em 0.1em 0.1em;\n`;\n\nconst IconWrapper = styled(WrapperButton)`\n  padding: 0.4em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n`;\n\nexport interface EditorProps {\n  language: string;\n  displayName: string;\n  value: string;\n  onChange: (value: string) => void;\n}\n\nexport function CodeEditor(props: EditorProps) {\n  const { language, displayName, value, onChange } = props;\n  const [collapsed, toggleCollapsed] = useState(false);\n\n  const handleChange = (editor: Editor, data: EditorChange, value: string) => {\n    onChange(value);\n  };\n\n  const handleToggleCollapsed = () => {\n    toggleCollapsed((prevState) => !prevState);\n  };\n\n  return (\n    <EditorContainer collapsed={collapsed}>\n      <EditorTitle>\n        {displayName}\n        <IconWrapper onClick={handleToggleCollapsed}>\n          {collapsed ? (\n            <CompressAlt size={'1.2em'} />\n          ) : (\n            <ExpandAlt size={'1.2em'} />\n          )}\n        </IconWrapper>\n      </EditorTitle>\n      <Controlled\n        onBeforeChange={handleChange}\n        value={value}\n        className=\"code-mirror-wrapper\"\n        options={{\n          lineWrapping: true,\n          mode: language,\n          gutters: ['CodeMirror-lint-markers'],\n          lineNumbers: true,\n          theme: 'material-ocean',\n          tabSize: 2,\n          scrollbarStyle: 'native',\n        }}\n      />\n    </EditorContainer>\n  );\n}\n","import React, { ChangeEvent, Dispatch, SetStateAction, useState } from 'react';\nimport styled from 'styled-components';\nimport { Edit } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../StyledComponents/IconsButtons';\n\nconst TitleContainer = styled.nav`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 0.2em 1.5em 0.2em 0em;\n  background: #2b2d3b;\n`;\n\nconst Title = styled.input`\n  font-size: inherit;\n  color: inherit;\n  background: transparent;\n  text-align: center;\n  outline: none;\n  ${(props) =>\n    props.readOnly\n      ? 'border: 1px solid gray;'\n      : 'border: 1px solid lime; box-shadow: 0px 0px 1px 1px lime'}\n  border-top: 1px solid transparent;\n`;\n\nconst Button = styled(WrapperButton)`\n  margin-top: 0px;\n  margin-left: 0.3em;\n  padding: 0.4em;\n  &:hover {\n    background: #233dff;\n    transition: 0.5s;\n  }\n`;\n\nconst Svg = styled.svg`\n  margin: 0.2em;\n`;\n\nconst SvgLeft = styled(Svg)`\n  transform: rotate(-90deg);\n`;\n\ninterface CodeGroundTitleProps {\n  title: string;\n  setTitle: Dispatch<SetStateAction<string>>;\n  setVertical: Dispatch<SetStateAction<boolean>>;\n}\n\nexport default function CodeGroundTitle(props: CodeGroundTitleProps) {\n  const { title, setTitle, setVertical } = props;\n  const [editable, setEditable] = useState(false);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setTitle(e.currentTarget.value);\n  };\n\n  const handleEdit = () => {\n    setEditable((Prev) => !Prev);\n  };\n\n  const handleBlur = () => {\n    setEditable(false);\n  };\n\n  return (\n    <TitleContainer>\n      <Button onClick={() => setVertical(false)}>\n        <Svg viewBox=\"0 0 20 20\" width=\"15\" height=\"15\" fill=\"#f4f6fc\">\n          <path d=\"M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z\"></path>\n        </Svg>\n      </Button>\n\n      <Button onClick={() => setVertical(true)}>\n        <SvgLeft viewBox=\"0 0 20 20\" width=\"15\" height=\"15\" fill=\"#f4f6fc\">\n          <path d=\"M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z\"></path>\n        </SvgLeft>\n      </Button>\n\n      <Title\n        type=\"text\"\n        value={title}\n        onChange={handleChange}\n        onClick={handleEdit}\n        onBlur={handleBlur}\n        readOnly={!editable}\n      />\n\n      <Button onClick={handleEdit}>\n        <Edit size={'1.2em'} />\n      </Button>\n    </TitleContainer>\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Save, Plus } from '@styled-icons/fa-solid';\nimport { WrapperButton } from '../../Components/StyledComponents/IconsButtons';\nimport { UserDocument } from '../../../../src/models/User';\n\nconst StyledCodeBar = styled.nav`\n  background: #2b2d3b;\n  padding: 0.2em;\n  height: 100%;\n  max-height: 100%;\n  color: #f4f6fc;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 2px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  padding-top: 0.5em;\n`;\n\nconst StyledNew = styled(Plus)`\n  padding: 0.4em;\n  margin-top: 1.9em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n`;\n\nconst StyledSave = styled(Save)`\n  padding: 0.4em;\n  margin-top: 0.5em;\n  &:hover {\n    background: #233dff;\n  }\n  transition: background 1s;\n`;\n\ninterface CodeGroundBarProps {\n  handleSave: () => void;\n  user: UserDocument | null;\n}\n\nexport default function CodeGroundBar(props: CodeGroundBarProps) {\n  const renderSaveButton = () => {\n    return (\n      <WrapperButton onClick={props.handleSave}>\n        <StyledSave size={'1.2em'} />\n      </WrapperButton>\n    );\n  };\n\n  return (\n    <StyledCodeBar>\n      <Link to=\"/code-ground\">\n        <WrapperButton>\n          <StyledNew size={'1.2em'} />\n        </WrapperButton>\n      </Link>\n      {props.user && renderSaveButton()}\n    </StyledCodeBar>\n  );\n}\n","import React, { useState, useEffect, Dispatch, SetStateAction } from 'react';\nimport styled from 'styled-components';\nimport { Redirect } from 'react-router-dom';\nimport {\n  fetchOne,\n  createCodeGround,\n  updateCodeGround,\n} from '../services/codeground';\n// import { CodeGroundDocument } from '../../../src/models/CodeGround';\nimport { UserDocument } from '../../../src/models/User';\nimport { CodeEditor } from '../Components/CodeGround/CodeEditor';\nimport CodeGroundTitle from '../Components/CodeGround/CodeGroundTitle';\nimport CodeGroundBar from '../Components/CodeGround/CodeGroundBar';\n\nconst CodeGroundAndTitleWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-height: 92vh;\n  flex-grow: 1;\n`;\n\nconst CodeGroundWrapper = styled.div<{ vertical: boolean }>`\n  display: flex;\n  min-height: 92vh;\n  flex-grow: 1;\n\n  ${(props) => (props.vertical ? `flex-flow: row wrap;` : `flex-flow: column`)}\n`;\n\nconst EditorsWrapper = styled.div<{ vertical: boolean }>`\n  display: flex;\n  justify-content: flex-start;\n  ${(props) =>\n    props.vertical\n      ? 'flex-direction: column; width: 25%; max-height: 90vh;'\n      : 'flex-direction: row; width: 100%; max-height: 29vh;'}\n`;\n\nconst IframeWrapper = styled.div`\n  flex: 2 0 0;\n  width: 100%;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport interface CodeGroundProps {\n  id?: string;\n  user: UserDocument | null;\n  setNotSavedCodeGround: Dispatch<SetStateAction<boolean>>;\n  notSavedCodeGround: boolean;\n}\n\nconst OuterWrapper = styled.div`\n  display: flex;\n  height: 94.5vh;\n`;\n\nexport default function CodeGround(props: CodeGroundProps) {\n  const { id, user, setNotSavedCodeGround, notSavedCodeGround } = props;\n  const [title, setTitle] = useState('untitled');\n  const [html, setHtml] = useState('');\n  const [css, setCss] = useState('');\n  const [js, setJs] = useState('');\n  const [srcDoc, setSrcDoc] = useState('');\n  const [creator, setCreator] = useState('');\n  const [vertical, setVertical] = useState(false);\n\n  const [redirectToLogin, setRedirectToLogin] = useState(false);\n\n  const defaultCss = '<style>body{margin:0}</style>';\n\n  useEffect(() => {\n    if (notSavedCodeGround) {\n      setTitle(window.localStorage.getItem('title')!);\n      setHtml(window.localStorage.getItem('html')!);\n      setCss(window.localStorage.getItem('css')!);\n      setJs(window.localStorage.getItem('js')!);\n    } else if (id) {\n      fetchOne(id)\n        .then((codeGround) => {\n          setTitle(codeGround.title);\n          setHtml(codeGround.html);\n          setCss(codeGround.css);\n          setJs(codeGround.js);\n          setCreator(codeGround.user);\n        })\n        .catch((err) => console.log(err));\n    } else if (user) {\n      setCreator(user._id);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setSrcDoc(`\n      <html>\n        <head>\n          ${defaultCss}\n          <style>${css}</style>\n        </head>\n        <body>${html}</body>\n        <script>${js}</script>\n      </html>\n      `);\n    }, 500);\n\n    return () => clearTimeout(timeout);\n  }, [html, css, js]);\n\n  const handleSave = () => {\n    if (!user) {\n      console.log('no user found');\n      window.localStorage.setItem('title', title);\n      window.localStorage.setItem('html', html);\n      window.localStorage.setItem('css', css);\n      window.localStorage.setItem('js', js);\n      setNotSavedCodeGround(true);\n      setRedirectToLogin((prevRedirect) => !prevRedirect);\n    } else if (!id || user._id !== creator) {\n      console.log('else if in handleSave');\n      createCodeGround(title, html, css, js, user._id, creator).then(\n        (codeGround) => {\n          setTitle(codeGround.title);\n          setHtml(codeGround.html);\n          setCss(codeGround.css);\n          setJs(codeGround.js);\n          setCreator(codeGround.creator);\n        },\n      );\n    } else {\n      updateCodeGround(title, html, css, js, id).then((codeGround) => {\n        console.log(codeGround);\n        setTitle(codeGround.title);\n        setHtml(codeGround.html);\n        setCss(codeGround.css);\n        setJs(codeGround.js);\n        setCreator(codeGround.creator);\n      });\n    }\n  };\n\n  return redirectToLogin ? (\n    <Redirect to=\"/login\" />\n  ) : (\n    <OuterWrapper>\n      <CodeGroundBar handleSave={handleSave} user={user} />\n      <CodeGroundAndTitleWrapper>\n        <CodeGroundTitle\n          title={title}\n          setTitle={setTitle}\n          setVertical={setVertical}\n        />\n        <CodeGroundWrapper vertical={vertical}>\n          <EditorsWrapper vertical={vertical}>\n            <CodeEditor\n              displayName=\"HTML\"\n              language=\"xml\"\n              value={html}\n              onChange={setHtml}\n            />\n            <CodeEditor\n              displayName=\"CSS\"\n              language=\"css\"\n              value={css}\n              onChange={setCss}\n            />\n            <CodeEditor\n              displayName=\"JS\"\n              language=\"javascript\"\n              value={js}\n              onChange={setJs}\n            />\n          </EditorsWrapper>\n          <IframeWrapper>\n            <iframe\n              srcDoc={srcDoc}\n              title=\"rendered-ground\"\n              frameBorder=\"0\"\n              sandbox=\"allow-scripts\"\n              width=\"100%\"\n              height=\"100%\"\n              style={{ flex: '1 0 0' }}\n            ></iframe>\n          </IframeWrapper>\n        </CodeGroundWrapper>\n      </CodeGroundAndTitleWrapper>\n    </OuterWrapper>\n  );\n}\n","import React, { useState, FormEvent, FocusEvent, ChangeEvent } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport './forms.css';\nimport { signup } from '../../services/auth';\nimport {\n  Label,\n  Input,\n  Form,\n  FormContainer,\n  Button,\n  Small,\n  InputGroup,\n  SmallContainer,\n} from '../StyledComponents/FormComponents';\n\nconst emailRegexp = new RegExp(\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n);\nconst passwordRegexp = new RegExp(\n  /(?=.*[0-9])(?=.*[|<>!@%+'!#$^?:.(){}[\\]+~\\-_.])[a-zA-Z0-9|<>!@%+'!#$^?:.(){}[\\]+~\\-_.]{8,30}/,\n);\n\ninterface Errors {\n  [key: string]: boolean;\n}\n\nexport default function SignUpForm(props: RouteComponentProps) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [password2, setPassword2] = useState('');\n  const [email, setEmail] = useState('');\n  const [errors, setErrors] = useState<Errors>({});\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const validate = (): Errors => {\n    const currentErrors = { ...errors };\n\n    if (username.length === 0 || username.length > 20) {\n      currentErrors.username = true;\n    } else currentErrors.username = false;\n\n    if (password.length < 8 || !passwordRegexp.test(password)) {\n      currentErrors.password = true;\n    } else currentErrors.password = false;\n\n    if (\n      password.length === 0 ||\n      !passwordRegexp.test(password) ||\n      password2 !== password\n    ) {\n      currentErrors.password2 = true;\n    } else currentErrors.password2 = false;\n\n    if (!emailRegexp.test(email)) {\n      currentErrors.email = true;\n    } else currentErrors.email = false;\n\n    return currentErrors;\n  };\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const currentErrors = validate();\n\n    setErrors(currentErrors);\n\n    if (Object.keys(errors).length !== 0) {\n      signup(username, email, password)\n        .then((resp) => {\n          console.log(resp);\n          if (\n            resp.name === 'MongoError' &&\n            resp.keyValue.hasOwnProperty('email')\n          ) {\n            setErrorMessage('DB Error: the provided email already exists');\n          } else {\n            props.history.push('/login');\n          }\n        })\n        .catch((err) => {\n          console.log('error catched in sigupform.tsx line 69', err);\n        });\n    }\n  };\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    const name = e.currentTarget.name;\n\n    if (name === 'username') setUsername(value);\n    if (name === 'password') setPassword(value);\n    if (name === 'password2') setPassword2(value);\n    if (name === 'email') setEmail(value);\n  };\n\n  const handleBlur = (e: FocusEvent<HTMLInputElement>) => {\n    const name = e.currentTarget.name;\n    const isValid = validate()[name];\n    setErrors({ ...errors, [name]: isValid });\n  };\n\n  return (\n    <FormContainer>\n      <Form onSubmit={handleSubmit}>\n        <InputGroup>\n          <Label htmlFor=\"username\">Username</Label>\n          <Input\n            type=\"text\"\n            name=\"username\"\n            id=\"username\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={username}\n            error={errors.username}\n          />\n\n          <SmallContainer displayInfo={errors.username}>\n            <Small>Required. No longer than 20.</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"email\">Email</Label>\n          <Input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={email}\n            error={errors.email}\n          />\n\n          <SmallContainer displayInfo={errors.email}>\n            <Small>Provide valid email</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"password\">Password</Label>\n          <Input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={password}\n            error={errors.password}\n          />\n\n          <SmallContainer displayInfo={errors.password}>\n            <Small>Must have min 8 chars, 1 number & 1 special char</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"password2\">Enter Password again:</Label>\n          <Input\n            type=\"password\"\n            name=\"password2\"\n            id=\"password2\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            value={password2}\n            error={errors.password2}\n          />\n\n          <SmallContainer displayInfo={errors.password2}>\n            <Small>Passwords must match with each other.</Small>\n          </SmallContainer>\n        </InputGroup>\n\n        {errorMessage ? <Small>{errorMessage}</Small> : <Small></Small>}\n\n        <Button type=\"submit\">Join</Button>\n      </Form>\n    </FormContainer>\n  );\n}\n","import React from 'react';\nimport SignUpForm from '../Components/Forms/SignUpForm';\nimport { RouteComponentProps } from 'react-router-dom';\n\nexport default function SignUp(props: RouteComponentProps) {\n  return <SignUpForm {...props} />;\n}\n","import React, {\n  useState,\n  FormEvent,\n  ChangeEvent,\n  Dispatch,\n  SetStateAction,\n} from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { UserDocument } from '../../../../src/models/User';\nimport './forms.css';\nimport { login } from '../../services/auth';\nimport {\n  Label,\n  Input,\n  Form,\n  FormContainer,\n  Button,\n  InputGroup,\n  Small,\n} from '../StyledComponents/FormComponents';\n\ninterface LoginFormProps {\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n  notSavedCodeGround: boolean;\n}\n\nexport default function LoginForm(props: LoginFormProps) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    login(username, password)\n      .then((resp) => {\n        if (resp.hasOwnProperty('message')) {\n          setErrorMessage(resp.message);\n        } else {\n          console.log(resp);\n          props.setUser(resp);\n          props.notSavedCodeGround ? (\n            <Redirect to=\"/code-grounds\" />\n          ) : (\n            <Redirect to=\"/profile\" />\n          );\n        }\n      })\n      .catch((err) => {\n        console.log('Error logged in in LoginForm.tsx line 29', err);\n      });\n  };\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    const name = e.currentTarget.name;\n\n    if (name === 'username') setUsername(value);\n    if (name === 'password') setPassword(value);\n  };\n\n  return (\n    <FormContainer>\n      <Form onSubmit={handleSubmit}>\n        <InputGroup>\n          <Label htmlFor=\"username\">Username</Label>\n          <Input\n            type=\"text\"\n            name=\"username\"\n            id=\"username\"\n            onChange={handleChange}\n            value={username}\n            required\n          />\n        </InputGroup>\n\n        <InputGroup>\n          <Label htmlFor=\"password\">Password</Label>\n          <Input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            onChange={handleChange}\n            value={password}\n            required\n          />\n        </InputGroup>\n\n        {errorMessage ? <Small>{errorMessage}</Small> : <Small></Small>}\n\n        <Button type=\"submit\">Login</Button>\n      </Form>\n    </FormContainer>\n  );\n}\n","import React, { Dispatch, SetStateAction } from 'react';\nimport LoginForm from '../Components/Forms/LoginForm';\nimport { UserDocument } from '../../../src/models/User';\n\ninterface LoginProps {\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n  notSavedCodeGround: boolean;\n}\n\nexport default function Login(props: LoginProps) {\n  return <LoginForm {...props} />;\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Button } from '../Components/StyledComponents/FormComponents';\nimport { Link } from 'react-router-dom';\n\nconst Error = styled.div`\n  text-align: center;\n`;\n\nexport default function NotFound() {\n  return (\n    <>\n      <Error>\n        <h1>404 Error</h1>\n        <h3>The page you tried to access doesn't exist</h3>\n        <Link to=\"/\">\n          <Button>Take me back to the Dashboard</Button>\n        </Link>\n      </Error>\n    </>\n  );\n}\n","import React from 'react';\nimport { Route, Redirect, RouteProps } from 'react-router-dom';\n\nexport interface ProtectedRouteProps extends RouteProps {\n  permission: boolean;\n  redirectPath: string;\n  hasCodeGround?: boolean;\n}\n\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = (props) => {\n  const { permission, redirectPath, hasCodeGround, ...rest } = props;\n\n  if (!props.permission) {\n    const renderComponent = () => (\n      <Redirect to={{ pathname: props.redirectPath }} />\n    );\n    return <Route {...rest} component={renderComponent} render={undefined} />;\n  }\n  console.log(rest);\n  return <Route {...rest} />;\n};\n","import axios from 'axios';\n\nconst service = axios.create({\n  baseURL: '/api/cloudinary',\n  withCredentials: true,\n});\n\nconst errorHandler = (err: Error) => {\n  throw err;\n};\n\nconst Cloudinary = {\n  service,\n  uploadPic(pic: FormData, userId: string): Promise<string> {\n    return service\n      .post(`/new-pic/${userId}`, pic)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n};\n\nexport default Cloudinary;\n","import React, {\n  Dispatch,\n  FC,\n  FormEvent,\n  SetStateAction,\n  useState,\n} from 'react';\nimport { UserDocument } from '../../../../src/models/User';\nimport { Label, Input, Form, Button } from '../StyledComponents/FormComponents';\nimport Cloudinary from '../../services/cloudinary';\nimport axios from 'axios';\nimport { ChangeEvent } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { Spinner } from '@styled-icons/fa-solid';\n\ninterface NewPicFormProps extends RouteComponentProps {\n  user: UserDocument;\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst NewPicForm: FC<NewPicFormProps> = ({ user, setUser, history }) => {\n  const [file, setFile] = useState<File>();\n  const [uploading, setUploading] = useState(false);\n\n  const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    setFile(e.target.files[0]);\n  };\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    setUploading(true);\n\n    const pic = new FormData();\n    if (file) {\n      pic.append('pic', file, file.name);\n\n      Cloudinary.uploadPic(pic, user._id)\n        .then((picPath) => {\n          return axios\n            .get('/api/auth/logged-in')\n            .then((resp) => {\n              const user: UserDocument = resp.data;\n              setUser(user);\n              setUploading(false);\n              history.push(`/profile/${user._id}`);\n            })\n            .catch((err) =>\n              console.log('Error while retrieving the new user instance'),\n            );\n        })\n        .catch((err) => {\n          console.log('Error while adding the pic: ', err);\n        });\n    } else {\n      return;\n    }\n  };\n\n  const renderButtonText = () => {\n    if (uploading) {\n      return <Spinner size={'1.2em'} />;\n    } else {\n      return 'Upload';\n    }\n  };\n\n  return (\n    <div>\n      <Form onSubmit={handleSubmit} encType=\"multipart/Form-data\">\n        <Label htmlFor=\"pic\">Upload new profile pic:</Label>\n        <Input\n          type=\"file\"\n          name=\"pic\"\n          id=\"pic\"\n          onChange={handleFileChange}\n          required\n        />\n        <Button type=\"submit\">{renderButtonText()}</Button>\n      </Form>\n    </div>\n  );\n};\n\nexport default NewPicForm;\n","import React, { Dispatch, FC, SetStateAction } from 'react';\nimport NewPicForm from './NewPicForm';\nimport { UserDocument } from '../../../../src/models/User';\nimport { RouteComponentProps } from 'react-router-dom';\n\nexport interface ProfileEditProps extends RouteComponentProps {\n  user: UserDocument;\n  setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst ProfileEdit: FC<ProfileEditProps> = (props) => {\n  const { user, setUser } = props;\n\n  return (\n    <div>\n      <NewPicForm {...props} user={user} setUser={setUser} />\n    </div>\n  );\n};\n\nexport default ProfileEdit;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport GroundCard from '../CodeGround/CodeGroundCard';\nimport { CodeGroundPopulated } from '../../../../src/models/CodeGround';\nimport { UserDocument } from '../../../../src/models/User';\nimport { fetchUserFavourites } from '../../services/users';\nimport { RouteComponentProps } from 'react-router-dom';\n\nconst DashboardContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n`;\n\nconst GroundsContainerOuter = styled.div`\n  width: 92%;\n  min-height: 80vh;\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  justify-content: center;\n  align-items: center;\n  margin: 0em;\n  background: #2b2d3b;\n  border-radius: 2mm;\n  margin-top: 2em;\n`;\n\ninterface DashboardProps extends RouteComponentProps {\n  profileUser: UserDocument;\n  user: UserDocument | null;\n}\n\nconst FavouritesDashboard: React.FC<DashboardProps> = ({\n  profileUser,\n  user,\n  ...rest\n}) => {\n  const [codeGrounds, setCodeGrounds] = useState([] as CodeGroundPopulated[]);\n\n  useEffect(() => {\n    fetchUserFavourites(profileUser._id)\n      .then((codeGrounds: CodeGroundPopulated[]) => {\n        setCodeGrounds(codeGrounds);\n      })\n      .catch((err: Error) => console.log(err));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderCards = () => {\n    return codeGrounds.map((ground) => (\n      <GroundCard\n        key={ground._id}\n        user={user}\n        userOwnsGround={user ? ground.user._id === user._id : false}\n        codeGround={ground}\n        liked={user ? ground.likes.includes(user._id) : false}\n        favourited={user ? profileUser.favourites.includes(ground._id) : false}\n        {...rest}\n      />\n    ));\n  };\n\n  if (codeGrounds === undefined) return <h1>Loading</h1>;\n  if (codeGrounds === null) return <h1>No Favourites yet</h1>;\n\n  return (\n    <DashboardContainer>\n      <GroundsContainerOuter>{renderCards()}</GroundsContainerOuter>\n    </DashboardContainer>\n  );\n};\n\nexport default FavouritesDashboard;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport FavouriteDashboard from '../Components/Profile/FavouriteDashboard';\nimport Header from '../Components/Profile/Header';\nimport { UserDocument } from '../../../src/models/User';\nimport { ResultsContainerOuter as DashboardContainer } from './Home';\nimport {\n  Link,\n  RouteComponentProps,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { getUser } from '../services/users';\n\nconst ProfileContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 0em 1em;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  width: 60%;\n`;\n\nconst TabContainer = styled.div`\n  margin: 0em 1em;\n  padding: 0.3em 0.8em;\n  background: #2b2d3b;\n  border-top-left-radius: 0.4em;\n  border-top-right-radius: 0.4em;\n  min-width: 13em;\n`;\n\nconst H2 = styled.h3`\n  margin: 0.3em 1em;\n  text-align: center;\n`;\n\ninterface ProfileProps extends RouteComponentProps {\n  user: UserDocument | null;\n  // setUser: Dispatch<SetStateAction<UserDocument | null>>;\n}\n\nconst Profile: React.FC<ProfileProps> = ({ user, ...rest }) => {\n  const { userId } = useParams<{ userId: string }>();\n  const { path, url } = useRouteMatch();\n  const [profileUser, setProfileUser] = useState<UserDocument | null>();\n\n  useEffect(() => {\n    getUser(userId)\n      .then((profileUser) => {\n        if (!profileUser) {\n          setProfileUser(null);\n          return;\n        }\n        setProfileUser(profileUser);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  const userIsProfileOwner = () => {\n    if (!user) return false;\n    if (!profileUser) return false;\n\n    return profileUser._id === user._id;\n  };\n\n  if (profileUser === null) return <h1>User not found</h1>;\n  if (profileUser === undefined) return <h1>Loading</h1>;\n  return (\n    <ProfileContainer>\n      <Header user={profileUser} />\n\n      <TabsContainer>\n        <Link to={`/profile/${userId}/favourites`}>\n          <TabContainer>\n            <H2>Favourites</H2>\n          </TabContainer>\n        </Link>\n\n        <Link to={`/profile/${userId}`}>\n          <TabContainer>\n            <H2>\n              {userIsProfileOwner() ? 'My' : `${profileUser.username}`}{' '}\n              Codegrounds\n            </H2>\n          </TabContainer>\n        </Link>\n\n        {userIsProfileOwner() && (\n          <Link to={`/profile/${userId}/edit`}>\n            <TabContainer>\n              <H2>New Profile Pic</H2>\n            </TabContainer>\n          </Link>\n        )}\n      </TabsContainer>\n\n      <DashboardContainer>\n        <FavouriteDashboard {...rest} profileUser={profileUser} user={user} />\n      </DashboardContainer>\n    </ProfileContainer>\n  );\n};\n\nexport default Profile;\n","import React, { FC, useState } from 'react';\nimport styled from 'styled-components';\nimport { Switch, Route, RouteComponentProps, Redirect } from 'react-router-dom';\nimport { UserDocument } from '../../src/models/User';\n\n// COMPONENTS\nimport NavBar from './Components/NavBar/NavBar';\nimport Home from './Pages/Home';\nimport Profile from './Pages/Profile';\nimport CodeGround from './Pages/CodeGround';\nimport SignUp from './Pages/SignUp';\nimport Login from './Pages/Login';\nimport NotFound from './Pages/NotFound';\nimport { ProtectedRoute } from './Pages/ProtectedRoute';\nimport ProfileEdit from './Components/Profile/ProfileEdit';\nimport Favourites from './Pages/Favourites';\n\nconst AppContainer = styled.main`\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n`;\n\ninterface AppProps extends RouteComponentProps {\n  user: UserDocument | null;\n}\n\nconst App: FC<AppProps> = ({ user: UserProp, ...rest }) => {\n  const [user, setUser] = useState(UserProp);\n  const [notSavedCodeGround, setNotSavedCodeGround] = useState(false);\n  return (\n    <AppContainer>\n      <NavBar user={user} setUser={setUser} {...rest} />\n\n      <Switch>\n        <Route\n          exact\n          path=\"/home\"\n          render={(props) => <Home {...props} user={user} />}\n        />\n\n        <Route\n          exact\n          path=\"/code-ground\"\n          render={(props) => (\n            <CodeGround\n              {...props}\n              user={user}\n              setNotSavedCodeGround={setNotSavedCodeGround}\n              notSavedCodeGround={notSavedCodeGround}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/code-ground/:id\"\n          render={(props) => (\n            <CodeGround\n              {...props}\n              id={props.match.params.id}\n              user={user}\n              setNotSavedCodeGround={setNotSavedCodeGround}\n              notSavedCodeGround={notSavedCodeGround}\n            />\n          )}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/login\"\n          permission={user ? false : true}\n          redirectPath=\"/profile\"\n          render={(props: RouteComponentProps) => (\n            <Login\n              {...props}\n              setUser={setUser}\n              notSavedCodeGround={notSavedCodeGround}\n            />\n          )}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/signup\"\n          permission={user ? false : true}\n          redirectPath=\"/profile\"\n          component={SignUp}\n        />\n\n        <Route\n          exact\n          path=\"/profile/:userId\"\n          render={(props) => <Profile {...props} user={user} />}\n        />\n\n        <ProtectedRoute\n          exact={true}\n          path=\"/profile/:userId/edit\"\n          permission={user ? true : false}\n          redirectPath=\"/login\"\n          render={(props) => (\n            <ProfileEdit {...props} user={user!} setUser={setUser} />\n          )}\n        />\n\n        <Route\n          exact\n          path=\"/profile/:userId/favourites\"\n          render={(props) => <Favourites {...props} user={user} />}\n        />\n\n        <Redirect from=\"/\" to=\"/home\" />\n\n        <Route component={NotFound} />\n      </Switch>\n    </AppContainer>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { UserDocument } from '../../src/models/User';\n\naxios\n  .get('/api/auth/logged-in')\n  .then((resp) => {\n    const user: UserDocument = resp.data;\n\n    ReactDOM.render(\n      <BrowserRouter>\n        <React.StrictMode>\n          <Route path=\"/\" render={(props) => <App {...props} user={user} />} />\n        </React.StrictMode>\n      </BrowserRouter>,\n      document.getElementById('root'),\n    );\n  })\n  .catch((err) => console.log(err));\n"],"sourceRoot":""}